(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"2ZB1":function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(t){"use strict";var r=n(4),o=n(8),i=n(3),a=n(9),s=n(2).Promise,u=n(16),l=n(17);e.exports=t.SC={initialize:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i.set("oauth_token",e.oauth_token),i.set("client_id",e.client_id),i.set("redirect_uri",e.redirect_uri),i.set("baseURL",e.baseURL),i.set("connectURL",e.connectURL)},get:function(e,t){return r.request("GET",e,t)},post:function(e,t){return r.request("POST",e,t)},put:function(e,t){return r.request("PUT",e,t)},delete:function(e){return r.request("DELETE",e)},upload:function(e){return r.upload(e)},connect:function(e){return a(e)},isConnected:function(){return void 0!==i.get("oauth_token")},oEmbed:function(e,t){return r.oEmbed(e,t)},resolve:function(e){return r.resolve(e)},Recorder:u,Promise:s,stream:function(e,t){return l(e,t)},connectCallback:function(){o.notifyDialog(this.location)}}}).call(t,function(){return this}())},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports={SCAudio:n(1),SCAudioPublicApiStreamURLRetriever:n(9),MaestroCore:n(2),MaestroLoaders:n(8),MaestroHTML5Player:n(7),MaestroHLSMSEPlayer:n(3)}},function(e,t,n){e.exports=function(e,t,n,r,o,i){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=95)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(4);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";e.exports=n(64)()?Symbol:n(66)},function(e,t,n){"use strict";var r=n(17)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";var r=n(9),o=n(19),i=n(50),a=n(22);(e.exports=function(e,t){var n,i,s,u,l;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(n=s=!0,i=!1):(n=a.call(e,"c"),i=a.call(e,"e"),s=a.call(e,"w")),l={value:t,configurable:n,enumerable:i,writable:s},u?r(o(u),l):l}).gs=function(e,t,n){var s,u,l,c;return"string"!=typeof e?(l=n,n=t,t=e,e=null):l=arguments[3],null==t?t=void 0:i(t)?null==n?n=void 0:i(n)||(l=n,n=void 0):(l=t,t=n=void 0),null==e?(s=!0,u=!1):(s=a.call(e,"c"),u=a.call(e,"e")),c={get:t,set:n,configurable:s,enumerable:u},l?r(o(l),c):c}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="API error.");var r=e.call(this,n)||this;return r.statusCode=t,r}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.API_ERROR."+(this.statusCode||"TIMEOUT")},t.prototype.getStatusCode=function(){return this.statusCode},t}(n(0).errors.PlayerFatalError);t.ApiError=o},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===o}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===o)||!1}},function(e,t,n){"use strict";e.exports=n(45)()?Object.assign:n(46)},function(e,t,n){"use strict";e.exports=n(20)()?Object.setPrototypeOf:n(21)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,t||"There was no format available that a player was able to play.")||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.NOT_SUPPORTED_ERROR"},t}(n(0).errors.PlayerFatalError);t.NotSupportedError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildFadeIn=function(e){return new r({startPos:0,endPos:e,startLevel:0,endLevel:1,fromEnd:!1})},t.buildFadeOut=function(e){return new r({startPos:e,endPos:0,startLevel:1,endLevel:0,fromEnd:!0})};var r=function(){function e(e){var t=e.startPos,n=e.endPos,r=e.startLevel,o=e.endLevel,i=e.fromEnd,a=void 0!==i&&i;if(t<0)throw new Error("startPos invalid.");if(n<0||!a&&n<t||a&&t<n)throw new Error("endPos invalid.");if(r<0||r>1)throw new Error("startLevel invalid.");if(o<0||o>1)throw new Error("endLevel invalid.");this._startPos=t,this._endPos=n,this._startLevel=r,this._endLevel=o,this._fromEnd=a}return e.prototype.calculate=function(e,t){var n=this._fromEnd?t-500-this._startPos:this._startPos,r=this._fromEnd?t-500-this._endPos:this._endPos;if(e<n)return{level:this._startLevel,nextCalculatePosition:n-e};if(e<=r){var o=Math.cos((e-n)/(r-n)*Math.PI)/-2+.5;return{level:this._startLevel+(this._endLevel-this._startLevel)*o,nextCalculatePosition:e}}return{level:this._endLevel,nextCalculatePosition:1/0}},e}();t.Fade=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStreamUrlRetriever=function(){}},function(e,t,n){"use strict";function r(e,t,n){return Math.min(t,Math.max(e,n))}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(12),s=i.eventDispatcher.EventDispatcher,u=i.helpers.Promise,l=i.helpers.deferred.buildDeferred,c=function(e){function t(t,n){var r=e.call(this,t)||this;return r._onPreloadingEnabled=new s,r._onPreloadingDisabled=new s,r._onConnectionRequired=new s,r._onConnectionRecovered=new s,r._volumeAutomators=[],r._volumeScale=1,r._userVolume=1,r._volumeAutomationSupported=!1,r._timer=null,r._pauseFadeTimer=null,r._pauseFadeDeferred=null,r._pauseFade=null,r._connectionRequired=!1,r._connectionLossTimer=null,r.onPreloadingEnabled=r._onPreloadingEnabled.getHandle(),r.onPreloadingDisabled=r._onPreloadingDisabled.getHandle(),r.onConnectionRequired=r._onConnectionRequired.getHandle(),r.onConnectionRecovered=r._onConnectionRecovered.getHandle(),r._reloadStreamUrls=n,r._pausedMaxBufferLength=t.pausedMaxBufferLength,r._playingMaxBufferLength=t.playingMaxBufferLength,r._preloadingEnabled=t.preloadingEnabled,r.onPlayerProvided.subscribe(function(){return r._updateMaxBufferLength()}),r.onChange.subscribe(function(e){r.isDead()||((!1===e.playing||e.positionJumped||e.stalled||e.ended)&&r._completePauseFade(),r._pauseFade&&(!1===e.actuallyPlaying||e.ended)&&(r.removeVolumeAutomator(r._pauseFade),r._pauseFade=null),(e.positionJumped||void 0!==e.actuallyPlaying||void 0!==e.stalled)&&r._updateVolume(),void 0!==e.playing&&r._updateMaxBufferLength(),void 0!==e.loading&&r._calculateIfConnectionRequired())}),window.addEventListener("online",function(){return r._calculateIfConnectionRequired()}),window.addEventListener("offline",function(){return r._calculateIfConnectionRequired()}),r._calculateIfConnectionRequired(),r}return o(t,e),t.prototype.reload=function(){this._ensureNotDead(),this._reloadStreamUrls()},t.prototype.enablePreloading=function(){this.isDead()||this._preloadingEnabled||(this._preloadingEnabled=!0,this._updateMaxBufferLength(),this._onPreloadingEnabled.dispatch(void 0))},t.prototype.disablePreloading=function(){this.isDead()||this._preloadingEnabled&&(this._preloadingEnabled=!1,this._updateMaxBufferLength(),this._onPreloadingDisabled.dispatch(void 0))},t.prototype.isPreloadingEnabled=function(){return this._preloadingEnabled},t.prototype.pauseAfterFade=function(e){var t=this;if(this._ensureNotDead(),this._pauseFadeDeferred)return this._pauseFadeDeferred.promise;if(!this.isPlaying()||!this.isActuallyPlaying())return u.resolve(this.pause());var n=l();this._pauseFadeDeferred=n;var r=this.getPosition();if(this._pauseFade)throw new Error("Fade should not already be assigned.");return this._pauseFade=new a.Fade({startPos:r,endPos:r+e,startLevel:1,endLevel:0}),this.addVolumeAutomator(this._pauseFade),this._pauseFadeTimer=window.setTimeout(function(){t._pauseFadeDeferred=null,n.resolve(t.pause())},e+50),n.promise},t.prototype.isConnectionRequired=function(){return this._connectionRequired},t.prototype.getVolume=function(){return this._volumeAutomationSupported?this._userVolume:e.prototype.getVolume.call(this)},t.prototype.addVolumeAutomator=function(e){this._volumeAutomators.indexOf(e)<0&&(this._volumeAutomators.push(e),this._updateVolume())},t.prototype.removeVolumeAutomator=function(e){var t=this._volumeAutomators.indexOf(e);t>=0&&(this._volumeAutomators.splice(t,1),this._updateVolume())},t.prototype._triggerError=function(t){e.prototype._triggerError.call(this,t)},t.prototype.providePlayer=function(t,n,r){void 0===r&&(r=!0),this._volumeAutomationSupported=r,e.prototype.providePlayer.call(this,t,n)},t.prototype._setVolume=function(e){this._userVolume=e,this._calculateAndSetVolume()},t.prototype._kill=function(){this._timer&&window.clearTimeout(this._timer),null!==this._connectionLossTimer&&window.clearTimeout(this._connectionLossTimer),this._abortPauseFade(),e.prototype._kill.call(this)},t.prototype._calculateIfConnectionRequired=function(){var e=this;this.isLoading()&&"navigator"in window&&!window.navigator.onLine?null===this._connectionLossTimer&&(this._connectionLossTimer=window.setTimeout(function(){e._connectionLossTimer=null,e._connectionRequired=!0,e._onConnectionRequired.dispatch(void 0)},1500)):this._connectionRequired?(this._connectionRequired=!1,this._onConnectionRecovered.dispatch(void 0)):null!==this._connectionLossTimer&&(window.clearTimeout(this._connectionLossTimer),this._connectionLossTimer=null)},t.prototype._completePauseFade=function(){if(this._pauseFadeDeferred){this._pauseFadeTimer&&window.clearTimeout(this._pauseFadeTimer);var e=this._pauseFadeDeferred;this._pauseFadeDeferred=null,e.resolve(this.pause())}},t.prototype._abortPauseFade=function(){this._pauseFadeTimer&&(window.clearTimeout(this._pauseFadeTimer),this._pauseFadeTimer=null),this._pauseFadeDeferred&&(this._pauseFadeDeferred.reject(new Error("Player was killed.")),this._pauseFadeDeferred=null)},t.prototype._updateVolume=function(){var e=this;if(this._volumeAutomationSupported){this._ensureNotDead(),this._timer&&(window.clearTimeout(this._timer),this._timer=null);var t=this.getDuration();if(null!==t){var n=this._volumeAutomators,o=this.getPosition(),i=1/0,a=1;n.forEach(function(e){var n=e.calculate(o,t),s=n.nextCalculatePosition;a*=r(0,1,n.level),s<i&&(i=s)}),this._volumeScale!==a&&(this._volumeScale=a,this._calculateAndSetVolume()),i<1/0&&this.isActuallyPlaying()&&!this.isStalled()&&(this._timer=window.setTimeout(function(){e._timer=null,e._updateVolume()},r(100,5e3,i-this.getPosition())))}}},t.prototype._calculateAndSetVolume=function(){e.prototype._setVolume.call(this,this._volumeAutomationSupported?this._userVolume*this._volumeScale:this._userVolume)},t.prototype._updateMaxBufferLength=function(){var e=this.getPlayer(),t=e&&e.getBufferController();t&&(this.isPlaying()?t.setMaxBufferLength(this._playingMaxBufferLength):t.setMaxBufferLength(this._preloadingEnabled?this._pausedMaxBufferLength:0))},t}(i.ProxyPlayer);t.Player=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88);t.renditions=r.renditions},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.statusCode=e}return e.prototype.getStatusCode=function(){return this.statusCode},e}();t.RequestError=r},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(4),o={function:!0,object:!0};e.exports=function(e){return r(e)&&o[typeof e]||!1}},function(e,t,n){"use strict";var r=n(4),o=Array.prototype.forEach,i=Object.create;e.exports=function(e){var t=i(null);return o.call(arguments,function(e){r(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},function(e,t,n){"use strict";var r=Object.create,o=Object.getPrototypeOf,i={};e.exports=function(){var e=Object.setPrototypeOf;return"function"==typeof e&&o(e((arguments[0]||r)(null),i))===i}},function(e,t,n){"use strict";var r,o=n(18),i=n(1),a=Object.prototype.isPrototypeOf,s=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(e,t){if(i(e),null===t||o(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,n;return e?(2===e.level?e.set?(n=e.set,t=function(e,t){return n.call(r(e,t),t),e}):t=function(e,t){return r(e,t).__proto__=t,e}:t=function e(t,n){var o;return r(t,n),(o=a.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,o&&s(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(e=r.set).call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}()),n(48)},function(e,t,n){"use strict";e.exports=n(56)()?String.prototype.contains:n(57)},function(e,t,n){"use strict";var r=n(7),o=n(8),i=n(59),a=n(62),s=n(63),u=n(3).iterator;e.exports=function(e){return"function"==typeof s(e)[u]?e[u]():r(e)?new i(e):o(e)?new a(e):new i(e)}},function(e,t,n){"use strict";var r,o=n(34),i=n(9),a=n(2),s=n(1),u=n(5),l=n(33),c=n(3),d=Object.defineProperty,f=Object.defineProperties;e.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",s(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,i({_next:u(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:u(function(){return this._createResult(this._next())}),_createResult:u(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:u(function(e){return this.__list__[e]}),_unBind:u(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:u(function(){return"[object "+(this[c.toStringTag]||"Object")+"]"})},l({_onAdd:u(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void d(this,"__redo__",u("c",[e]));this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)}}),_onDelete:u(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:u(function(){this.__redo__&&o.call(this.__redo__),this.__nextIndex__=0})}))),d(r.prototype,c.iterator,u(function(){return this}))},function(e,t,n){"use strict";function r(e){return e.match(a)[0]}function o(e,t){if(t instanceof e.errors.RetrievalError){var n=t.getCause();if(n instanceof e.retrievalErrors.UnacceptableResponseStatusCodeError)return 403===n.getStatusCode()}return!1}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=/^[^\?#]*/;t.isErrorWhichShouldTriggerURLRefresh=o,t.takeControlHLSMSEPlayer=function(e,t,n,a,s,u,l,c,d){d=i.logger.prefixLogger(d,"HLSMSEPlayer Controller");var f=null,p=r(c);n.onChange.subscribe(function(e){e.dead&&f&&(d.debug("Aborting URL retrieve because player was killed."),f.abort())}),n.onError.subscribe(function(t){if(!(t instanceof i.errors.NotSupportedError)){if(a){if(t instanceof i.errors.URLUpdateError)return d.error("URL refresh failed for some reason.",t),void s({retryPlayer:!0});if(o(e,t))return f?void d.debug("Got a 403 status code, but URL refresh already in progress."):(d.info("Got a 403 status code. Peforming a URL refresh..."),void(f=l.getUrl()).whenComplete().then(function(e){if(e){var t=e.url,o=e.rendition;r(t)!==p||JSON.stringify(u)!==JSON.stringify(o)?(d.warn("Got a new URL but the rendition did not match the original."),s({retryPlayer:!1})):(f=null,d.info("Got a new URL. Updating..."),n.getUrlController().updateUrl(t))}else d.warn("Could not get a new URL."),s({retryPlayer:!1})}).catch(function(e){d.error("Unexpected error when trying to retrieve a new URL.",e),s({retryPlayer:!1})}))}d.error("Unexpected player error.",t),s({retryPlayer:!1})}}),t.providePlayer(n)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.GEOBLOCKED_ERROR"},t}(n(6).ApiError);t.GeoBlockedError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"There were no stream URLs.")||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.NO_STREAMS"},t}(n(11).NotSupportedError);t.NoStreamsError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,null,"Request timed out too many times.")||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.TIMED_OUT_ERROR"},t}(n(6).ApiError);t.TimedOutError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.UNAVAILABLE_ERROR"},t}(n(6).ApiError);t.UnavailableError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=n(26),i=n(11),a=n(28),s=n(29),u=n(27);!function(e){e.ApiError=r.ApiError,e.GeoBlockedError=o.GeoBlockedError,e.NotSupportedError=i.NotSupportedError,e.TimedOutError=a.TimedOutError,e.UnavailableError=s.UnavailableError,e.NoStreamsError=u.NoStreamsError}(t.errors||(t.errors={}))},function(e,t,n){"use strict";function r(){return V||((V=document.createElement("audio")).load(),V)}function o(e){var t=e.split("//",2);return 1===t.length?t[0].split("/",1)[0]:t[1]?t[1].split("/",1)[0]:""}function i(e){var t=H.exec(e);return t&&t[0]||""}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(94),u=n(13),l=n(12),c=n(73),d=n(78),f=n(14),p=n(16),h=n(26),g=n(6),y=n(29),v=n(11),_=n(28),m=n(76),b=n(25),w=n(75),E=n(15),S=n(77),P=n(80),x=n(72),T=n(74),R=a.helpers.abortableJob.AbortableJob,C=a.helpers.retry,k=C.retry,A=C.buildExponentialDelayCalculator,O=n(27),I=n(79),M=void 0;try{M=n(93)}catch(e){}var D=void 0;try{D=n(92)}catch(e){}var N=void 0;try{N=n(91)}catch(e){}var j=void 0;try{j=n(90)}catch(e){}var L=M?M.HTML5Player:null,U=D?D.HLSMSEPlayer:null,F=N?N.FlipperPlayer:null,B=j?j.ChromecastPlayer:null,H=/^[^?#]*/,q=Object.keys(E.renditions).map(function(e){return E.renditions[e]}),V=null,z=null,G={},K=-1,W=[],Q=1,J=!1,Z=new T.CacheManager(15e7,a.logger.noOpLogger);t.setGlobalVolume=function(e){if("number"!=typeof e)throw new Error("level must be a number.");if(e<0||e>1)throw new Error("Invalid volume level.");Q=e,W.forEach(function(t){return t.setVolume(e)})},t.getGlobalVolume=function(){return Q},t.setGlobalMuted=function(e){if("boolean"!=typeof e)throw new Error("muteEnabled must be a boolean.");J=e,W.forEach(function(t){return t.setMuted(e)})},t.getGlobalMuted=function(){return J},t.activateAudioElement=function(){r()},t.buildPlayer=function(e){function t(){return Re?T(Re):null}function n(){if(Oe&&window.clearTimeout(Oe),Ee.debug("Performing retrieve."),ke)throw new Error("Player job already running. Only one instance of the job is allowed at once.");if(Pe.isDead())throw new Error("Proxy is dead.");var e=new R(function(){function t(){function t(t){if(!u&&!r&&(u=!0,Ee.debug("Player releasing control.",t),e.abort(t),!Pe.isDead()))if(t&&t.retryPlayer){var o=Ie.getDelay();o>0?(Ee.debug("Waiting "+o+" ms."),Oe=window.setTimeout(function(){return n()},o)):n()}else n()}var o=Te&&Te[0];if(!o)throw new Error("No player to build.");if(!Ce)throw new Error("No rendition.");var i=Ce.rendition,s=new a.Descriptor(Ce.url,i.maestroProtocol,i.maestroFormat,i.maestroSegmentFormat),u=!1;Ee.debug("Building player...");var l=void 0,c=void 0;try{c=o(s,Ce,t)}catch(t){l=t}void 0===c?(Ee.error("Exception occurred whilst building player.",l),t()):null===c?(Ee.debug("Player not supported for current descriptor."),t()):(xe.set(c,Ce),Re=c,Ee.debug("Built player."),Re.isDead()?(Ee.debug("Player died during construction."),t()):(Z.addPlayer(Re),Re.onChange.subscribe(function(e){e.dead&&(Ee.debug("Player died."),t())})))}var r=!1,o=null;return function e(){function n(e){if(e!==a.helpers.abortableJob.abortedError)if(e instanceof p.RequestError){var t=e.getStatusCode();switch(t){case 401:Pe._triggerError(new h.GeoBlockedError(t,"Geoblocked (logged out)."));break;case 403:Pe._triggerError(new h.GeoBlockedError(t,"Geoblocked (logged in)."));break;case 404:Pe._triggerError(new y.UnavailableError(t,"Track unavailable."));break;case null:throw new Error("Status code should not be null.");default:Pe._triggerError(new g.ApiError(t))}}else e===a.helpers.retry.noMoreAttemptsError?Pe._triggerError(new _.TimedOutError):(Ee.error("Unexpected error.",e),Pe._triggerError(new a.errors.PlayerFatalError("An unexpected error occurred.",e)))}(o=k(function(){return new R(function(){var e=H.getUrl();return Ee.debug("Retrieving a URL..."),{result:e.whenComplete().then(function(e){return e?Ee.debug("Retrieved URL.",{rendition:e.rendition,bitrate:e.bitrate}):Ee.debug("No URL provided."),e&&q.indexOf(e.rendition)<0?(Ee.warn("Unknown rendition. Skipping...",e.rendition),{success:!1}):{result:e,success:!0}}).catch(function(e){if(e instanceof p.RequestError){var t=e.getStatusCode();if(null===t||0===t)return Ee.warn(null===t?"Timed out when retrieving URL. Will retry.":"Network error when retrieving URL. Will retry."),{success:!1}}throw e!==a.helpers.abortableJob.abortedError&&Ee.error("Error retrieving URL.",e),e}),abort:function(){return e.abort()}}})},ge)).onCompletion(function(r){if(r)try{Ce=r,Te||(Te=function(){var e=[];return B&&C.indexOf(B)>=0&&(Ee.debug("ChromecastPlayer found.",j.version),_e?e.push(function(e){var t=new B(e,{name:me,castContext:_e,logger:ue});return Pe.providePlayer(t,{syncPosition:!1,syncVolume:!1},!1),t}):Ee.warn("Could not construct chromecast player because context not provided.")),F&&C.indexOf(F)>=0&&(Ee.debug("FlipperPlayer found.",N.version),e.push(function(e){var t=new F(e,{name:me,logger:ue});return w.takeControlFlipperPlayer(Pe,t,Ee,Ae||void 0),t})),U&&C.indexOf(U)>=0&&(Ee.debug("HLSMSEPlayer found.",D.version),e.push(function(e,t,n){var r=new U(e,{name:me,playlistLoader:s.stringLoader,segmentLoader:s.arrayBufferLoader,keyLoader:s.arrayBufferLoader,logger:ue});return E(r,function(){return n()}),b.takeControlHLSMSEPlayer(D,Pe,r,ve,n,t.rendition,H,t.url,Ee),r})),L&&C.indexOf(L)>=0&&(Ee.debug("HTML5Player found.",M.version),e.push(function(e,t,n){var r,o=t.timeRetrieved;if(ve&&("hls"===e.getProtocol().name||void 0===o))return null;if(ve){if(void 0===o)throw new Error("Expecting timeUrlRetrieved to be set.");r={urlExpires:!0,timeUrlRetrieved:o}}else r={urlExpires:!1};var i=new L(e,{name:me,logger:ue});return E(i,function(){return n()}),m.takeControlHTML5Player(M,Pe,i,r,n,Ee),i})),e}()),Te[0]?t():(Ee.debug("Excluding rendition.",r.rendition),H.excludeRendition(r.rendition),Te=null,e())}catch(e){n(e)}else Ce?(Ee.error("There were no stream formats that were supported."),Pe._triggerError(new v.NotSupportedError)):(Ee.error("There were no streams available."),Pe._triggerError(new O.NoStreamsError))}),o.onError(n)}(),{result:a.helpers.deferred.buildDeferred().promise,abort:function(e){r=!0,Ee.info("Player job aborted.",e),ke=null,o&&o.abort(),Te&&(e&&e.retryPlayer?Ee.debug("Player might be used again for current rendition."):(Ee.debug("Player will not be used again for current rendition."),Te.shift()),Pe.getPlayer()&&Pe.removePlayer(),Re&&(Re.kill(),Re=null),Ce=null)}}}).run();return ke=e}function E(e,t){function n(){var t=e.getMediaElement();t&&t!==V&&(Ee.debug("Revoking audio element that was created internally because player is ready now."),e.revokeMediaElement())}function o(){var n=e.getMediaElement();if(n&&n!==V&&(Ee.debug("Revoking audio element that was created internally, even though player is not ready."),e.revokeMediaElement()),!e.getMediaElement()){z&&!z.isDead()&&(Ee.info("Revoking audio element from a player."),z.isPlaying()&&Ee.warn("The audio element is being revoked from a player which is playing. Only one player should be playing at once."),z.revokeMediaElement()),z=e,Ee.info("Providing audio element to a different player.");var o=G={};e.provideMediaElement(r()).catch(function(n){e.isDead()||G!==o||(Ee.error("An unexpected error occurred when trying to provide the audio element to a player.",n),t())})}}e.isReady()?n():e.onReady.subscribe(n),Pe.onPlayIntent.subscribe(function(){e.isDead()||o()}),Pe.isPlaying()&&(e.isDead()||o())}function T(e){var t=xe.get(e);if(!t)return null;var n=function(e){return e.constructor===L}(e)?"MaestroHTML5":function(e){return e.constructor===U}(e)?"MaestroHLSMSE":function(e){return e.constructor===F}(e)?"MaestroFlipper":function(e){return e.constructor===B}(e)?"MaestroChromecast":null;if(!n)throw new Error("Unknown player.");return{name:n,bitrate:t.bitrate,protocol:t.rendition.scProtocol,host:o(t.url),url:i(t.url),format:t.rendition.scFormat}}var C=e.playerClasses,H=e.streamUrlRetriever,Y=e.duration,X=void 0===Y?null:Y,$=e.preloadingEnabled,ee=void 0!==$&&$,te=e.pausedMaxBufferLength,ne=void 0===te?2e3:te,re=e.playingMaxBufferLength,oe=void 0===re?9e4:re,ie=e.fadeOutDuration,ae=void 0===ie?0:ie,se=e.logger,ue=void 0===se?a.logger.noOpLogger:se,le=e.audioPerformanceReporter,ce=e.audioReporter,de=e.audioCheckpointInterval,fe=void 0===de?3e4:de,pe=e.errorReporter,he=e.urlProviderRetryDelayCalculator,ge=void 0===he?A():he,ye=e.streamUrlsExpire,ve=void 0===ye||ye,_e=e.chromecastContext;if(!(H instanceof u.BaseStreamUrlRetriever))throw new Error("StreamUrlRetriever invalid.");if(null!==X&&("number"!=typeof X||X<0))throw new Error("duration invalid.");if("boolean"!=typeof ee)throw new Error("preloadingEnabled invalid.");if(null!==ne&&("number"!=typeof ne||ne<0))throw new Error("pausedMaxBufferLength invalid.");if(null!==oe&&("number"!=typeof oe||oe<0))throw new Error("playingMaxBufferLength invalid.");if(null!==ae&&("number"!=typeof ae||ae<0))throw new Error("fadeOutDuration invalid.");if(null!==ue&&"function"!=typeof ue&&"object"!=typeof ue)throw new Error("logger invalid.");if(void 0!==ce&&"function"!=typeof ce)throw new Error("audioReporter invalid.");if(null!==fe&&("number"!=typeof fe||fe<0))throw new Error("audioCheckpointInterval invalid.");if(void 0!==le&&"function"!=typeof le)throw new Error("audioPerformanceReporter invalid.");if(void 0!==pe&&"function"!=typeof pe)throw new Error("errorReporter invalid.");if(void 0!==ge&&"function"!=typeof ge)throw new Error("retryDelayCalculator invalid.");var me="SCAudio-"+ ++K,be=H.getTrackId();null!==be&&(me+="-"+be);var we=new P.LogCollector;ue=a.logger.cloneLogger(we,ue);var Ee=a.logger.prefixLogger(ue,me),Se=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}();Ee.info("Building player...",{ua:navigator.userAgent,logId:Se});var Pe=new f.Player({name:me+"-Proxy",logger:ue,mediaSessionEnabled:!0,pausedMaxBufferLength:ne,playingMaxBufferLength:oe,preloadingEnabled:ee},function(){ke?(Ee.debug("Reloading stream URLs..."),Ee.debug("Aborting player job that is in progress."),ke.abort(),Te=null,n()):Ee.debug("Reload requested, but not reloading as there is nothing to reload.")});W.push(Pe),Pe.setVolume(Q),Pe.setMuted(J),ae>0&&Pe.addVolumeAutomator(l.buildFadeOut(ae));var xe=new I.SCWeakMap,Te=null,Re=null,Ce=null,ke=null,Ae=null,Oe=null,Ie=new S.DecayingExponentialDelayCalculator;if(le&&(Ae=new c.AudioPerformanceEventGenerator(Pe,le,Ee,t)),ce&&new x.AudioEventGenerator(Pe,ce,fe,Ee,t),pe&&new d.ErrorEventGenerator(Pe,we,Se,be,pe,Ee,T,D||null,ve),Pe.onChange.subscribe(function(e){var t=e.playing;e.dead?(Ee.info("Player killed."),W.splice(W.indexOf(Pe),1),ke&&ke.abort(),Oe&&window.clearTimeout(Oe)):!0===t&&C.some(function(e){return function(e){return e===L||e===U}(e)})&&r()}),null!==X&&(Ee.debug("Setting initial duration.",X),Pe.setInitialDuration(X)),ee)Ee.debug("Preloading is enabled, so performing retrieve immediately."),n();else{Ee.debug("Preloading is disabled, so deferring retrieve until either a play intent or preloading is enabled.");var Me=function(){De.remove(),Ne.remove(),Ee.debug("Preloading now enabled or received a play request. Peforming retrieve."),n()},De=Pe.onPreloadingEnabled.subscribe(Me),Ne=Pe.onPlayIntent.subscribe(Me)}return Pe}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);!function(e){e.Fade=r.Fade,e.buildFadeIn=r.buildFadeIn,e.buildFadeOut=r.buildFadeOut}(t.volumeAutomation||(t.volumeAutomation={}))},function(e,t,n){"use strict";var r,o=n(47),i=n(19),a=n(2),s=n(54),u=n(2),l=n(1),c=Function.prototype.bind,d=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,i=l(t)&&u(t.value);return delete(r=o(t)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,e)?i:(t.value=c.call(i,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},r},e.exports=function(e){var t=i(arguments[1]);return null!=t.resolveContext&&a(t.resolveContext),s(e,function(e,n){return r(n,e,t)})}},function(e,t,n){"use strict";var r=n(1);e.exports=function(){return r(this).length=0,this}},function(e,t,n){"use strict";e.exports=n(36)()?Array.from:n(37)},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var r=n(3).iterator,o=n(7),i=n(38),a=n(43),s=n(2),u=n(1),l=n(4),c=n(8),d=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(e){var t,n,g,y,v,_,m,b,w,E,S=arguments[1],P=arguments[2];if(e=Object(u(e)),l(S)&&s(S),this&&this!==Array&&i(this))t=this;else{if(!S){if(o(e))return 1!==(v=e.length)?Array.apply(null,e):((y=new Array(1))[0]=e[0],y);if(d(e)){for(y=new Array(v=e.length),n=0;n<v;++n)y[n]=e[n];return y}}y=[]}if(!d(e))if(void 0!==(w=e[r])){for(m=s(w).call(e),t&&(y=new t),b=m.next(),n=0;!b.done;)E=S?f.call(S,P,b.value,n):b.value,t?(p.value=E,h(y,n,p)):y[n]=E,b=m.next(),++n;v=n}else if(c(e)){for(v=e.length,t&&(y=new t),n=0,g=0;n<v;++n)E=e[n],n+1<v&&(_=E.charCodeAt(0))>=55296&&_<=56319&&(E+=e[++n]),E=S?f.call(S,P,E,g):E,t?(p.value=E,h(y,g,p)):y[g]=E,++g;v=g}if(void 0===v)for(v=a(e.length),t&&(y=new t(v)),n=0;n<v;++n)E=S?f.call(S,P,e[n],n):e[n],t?(p.value=E,h(y,n,p)):y[n]=E;return t&&(p.value=null,y.length=v),y}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call(n(17));e.exports=function(e){return"function"==typeof e&&r.call(e)===o}},function(e,t,n){"use strict";e.exports=n(40)()?Math.sign:n(41)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,n){"use strict";var r=n(39),o=Math.abs,i=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*i(o(e)):e}},function(e,t,n){"use strict";var r=n(42),o=Math.max;e.exports=function(e){return o(0,r(e))}},function(e,t,n){"use strict";var r=n(2),o=n(1),i=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,l){var c,d=arguments[2],f=arguments[3];return n=Object(o(n)),r(l),c=s(n),f&&c.sort("function"==typeof f?i.call(f,n):void 0),"function"!=typeof e&&(e=c[e]),a.call(e,c,function(e,r){return u.call(n,e)?a.call(l,d,n[e],e,n,r):t})}}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(51),o=n(1),i=Math.max;e.exports=function(e,t){var n,a,s,u=i(arguments.length,2);for(e=Object(o(e)),s=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},a=1;a<u;++a)r(t=arguments[a]).forEach(s);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";var r=n(35),o=n(9),i=n(1);e.exports=function(e){var t=Object(i(e)),n=arguments[1],a=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,function(t){(a.ensure||t in e)&&(s[t]=e[t])}):o(s,e),s}},function(e,t,n){"use strict";var r,o=Object.create;n(20)()||(r=n(21)),e.exports=function(){var e,t,n;return r?1!==r.level?o:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){return"__proto__"===e?void(t[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(t[e]=n)}),Object.defineProperties(e,t),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return o(null===t?e:t,n)}):o}()},function(e,t,n){"use strict";e.exports=n(44)("forEach")},function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";e.exports=n(52)()?Object.keys:n(53)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(4),o=Object.keys;e.exports=function(e){return o(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r=n(2),o=n(49),i=Function.prototype.call;e.exports=function(e,t){var n={},a=arguments[2];return r(t),o(e,function(e,r,o,s){n[r]=i.call(t,a,e,r,o,s)}),n}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r=Object.create(null),o=Math.random;e.exports=function(){var e;do{e=o().toString(36).slice(2)}while(r[e]);return e}},function(e,t,n){"use strict";var r,o=n(10),i=n(22),a=n(5),s=n(3),u=n(24),l=Object.defineProperty;r=e.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?i.call(t,"key+value")?"key+value":i.call(t,"key")?"key":"value":"value",l(this,"__kind__",a("",t))},o&&o(r,u),delete r.prototype.constructor,r.prototype=Object.create(u.prototype,{_resolve:a(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),l(r.prototype,s.toStringTag,a("c","Array Iterator"))},function(e,t,n){"use strict";var r=n(7),o=n(2),i=n(8),a=n(23),s=Array.isArray,u=Function.prototype.call,l=Array.prototype.some;e.exports=function(e,t){var n,c,d,f,p,h,g,y,v=arguments[2];if(s(e)||r(e)?n="array":i(e)?n="string":e=a(e),o(t),d=function(){f=!0},"array"!==n)if("string"!==n)for(c=e.next();!c.done;){if(u.call(t,v,c.value,d),f)return;c=e.next()}else for(h=e.length,p=0;p<h&&(g=e[p],p+1<h&&(y=g.charCodeAt(0))>=55296&&y<=56319&&(g+=e[++p]),u.call(t,v,g,d),!f);++p);else l.call(e,function(e){return u.call(t,v,e,d),f})}},function(e,t,n){"use strict";var r=n(7),o=n(4),i=n(8),a=n(3).iterator,s=Array.isArray;e.exports=function(e){return!(!o(e)||!s(e)&&!i(e)&&!r(e)&&"function"!=typeof e[a])}},function(e,t,n){"use strict";var r,o=n(10),i=n(5),a=n(3),s=n(24),u=Object.defineProperty;r=e.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),u(this,"__length__",i("",e.length))},o&&o(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:i(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:i(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0))>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n})}),u(r.prototype,a.toStringTag,i("c","String Iterator"))},function(e,t,n){"use strict";var r=n(61);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,n){"use strict";var r={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag]}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,n){"use strict";var r,o,i,a,s=n(5),u=n(67),l=Object.create,c=Object.defineProperties,d=Object.defineProperty,f=Object.prototype,p=l(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(e){}}var h=function(){var e=l(null);return function(t){for(var n,r,o=0;e[t+(o||"")];)++o;return e[t+=o||""]=!0,d(f,n="@@"+t,s.gs(null,function(e){r||(r=!0,d(this,n,s(e)),r=!1)})),n}}();i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return o(e)},e.exports=o=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return a?r(t):(n=l(i.prototype),t=void 0===t?"":String(t),c(n,{__description__:s("",t),__name__:s("",h(t))}))},c(o,{for:s(function(e){return p[e]?p[e]:p[e]=o(String(e))}),keyFor:s(function(e){var t;for(t in u(e),p)if(p[t]===e)return t}),hasInstance:s("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:s("",r&&r.iterator||o("iterator")),match:s("",r&&r.match||o("match")),replace:s("",r&&r.replace||o("replace")),search:s("",r&&r.search||o("search")),species:s("",r&&r.species||o("species")),split:s("",r&&r.split||o("split")),toPrimitive:s("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:s("",r&&r.toStringTag||o("toStringTag")),unscopables:s("",r&&r.unscopables||o("unscopables"))}),c(i.prototype,{constructor:s(o),toString:s("",function(){return this.__name__})}),c(o.prototype,{toString:s(function(){return"Symbol ("+u(this).__description__+")"}),valueOf:s(function(){return u(this)})}),d(o.prototype,o.toPrimitive,s("",function(){var e=u(this);return"symbol"==typeof e?e:e.toString()})),d(o.prototype,o.toStringTag,s("c","Symbol")),d(i.prototype,o.toStringTag,s("c",o.prototype[o.toStringTag])),d(i.prototype,o.toPrimitive,s("c",o.prototype[o.toPrimitive]))},function(e,t,n){"use strict";var r=n(65);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";e.exports=n(69)()?WeakMap:n(71)},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&"function"==typeof e.set&&e.set({},1)===e&&"function"==typeof e.delete&&"function"==typeof e.has&&"one"===e.get(t)}},function(e,t,n){"use strict";e.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},function(e,t,n){"use strict";var r,o=n(10),i=n(55),a=n(1),s=n(58),u=n(5),l=n(23),c=n(60),d=n(3).toStringTag,f=n(70),p=Array.isArray,h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getPrototypeOf;e.exports=r=function(){var e,t=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return e=f&&o&&WeakMap!==r?o(new WeakMap,y(this)):this,null!=t&&(p(t)||(t=l(t))),h(e,"__weakMapData__",u("c","$weakMap$"+s())),t?(c(t,function(t){a(t),e.set(t[0],t[1])}),e):e},f&&(o&&o(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:u(r)})),Object.defineProperties(r.prototype,{delete:u(function(e){return!!g.call(i(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)}),get:u(function(e){if(g.call(i(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:u(function(e){return g.call(i(e),this.__weakMapData__)}),set:u(function(e,t){return h(i(e),this.__weakMapData__,u("c",t)),this}),toString:u(function(){return"[object WeakMap]"})}),h(r.prototype,d,u("c","WeakMap"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=1e3,i=function(){function e(e,t,n,i,a){this._checkpointTimer=null,this._logger=r.logger.prefixLogger(i,"AudioEventGenerator"),this._player=e,this._eventReporter=t,this._checkpointInterval=null!==n?Math.max(o,n):null,this._getPlayerDetails=a,this._startReporting()}return e.prototype._startReporting=function(){var e=this,t=this._player;t.onChange.subscribe(function(n){var r=n.actuallyPlaying,o=n.ended;!0===r&&!t.isEnded()||!1===o&&t.isActuallyPlaying()?(null===e._checkpointInterval||e._checkpointTimer||(e._checkpointTimer=window.setInterval(function(){e._reportEvent("checkpoint")},e._checkpointInterval)),e._reportEvent("play")):(!1===r&&!t.isEnded()||!0===o&&t.isActuallyPlaying())&&(e._checkpointTimer&&(window.clearInterval(e._checkpointTimer),e._checkpointTimer=null),e._reportEvent("pause"))})},e.prototype._reportEvent=function(e){var t=this._getPlayerDetails();if(t){var n=this._player.getDuration();if(null===n)throw new Error("Duration should exist now.");var r={type:e,position:this._player.getPosition(),duration:n,playerType:t.name};this._logger.debug("Generated audio event.",r),this._eventReporter(r)}else this._logger.warn("Cannot report event because there is no player.",e)},e}();t.AudioEventGenerator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(89),i=function(){function e(e,t,n,o){this._logger=r.logger.prefixLogger(n,"AudioPerformanceEventGenerator"),this._player=e,this._eventReporter=t,this._getPlayerDetails=o,this._measureGeneralEvents()}return e.prototype.reportManualEvent=function(e){this._logger.debug("Reporting manual audio performance event.",e),this._eventReporter(e)},e.prototype._measureGeneralEvents=function(){var e=this,t=this._player,n=null,r=null,i=null,a=null,s=!0;t.onChange.subscribe(function(u){var l=u.playing,c=u.actuallyPlaying,d=u.seeking,f=u.stalled,p=u.ended;if(t.isDead())a&&window.clearTimeout(a);else{!0===l&&(n||((n=new o.Timer).start(),a=window.setTimeout(function(){e._reportEvent("longInitialBuffering",0)},3e4),0===t.getPosition()&&(s=!1))),!1===l&&(a&&window.clearTimeout(a),n&&!n.isComplete()&&(n=null)),!0===c&&n&&!n.isComplete()&&(n.stop(),a&&window.clearTimeout(a),e._reportEvent("play",n.getTime())),!0===d&&t.isReady()&&(r=new o.Timer).start(),!1===d&&r&&(r.stop(),e._reportEvent("seek",r.getTime())),!0===f&&t.isPlaying()&&n&&n.isComplete()&&((i=new o.Timer).start(),e._reportEvent("rebufferingStart",0)),!1===f&&i&&(i.stop(),e._reportEvent("rebufferingEnd",i.getTime()),i=null),!0!==p||s||(e._reportEvent("uninterruptedPlay",0),s=!0);var h=t.getSeekState();(!h||"IN_PROGRESS"!==h.state)&&!0===f&&t.isActuallyPlaying()&&(s=!0)}})},e.prototype._reportEvent=function(e,t){var n=this._getPlayerDetails();if(n){var r={type:e,latency:t,protocol:n.protocol,playerType:n.name,host:n.host,bitrate:n.bitrate,format:n.format||void 0};this._logger.debug("Generated audio performance event.",r),this._eventReporter(r)}else this._logger.warn("Cannot report event because there is no player.",e,t)},e}();t.AudioPerformanceEventGenerator=i},function(e,t,n){"use strict";function r(e,t){var n=e.getMemoryCacheController();n&&n.setMaxCacheSize(t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(e,t){this._maxCacheSize=e,this._players=[],this._updateTimer=null,this._logger=o.logger.prefixLogger(t,"CacheManager"),this._logger.debug("Initialized with cache size "+e+" bytes.")}return e.prototype.addPlayer=function(e){var t=this;if(this._logger.debug("Adding player to cache manager."),e.isDead())this._logger.debug("Player was dead.");else{var n=this._players;e.onChange.subscribe(function(r){var o=r.playing;!0===r.dead?(t._logger.debug("Removing player that became dead."),n.splice(n.indexOf(e),1),t._update()):!0===o?(t._logger.debug("Updating because player started playing."),n.splice(n.indexOf(e),1),n.unshift(e),t._update()):!1===o&&(t._logger.debug("Updating because player became paused."),t._update())}),e.isPlaying()?n.unshift(e):n.push(e),this._update()}},e.prototype._update=function(){var e=this;if(this._updateTimer&&(window.clearTimeout(this._updateTimer),this._updateTimer=null),0!==this._players.length){var t=this._players.reduce(function(e,t){return t.isPlaying()?e.playingPlayers.push(t):e.pausedPlayers.push(t),e},{playingPlayers:[],pausedPlayers:[]}),n=t.playingPlayers,o=t.pausedPlayers,i=n.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0),a=o.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0);if(i>this._maxCacheSize){this._logger.debug("All playing players are using more than the max cache size. Cleaning...",i,this._maxCacheSize);var s=this._maxCacheSize/n.length;n.forEach(function(e){return r(e,s)}),o.forEach(function(e){return r(e,0)})}else this._logger.debug("Recalculating cache sizes...",i+a,this._maxCacheSize),n.concat(o).reduce(function(t,n){return r(n,Math.max(0,e._maxCacheSize-t)),t+(n.getMemoryCacheUsage()||0)},0);this._updateTimer=window.setTimeout(function(){return e._update()},2e4)}else this._logger.debug("There are no longer any players to manage.")},e}();t.CacheManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.takeControlFlipperPlayer=function(e,t,n,o){n=r.logger.prefixLogger(n,"FlipperPlayer Controller"),o&&t.onAudioPerformanceEvent.subscribe(function(e){var t=e.player_type,r="Flipper";t===r?o.reportManualEvent({protocol:e.protocol,type:e.type,latency:e.latency,playerType:r,host:e.host,bitrate:e.bitrate,format:e.format}):n.warn("Ignoring audio performance event from flipper because the player_type was incorrect.",t)}),e.providePlayer(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=r.helpers.time.now;t.takeControlHTML5Player=function(e,t,n,i,a,s){function u(){var e=n.getDuration(),t=l();if(null!==e&&null!==t){var r=e-n.getPosition();o()+r>t&&(s.info("Releasing control because stream URL would expire before reaching end."),a({retryPlayer:!0}))}}function l(){if(!i.urlExpires)return null;var e=n.getDuration();return null===e?null:i.timeUrlRetrieved+e+105e3}s=r.logger.prefixLogger(s,"HTML5Player Controller"),n.onError.subscribe(function(t){t instanceof r.errors.NotSupportedError||(t instanceof e.errors.NetworkError&&function(){var e=l();return null!==e&&e<=o()}()?(s.info("Releasing control as a network error occurred, and the URL has expired."),a({retryPlayer:!0})):(s.error("Unexpected player error.",t),a({retryPlayer:!1})))}),i.urlExpires&&(n.onPlayIntent.subscribe(function(){return u()}),n.onSeekIntent.subscribe(function(){return u()})),t.providePlayer(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._delayFactor=0,this._lastRequestTime=0}return e.prototype.getDelay=function(){var e=Date.now()-this._lastRequestTime;return this._lastRequestTime=Date.now(),this._delayFactor=Math.max(0,this._delayFactor-e/15e3),this._delayFactor+=1,Math.pow(2,this._delayFactor)},e}();t.DecayingExponentialDelayCalculator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(25),i=function(){function e(e,t,n,o,i,a,s,u,l){this._logger=r.logger.prefixLogger(a,"ErrorGenerator"),this._player=e,this._logCollector=t,this._logId=n,this._trackId=o,this._eventReporter=i,this._getPlayerDetails=s,this._MaestroHLSMSEPlayer=u,this._streamUrlsExpire=l,this._listenForErrors()}return e.prototype._listenForErrors=function(){var e=this;this._player.onError.subscribe(function(t){t instanceof r.errors.PlayerFatalError&&e._reportEvent(t.getCode(),null)});var t=this._player.getDuration();this._player.onDurationChange.subscribe(function(n){null!==t&&Math.abs(n-t)>1e3&&(e._logger.warn("Duration changed more than 1000ms.",t,n),e._reportEvent("DURATION_MISMATCH",e._player)),t=n}),this._player.onPlayerProvided.subscribe(function(t){t.onError.subscribe(function(n){if(!(e._streamUrlsExpire&&e._MaestroHLSMSEPlayer&&o.isErrorWhichShouldTriggerURLRefresh(e._MaestroHLSMSEPlayer,n))){var i=n.getCode();n instanceof r.errors.NotSupportedError||e._reportEvent(i,t)}})})},e.prototype._reportEvent=function(e,t){var n=t&&this._getPlayerDetails(t)||void 0,r={errorCode:e,log:this._logCollector.getLog(),logId:this._logId,trackId:this._trackId,protocol:n&&n.protocol,playerType:n?n.name:"MaestroUnknown",host:n&&n.host,bitrate:n&&n.bitrate,format:n&&(n.format||void 0),url:n&&n.url};this._logger.debug("Generated audio error event.",r),this._eventReporter(r)},e}();t.ErrorEventGenerator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),o=function(){function e(){this._map=new r}return e.prototype.get=function(e){return this._map.get(e)},e.prototype.set=function(e,t){this._map.set(e,t)},e.prototype.has=function(e){return this._map.has(e)},e.prototype.delete=function(e){return this._map.delete(e)},e}();t.SCWeakMap=o},function(e,t,n){"use strict";function r(e){return e.map(function(e){try{return JSON.stringify(e)}catch(e){return"<unavailable>"}})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){void 0===e&&(e=200),this._bufferSize=e,this._log=[]}return e.prototype.getLog=function(){return this._log},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"debug",msg:e,data:r(t),time:Date.now()})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"info",msg:e,data:r(t),time:Date.now()})},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"warn",msg:e,data:r(t),time:Date.now()})},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"error",msg:e,data:r(t),time:Date.now()})},e.prototype._push=function(e){this._log.push(e)>this._bufferSize&&this._log.shift()},e}();t.LogCollector=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiMobile={scProtocol:"sc.api-mobile",maestroProtocol:{name:"sc.api-mobile"},maestroFormat:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsMp3={scProtocol:"encrypted-hls",scFormat:"mp3",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mpeg"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsOpus={scProtocol:"encrypted-hls",scFormat:"opus",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/ogg",audioCodec:{id:"opus"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsMp3={scProtocol:"hls",scFormat:"mp3",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mpeg"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsOpus={scProtocol:"hls",scFormat:"opus",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/ogg",audioCodec:{id:"opus"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpMp3={scProtocol:"http",scFormat:"mp3",maestroProtocol:{name:"http"},maestroFormat:{mimeType:"audio/mpeg"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maestroChromecast={scProtocol:"maestro.chromecast",maestroProtocol:{name:"maestro.chromecast"},maestroFormat:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(86),o=n(84),i=n(82),a=n(81),s=n(87),u=n(85),l=n(83);t.renditions={httpMp3:r.httpMp3,hlsMp3:o.hlsMp3,encryptedHlsMp3:i.encryptedHlsMp3,hlsOpus:u.hlsOpus,encryptedHlsOpus:l.encryptedHlsOpus,apiMobile:a.apiMobile,maestroChromecast:s.maestroChromecast}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).helpers.time.now,o=function(){function e(){this._start=null,this._end=null}return e.prototype.start=function(){if(this.isComplete())throw new Error("Timer completed.");this._start=r()},e.prototype.isComplete=function(){return null!==this._end},e.prototype.stop=function(){if(null===this._start)throw new Error("Not started.");this._end=r()},e.prototype.getTime=function(){if(null===this._end)throw new Error("Not completed.");return this._end-this._start},e}();t.Timer=o},function(e,n){if(void 0===t){var r=new Error('Cannot find module "@sc/maestro-chromecast-player"');throw r.code="MODULE_NOT_FOUND",r}e.exports=t},function(e,t){if(void 0===n){var r=new Error('Cannot find module "@sc/maestro-flipper-player"');throw r.code="MODULE_NOT_FOUND",r}e.exports=n},function(e,t){if(void 0===r){var n=new Error('Cannot find module "@sc/maestro-hls-mse-player"');throw n.code="MODULE_NOT_FOUND",n}e.exports=r},function(e,t){if(void 0===o){var n=new Error('Cannot find module "@sc/maestro-html5-player"');throw n.code="MODULE_NOT_FOUND",n}e.exports=o},function(e,t){e.exports=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),t.version="12.0.0",t.buildNumber=404;var o=n(32);t.volumeAutomation=o.volumeAutomation;var i=n(13);t.BaseStreamUrlRetriever=i.BaseStreamUrlRetriever;var a=n(16);t.RequestError=a.RequestError;var s=n(14);t.Player=s.Player;var u=n(15);t.renditions=u.renditions,r(n(30)),r(n(31))}])}(n(2),function(){try{return n(!function(){var e=new Error('Cannot find module "@sc/maestro-chromecast-player"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}(),function(){try{return n(!function(){var e=new Error('Cannot find module "@sc/maestro-flipper-player"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}(),function(){try{return n(3)}catch(e){}}(),function(){try{return n(7)}catch(e){}}(),n(8))},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=39)}([function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"PLAYER_FATAL_ERROR"},t}(n(4).PlayerError);t.PlayerFatalError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=function(){function e(){this._listeners=[],this.dispatch=this.dispatch.bind(this)}return e.prototype.subscribe=function(e){var t=this,n={fn:e,payloads:[]};return this._listeners.push(n),{remove:function(){var e=t._listeners.indexOf(n);return e>=0&&(t._listeners.splice(e,1),!0)},retrieve:function(){return t._dispatchListenerPayloads(n)}}},e.prototype.dispatch=function(e,t){var n=this,o="number"==typeof t?{time:t}:t||{},i=void 0!==o.time?o.time:r.now(),a=this._listeners;a.forEach(function(t){return t.payloads.push({time:i,payload:e})});var s=!1;do{s=!a.some(function(e){var t=e.fn,r=e.payloads.shift();return!!r&&(n._callHandler(t,r),!0)})}while(!s)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype._dispatchListenerPayloads=function(e){for(var t=e.fn,n=e.payloads;;){var r=n.shift();if(!r)break;this._callHandler(t,r)}},e.prototype._callHandler=function(e,t){try{e(t.payload,t.time)}catch(e){window.setTimeout(function(){throw e},0)}},e}();t.EventDispatcher=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.buildDeferred=function(){var e,t,n=!1;return{promise:new r.Promise(function(n,r){e=n,t=r}),resolve:function(t){n||(n=!0,e(t))},reject:function(e){n||(n=!0,t(e))},isSettled:function(){return n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19).isIE();t.noOpLogger={debug:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},error:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},info:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},warn:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},t.consoleLogger={debug:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o;r?console.log(e,t):(o=console.debug||console.log).call.apply(o,[console,e].concat(t))},error:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o;r?console.log(e,t):(o=console.error||console.log).call.apply(o,[console,e].concat(t))},info:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o;r?console.log(e,t):(o=console.info||console.log).call.apply(o,[console,e].concat(t))},warn:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o;r?console.log(e,t):(o=console.warn||console.log).call.apply(o,[console,e].concat(t))}},t.prefixLogger=function(e,t){return{debug:function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return e.debug.apply(e,["["+t+"] "+n].concat(r))},error:function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return e.error.apply(e,["["+t+"] "+n].concat(r))},info:function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return e.info.apply(e,["["+t+"] "+n].concat(r))},warn:function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return e.warn.apply(e,["["+t+"] "+n].concat(r))}}},t.cloneLogger=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{debug:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.forEach(function(e){return e.debug.apply(e,[t].concat(n))})},error:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.forEach(function(e){return e.error.apply(e,[t].concat(n))})},info:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.forEach(function(e){return e.info.apply(e,[t].concat(n))})},warn:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.forEach(function(e){return e.warn.apply(e,[t].concat(n))})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._msg=e,this._cause=t}return e.prototype.getCode=function(){return"PLAYER_ERROR"},e.prototype.getMsg=function(){return this._msg},e.prototype.getCause=function(){return this._cause},e}();t.PlayerError=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r){return void 0===r&&(r="The player that the proxy was controlling had a fatal error."),e.call(this,t,n,r)||this}return r(t,e),t.prototype.getCode=function(){return"PROXY_PLAYER_PROVIDED_PLAYER_FATAL_ERROR"},t}(n(16).ProxyProvidedPlayerError);t.ProxyProvidedPlayerFatalError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deferException=function(e){try{e()}catch(e){window.setTimeout(function(){throw e},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.find=function(e,t){var n=void 0;return e.some(function(e){return!!t(e)&&(n=e,!0)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Date.now();t.now=function(){return"performance"in window&&window.performance.now?window.performance.now():Date.now()-r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(15),i=n(1),a=n(2),s=n(7),u=n(8),l=n(11),c=n(3),d=n(35),f=n(13),p=n(14),h="undefined"!=typeof navigator&&"mediaSession"in navigator?navigator.mediaSession:null,g=function(){function e(e){var t=this;this._stateManager=new d.StateManager({actuallyPlaying:!1,ended:!1,loading:!1,playing:!1,playDeferred:null,pauseDeferred:null,ready:!1,seeking:!1,seek:null,positionJumped:null,stalled:!0,duration:null,dead:!1,state:l.State.PAUSED,fatalError:null,errorOccurred:null,position:0},{afterUpdate:function(e,n){return t._afterUpdate(e,n)},afterDispatches:function(){return t._afterDispatches()},beforeUpdate:function(e){if(!e.dead){var n=t._getPosition(),r=e.duration;if(n<0)throw t._logger.error("Player provided invalid position.",n,r),t._triggerError(new p.ImplementationError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");if(null!==r&&n>r)throw t._logger.error("Player provided invalid position.",n,r),t._triggerError(new p.ImplementationError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");e.position=n,t._updateEndedInState(e)}}}),this._onError=new i.EventDispatcher,this._errors=[],this._loadingDelayTimer=null,this._stalled=!1,this._queuedDuration=null,this._readyDeferred=a.buildDeferred(),this._queuedSeekDeferreds=[],this._lastPlayError=null,this._lastPauseError=null,this._lastPlayedPosition=null,this._listenTimeBase=0,this._timePlaybackStarted=null,this._positionAfterLastUpdate=0;var n=e.name;return this._logger=c.prefixLogger(e.logger,"BasePlayer"+(n?"-"+n:"")),this._mediaSessionEnabled=!!e.mediaSessionEnabled,e.loadingDelay&&e.loadingDelay<0?void this._triggerError(new f.DependencyError("loadingDelay must be >= 0.")):(this._loadingDelay=void 0!==e.loadingDelay?e.loadingDelay:400,this.onError=this._onError.getHandle(),this.whenReady=this._readyDeferred.promise,this._stateManager.subscribe(function(e,n){return t._onChange(e,n)}),this._stateManager.subscribe(function(e,n){var r=e.playing;if(!n.dead&&void 0!==r&&e.actuallyPlaying!==r)try{t._handlePlayPauseChange(r)}catch(e){t._triggerError(new p.ImplementationError("Exception occurred whilst handling play/pause change.",e))}}),this._stateManager.subscribe(function(e,n){var r=e.seek;if(!n.dead&&r&&"IN_PROGRESS"===r.state)try{t._handleSeekChange(r.position)}catch(e){t._triggerError(new p.ImplementationError("Exception occurred whilst handling seek change.",e))}}),this._registerMediaSessionActionHandlers(),this._notifyMediaSessionPaused(),this.onChange=this._buildEventHandle(function(e,n){var r=n.ready;if(void 0!==r&&!0!==r)throw new Error("Ready state is invalid.");var o=n.duration;if(void 0!==o&&null===o)throw new Error("Duration state is invalid.");var i=n.dead;if(void 0!==i&&!0!==i)throw new Error("Dead state is invalid.");var a={ready:r,ended:n.ended,duration:o,playing:n.playing,actuallyPlaying:n.actuallyPlaying,stalled:n.stalled,loading:n.loading,playRejection:!1===n.playing&&t._lastPlayError||void 0,pauseRejection:!0===n.playing&&t._lastPauseError||void 0,seeking:n.seeking,seek:n.seek||void 0,positionJumped:void 0!==n.positionJumped||void 0,state:n.state,fatalError:n.fatalError||void 0,dead:i};Object.keys(a).some(function(e){return void 0!==a[e]})&&e(a)}),this.onDurationChange=this._buildEventHandle(function(e,t){var n=t.duration;null!=n&&e(n)}),this.onReady=this._buildEventHandle(function(e,t){!0===t.ready&&e(void 0)}),this.onStateChange=this._buildEventHandle(function(e,t){var n=t.state;void 0!==n&&e(n)}),this.onPlay=this._buildEventHandle(function(e,t){!0===t.actuallyPlaying&&e(void 0)}),this.onPlayIntent=this._buildEventHandle(function(e,t){!0===t.playing&&e(void 0)}),this.onPlayRejection=this._buildEventHandle(function(e,n){!1===n.playing&&t._lastPlayError&&e(t._lastPlayError)}),this.onPause=this._buildEventHandle(function(e,t){!1===t.actuallyPlaying&&e(void 0)}),this.onPauseIntent=this._buildEventHandle(function(e,t){!1===t.playing&&e(void 0)}),this.onPauseRejection=this._buildEventHandle(function(e,n){!0===n.playing&&t._lastPauseError&&e(t._lastPauseError)}),this.onSeek=this._buildEventHandle(function(e,t){var n=t.seek;n&&"COMPLETED"===n.state&&e(void 0)}),this.onSeekIntent=this._buildEventHandle(function(e,t){!0===t.seeking&&e(void 0)}),this.onSeekRejection=this._buildEventHandle(function(e,t){var n=t.seek;n&&"ERROR"===n.state&&e(n.error)}),this.onPositionJumped=this._buildEventHandle(function(e,t){void 0!==t.positionJumped&&e(void 0)}),this.onEnded=this._buildEventHandle(function(e,t){!0===t.ended&&e(void 0)}),this.onLeftEnded=this._buildEventHandle(function(e,t){!1===t.ended&&e(void 0)}),this.onStallStart=this._buildEventHandle(function(e,t){!0===t.stalled&&e(void 0)}),this.onStallEnd=this._buildEventHandle(function(e,t){!1===t.stalled&&e(void 0)}),this.onLoadStart=this._buildEventHandle(function(e,t){!0===t.loading&&e(void 0)}),void(this.onLoadEnd=this._buildEventHandle(function(e,t){!1===t.loading&&e(void 0)})))}return e.prototype.isReady=function(){return this._stateManager.getState().ready},e.prototype.getPosition=function(){return this._getPositionOrPositionSeekingTo()},e.prototype.getLastPlayedPosition=function(){var e=this._stateManager.getState();return e.actuallyPlaying&&!e.stalled?this.getPosition():this._lastPlayedPosition},e.prototype.getListenTime=function(){var e=this._stateManager.getState(),t=this._listenTimeBase;return e.actuallyPlaying&&!e.ended&&(t+=u.now()-this._timePlaybackStarted),t},e.prototype.isStalled=function(){return this._stateManager.getState().stalled},e.prototype.isLoading=function(){return this._stateManager.getState().loading},e.prototype.isPlaying=function(){return this._stateManager.getState().playing},e.prototype.isActuallyPlaying=function(){return this._stateManager.getState().actuallyPlaying},e.prototype.isEnded=function(){return this._stateManager.getState().ended},e.prototype.getState=function(){return this._stateManager.getState().state},e.prototype.getUrlController=function(){return null},e.prototype.getBufferController=function(){return null},e.prototype.getMemoryCacheMaxSize=function(){return null},e.prototype.getMemoryCacheUsage=function(){return null},e.prototype.getMemoryCacheController=function(){return null},e.prototype.getFatalError=function(){return this._stateManager.getState().fatalError},e.prototype.isDead=function(){return this._stateManager.getState().dead},e.prototype.getDuration=function(){var e=this._stateManager.getState();return e.ready?e.duration:null},e.prototype.setVolume=function(e){if(e<0||e>1)throw new Error("Volume must be >= 0 and <= 1.");this._setVolume(e)},e.prototype.getCurrentBufferedTimeRange=function(){var e=this.getBufferedTimeRanges();if(!e)return null;var t=this.getPosition();return s.find(e,function(e){return e.containsTime(t)})||null},e.prototype.play=function(){var e=this;this._ensureNotDead(),this._logger.debug("play() called.");var t=a.buildDeferred();return this._stateManager.update(function(n){n.playing?e._logger.debug("Intent is already to be playing."):(e._logger.debug("Requesting play."),n.playing=!0,e._lastPlayError=null),n.playDeferred&&!n.playDeferred.isSettled()||(n.playDeferred=a.buildDeferred()),t.resolve(n.playDeferred.promise)}),t.promise},e.prototype.pause=function(){var e=this;this._ensureNotDead(),this._logger.debug("pause() called.");var t=a.buildDeferred();return this._stateManager.update(function(n){n.playing?(e._logger.debug("Requesting pause."),n.playing=!1,e._lastPauseError=null):e._logger.debug("Intent is already to be paused."),n.pauseDeferred&&!n.pauseDeferred.isSettled()||(n.pauseDeferred=a.buildDeferred()),t.resolve(n.pauseDeferred.promise)}),t.promise},e.prototype.seek=function(e){var t=this;this._ensureNotDead(),this._logger.debug("seek() called.",e);var n=a.buildDeferred();return this._stateManager.update(function(r){if(e<0)t._logger.warn("Rejecting seek immediately as the position was negative."),n.reject(new Error("You were attempting to seek to a negative time."));else if(null!==r.duration&&e>r.duration)t._logger.warn("Rejecting seek immediately as the duration is now known, and the requested positon was past it."),n.reject(new Error("You were attempting to seek past the end of the media."));else{r.stalled||!r.actuallyPlaying||r.seek&&"IN_PROGRESS"===r.seek.state||(t._lastPlayedPosition=t._getPositionOrPositionSeekingTo());var o=a.buildDeferred();r.seek&&"IN_PROGRESS"===r.seek.state&&r.seek.position===e?t._logger.debug("Seek already requested to the same position.",e):(t._logger.debug("Requesting seek.",e),r.seeking=!0,r.seek={state:"IN_PROGRESS",position:e},r.positionJumped=Object.create(null)),t._queuedSeekDeferreds.push({position:e,deferred:o}),n.resolve(o.promise)}}),n.promise},e.prototype.getSeekState=function(){return this._stateManager.getState().seek},e.prototype.kill=function(){var e=this;this._stateManager.update(function(t){t.dead||(e._logger.debug("kill() called."),t.dead=!0)})},e.prototype._update=function(e){this._stateManager.update(function(){return e&&e()})},e.prototype._ensureNotDead=function(){if(this._stateManager.getState().dead)throw new Error("Player is dead.")},e.prototype._notifyStalled=function(e){this._ensureNotDead(),this._stalled!==e&&(this._logger.debug("notifyStalled() called.",e),this._stalled=e,this._stateManager.update())},e.prototype._getQueuedSeekPosition=function(){var e=this.getSeekState();return e&&"IN_PROGRESS"===e.state?e.position:null},e.prototype._provideDuration=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(n.duration!==e){var r=t._getPositionOrPositionSeekingTo();if(e<0||n.ready&&r>e)throw t._triggerError(new p.ImplementationError("Attempt to update duration to an invalid value.")),new Error("Duration cannot be less than the current position.");t._logger.debug("provideDuration() called.",e),n.ready?n.duration=e:t._queuedDuration=e}})},e.prototype._notifyPlaying=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw t._triggerError(new p.ImplementationError("Attempt to register playback as started before ready.")),new Error("Player must be ready first.");e!==n.actuallyPlaying&&(t._logger.debug("notifyPlaying() called.",e),e||n.seeking||n.stalled||(t._lastPlayedPosition=t._getPositionOrPositionSeekingTo()),n.actuallyPlaying=n.playing=e,e?t._lastPlayError=null:t._lastPauseError=null)})},e.prototype._notifyPlayRejection=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw t._triggerError(new p.ImplementationError("Attempt to reject a play request before player ready.")),new Error("Player must be ready first.");if(n.actuallyPlaying||!n.playing)throw t._triggerError(new p.ImplementationError("Attempt to reject a play request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPlayRejection() called.",e),n.playing=!1,t._lastPlayError=e})},e.prototype._notifyPauseRejection=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw t._triggerError(new p.ImplementationError("Attempt to reject pause request before player ready.")),new Error("Player must be ready first.");if(!n.actuallyPlaying||n.playing)throw t._triggerError(new p.ImplementationError("Attempt to reject pause request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPauseRejection() called.",e),n.playing=!0,t._lastPauseError=e})},e.prototype._notifySeekRejection=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw t._triggerError(new p.ImplementationError("Attempt to reject seek request before player ready.")),new Error("Player must be ready first.");if(!n.seek||"IN_PROGRESS"!==n.seek.state)throw t._triggerError(new p.ImplementationError("Attempt to reject seek request when none requested.")),new Error("A seek hasn't been requested.");if(null!==n.duration&&n.position>n.duration)throw t._triggerError(new p.ImplementationError("Attempt to reject seek request after duration changed below current position.")),new Error("Attempt to reject seek request after duration changed below current position.");t._logger.debug("notifySeekRejection() called.",e),n.seeking=!1,n.seek={state:"ERROR",error:e},n.positionJumped=Object.create(null)})},e.prototype._signalReady=function(){var e=this;this._ensureNotDead(),this._stateManager.update(function(t){if(t.ready)throw e._triggerError(new p.ImplementationError("Attempt to signal ready twice.")),new Error("Ready already signalled.");if(null===e._queuedDuration)throw e._triggerError(new p.ImplementationError("Attempt to signal ready when duration unknown.")),new Error("Duration is still unknown.");e._logger.debug("signalReady() called."),t.ready=!0,t.duration=e._queuedDuration,t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>t.duration&&(t.seeking=!1,t.seek={state:"ERROR",error:new Error("You were attempting to seek past the end of the media.")})})},e.prototype._signalSeekComplete=function(){var e=this;this._ensureNotDead(),this._stateManager.update(function(t){if(!t.ready)throw e._triggerError(new p.ImplementationError("Attempt to signal seek as complete before player ready.")),new Error("Player must be ready first.");if(!t.seek||"IN_PROGRESS"!==t.seek.state)throw e._triggerError(new p.ImplementationError("Attempt to signal seek as complete when none requested.")),new Error("There shouldn't be a seek in progress.");if(t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>t.duration)throw new Error("Seek cannot have completed given it was to a time greater than the duration.");e._logger.debug("signalSeekComplete() called."),t.seek={state:"COMPLETED",position:t.seek.position},t.seeking=!1,t.position=t.seek.position})},e.prototype._triggerError=function(e){var t=this;this._stateManager.update(function(n){var i=!1;if(n.ready&&e instanceof o.NotSupportedError&&(e=new p.ImplementationError("Invalid NotSupportedError."),i=!0),e instanceof r.PlayerFatalError?(e instanceof o.NotSupportedError?t._logger.info("NotSupportedError occurred.",e):t._logger.error("Fatal error occurred.",e),n.fatalError?t._logger.warn("A fatal error already occurred.",n.fatalError):n.fatalError=e,t._errors.push(e),n.errorOccurred=Object.create(null),n.dead=!0):(t._logger.warn("Non-fatal error occurred.",e),t._errors.push(e),n.errorOccurred=Object.create(null)),i)throw new Error("Not supported errors are only valid before the player is ready.")})},e.prototype._buildEventHandle=function(e){var t=this;return{subscribe:function(n){var r=function(e){return n(e,u.now())};return t._stateManager.subscribe(function(t){e(r,t)})}}},e.prototype._finalizeState=function(e){this._updateEndedInState(e);var t=this._getPositionOrPositionSeekingTo();if(e.dead)this._lastPlayError=new Error("Player was killed."),e.loading=!1,this._clearLoadingDelay(),e.stalled=!0,e.actuallyPlaying=!1,e.playing=!1,e.state=l.State.DEAD;else{var n=!e.ended&&(!e.ready||this._stalled||!(!e.seek||"IN_PROGRESS"!==e.seek.state));n&&!e.stalled&&!e.seeking&&e.actuallyPlaying&&(this._lastPlayedPosition=t),e.stalled=n,e.ended||!e.playing&&!e.actuallyPlaying||!e.stalled&&e.playing===e.actuallyPlaying?(e.loading=!1,this._clearLoadingDelay()):this._loadingDelay?this._scheduleLoadingDelay():e.loading=!0,this._positionAfterLastUpdate!==t&&(this._positionAfterLastUpdate=t,e.playing||e.actuallyPlaying||(e.positionJumped=Object.create(null))),e.state=this._calculateState(e)}},e.prototype._updateEndedInState=function(e){e.ended=e.ready&&this._getPositionOrPositionSeekingTo()===e.duration},e.prototype._scheduleLoadingDelay=function(){var e=this;this._loadingDelayTimer||(this._loadingDelayTimer=window.setTimeout(function(){e._stateManager.update(function(e){return e.loading=!0})},this._loadingDelay))},e.prototype._clearLoadingDelay=function(){this._loadingDelayTimer&&(window.clearTimeout(this._loadingDelayTimer),this._loadingDelayTimer=null)},e.prototype._getPositionOrPositionSeekingTo=function(){this._stateManager.update();var e=this._stateManager.getState();return e.seek&&"IN_PROGRESS"===e.seek.state?e.seek.position:e.ready&&null!==e.duration?e.position:0},e.prototype._calculateState=function(e){return e.dead?l.State.DEAD:e.loading?l.State.LOADING:e.playing&&!e.ended?l.State.PLAYING:l.State.PAUSED},e.prototype._registerMediaSessionActionHandlers=function(){var e=this;this._mediaSessionEnabled&&h&&(h.setActionHandler("play",function(){e.isDead()||e.play()}),h.setActionHandler("pause",function(){e.isDead()||e.pause()}),h.setActionHandler("seekbackward",function(){e.isDead()||e.seek(Math.max(0,e.getPosition()-5e3))}),h.setActionHandler("seekforward",function(){e.isDead()||e.seek(Math.min(e.getDuration()||0,e.getPosition()+5e3))}))},e.prototype._notifyMediaSessionPlaying=function(){this._mediaSessionEnabled&&h&&(h.playbackState="playing")},e.prototype._notifyMediaSessionPaused=function(){this._mediaSessionEnabled&&h&&(h.playbackState="paused")},e.prototype._afterUpdate=function(e,t){(t.beforeUpdate||t.update.length>0)&&(this._logger.error("Errors occurred during state update. Killing player.",t),this._triggerError(new r.PlayerFatalError("Errors occurred during state update.",t))),this._finalizeState(e)},e.prototype._afterDispatches=function(){var e=this,t=this._errors;this._errors=[],t.forEach(function(t){return e._onError.dispatch(t)})},e.prototype._onChange=function(e,t){var n=this,r=e.dead,o=e.fatalError,i=e.playing,a=e.actuallyPlaying,s=e.ended;if(!0===e.ready&&(this._logger.debug("Resolving ready deferred."),this._readyDeferred.resolve(void 0)),!0===a&&this._registerMediaSessionActionHandlers(),!0===i?this._notifyMediaSessionPlaying():!1===i&&this._notifyMediaSessionPaused(),t.pauseDeferred&&!t.pauseDeferred.isSettled()&&t.playing){var l=this._lastPauseError||new Error("Pause request aborted.");this._logger.debug("Rejecting pause deferred.",l),t.pauseDeferred.reject(l)}if(!t.playDeferred||t.playDeferred.isSettled()||t.playing||(l=this._lastPlayError||new Error("Play request aborted."),this._logger.debug("Rejecting play deferred.",l),t.playDeferred.reject(l)),t.playDeferred&&!t.playDeferred.isSettled()&&t.actuallyPlaying&&(this._logger.debug("Resolving play deferred."),t.playDeferred.resolve(void 0)),!t.pauseDeferred||t.pauseDeferred.isSettled()||t.actuallyPlaying||(this._logger.debug("Resolving pause deferred."),t.pauseDeferred.resolve(void 0)),!0===a&&!t.ended||!1===s&&t.actuallyPlaying?this._timePlaybackStarted=u.now():(!1===a&&!t.ended||!0===s&&t.actuallyPlaying)&&(this._listenTimeBase+=u.now()-this._timePlaybackStarted,this._timePlaybackStarted=null),this._queuedSeekDeferreds=this._queuedSeekDeferreds.filter(function(e){var r=e.position,o=e.deferred;if(t.seek)if("IN_PROGRESS"!==t.seek.state){if(!t.stalled||"ERROR"===t.seek.state)return"ERROR"!==t.seek.state?(n._logger.debug("Resolving seek()."),o.resolve(void 0)):(n._logger.debug("Rejecting seek().",t.seek.error),o.reject(t.seek.error)),!1}else if("IN_PROGRESS"!==t.seek.state||t.seek.position!==r)return n._logger.debug("Rejecting seek() because another seek was requested.",r),o.reject(new Error("Seek request aborted because another seek was requested to a different position.")),!1;return!0}),!0===r){this._logger.debug("Calling _kill() on player.");try{this._kill(),this._logger.info("Player killed.")}catch(e){this._triggerError(new p.ImplementationError("Exception occurred in _kill().",e)),this._logger.error("Exception when implementation was being killed.",e)}t.ready||(l=o||new Error("Player was killed."),this._logger.debug("Rejecting whenReady."),this._readyDeferred.reject(l)),this._queuedSeekDeferreds.forEach(function(e){var t=e.position,r=e.deferred,i=o||new Error("Seek aborted as player killed.");n._logger.debug("Rejecting seek().",t),r.reject(i)}),this._stateManager.kill(),this._logger.debug("Player dead.")}},e}();t.BasePlayer=g},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=n(4),a=n(0),s=n(3),u=n(1),l=n(16),c=n(5),d=function(e){function t(t){var n=e.call(this,t)||this;return n._onProvidedPlayerError=new u.EventDispatcher,n._errorHandler=null,n._changeHandler=null,n._player=null,n._instanceLock=null,n._lastPlayerPosition=0,n._volume=1,n._muted=!1,n._synced=!1,n._unsyncInProgress=!1,n._logger=s.prefixLogger(n._logger,"ProxyPlayerBase"),n.onProvidedPlayerError=n._onProvidedPlayerError.getHandle(),n}return r(t,e),t.prototype.getVolume=function(){return this._player&&this._synced?this._player.getVolume():this._volume},t.prototype.getMuted=function(){return this._player&&this._synced?this._player.getMuted():this._muted},t.prototype.setMuted=function(e){return this._player&&this._synced?this._player.setMuted(e):void(this._muted=e)},t.prototype.getBufferedTimeRanges=function(){return this._player&&this._synced?this._player.getBufferedTimeRanges():null},t.prototype.getCurrentBufferedTimeRange=function(){return this._player&&this._synced?this._player.getCurrentBufferedTimeRange():null},t.prototype.getMaxBufferLength=function(){return this._player&&this._synced?this._player.getMaxBufferLength():null},t.prototype._providePlayer=function(e,t){if(void 0===t&&(t={syncPosition:!0,syncVolume:!0}),this._ensureNotDead(),this._player)throw new Error("A player has already been provided.");this._logger.debug("providePlayer() called."),this._instanceLock=Object.create(null),this._player=e,this._sync(t)},t.prototype._removePlayer=function(){if(this._ensureNotDead(),!this._player)throw new Error("There is no player to remove.");if(this._unsyncInProgress)throw new Error("Player is currently unsyncing.");this._logger.debug("removePlayer() called."),this._instanceLock=null,this._unsync(),this._player=null,this.isReady()&&!this.isDead()&&this._notifyStalled(!0)},t.prototype._setInitialDuration=function(e){var t=this;if(this._ensureNotDead(),e<0)throw new Error("Cannot set duration to a value < 0.");null===this.getDuration()&&this._update(function(){t._ensureBelowPosition(e),t._provideDuration(e),t.isReady()||(t._signalReady(),t._handleSkippedSeek())})},t.prototype._triggerError=function(t){e.prototype._triggerError.call(this,t)},t.prototype._getPlayer=function(){return this.isDead()?null:this._player},t.prototype._setVolume=function(e){return this._player&&this._synced?this._player.setVolume(e):void(this._volume=e)},t.prototype._handlePlayPauseChange=function(e){var t=this._player;t&&(e?this._playAndHandleAbort(t):this._pauseAndHandleAbort(t))},t.prototype._handleSeekChange=function(e){var t=this._player;t&&this._synced&&t.seek(e)},t.prototype._getPosition=function(){if(this._player&&this._synced){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._synced)return this._player.getPosition()}return this._lastPlayerPosition},t.prototype._kill=function(){if(this._player&&!this._player.isDead()){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._synced&&(this._player.kill(),this._synced))throw new Error("Unsync should have happened.")}this._player=null},t.prototype._handleSkippedSeek=function(){if(this._player&&this._synced){var e=this.getSeekState(),t=this._player.getSeekState();!e||"IN_PROGRESS"!==e.state||t&&"IN_PROGRESS"===t.state||(this._logger.debug("Signalling seek as complete on proxy because provided player isn't seeking."),this._signalSeekComplete())}},t.prototype._ensureBelowPosition=function(e){this.getPosition()>e&&(this._logger.debug("Capping position.",e),this.seek(e),this.isReady()&&(this._lastPlayerPosition=e,this._signalSeekComplete()))},t.prototype._sync=function(e){var t=this,n=this._player;if(!n)throw new Error("Player should have become available by now.");return this._logger.debug("Syncing...",this.isPlaying(),this.isActuallyPlaying()),n.isDead()?void this._logger.debug("Provided player is dead."):(this._errorHandler=n.onError.subscribe(function(e){e instanceof a.PlayerFatalError?t._onProvidedPlayerError.dispatch(new c.ProxyProvidedPlayerFatalError(e,n)):(t._triggerError(e),t._onProvidedPlayerError.dispatch(new l.ProxyProvidedPlayerError(e,n)))}),this._changeHandler=n.onChange.subscribe(function(e){t._update(function(){if(t._logger.debug("Handling changes.",e),e.dead)return t._logger.debug("Player has gone to DEAD state."),t._unsync(),void(t.isDead()||e.fatalError&&t._handleFatalError(e.fatalError,n));if(void 0!==e.duration&&(t._ensureBelowPosition(e.duration),t._provideDuration(e.duration),t.isReady()||(t._signalReady(),t._handleSkippedSeek(),t._notifyStalled(n.isStalled()))),e.seek){var r=t.getSeekState();r&&"IN_PROGRESS"===r.state&&("COMPLETED"===e.seek.state&&r.position===e.seek.position?t._signalSeekComplete():"COMPLETED"===e.seek.state&&r.position!==e.seek.position?t._notifySeekRejection(new Error("Another seek occurred to a different position.")):"IN_PROGRESS"===e.seek.state&&r.position!==e.seek.position?t.seek(e.seek.position):"ERROR"===e.seek.state&&t._notifySeekRejection(e.seek.error))}void 0!==e.stalled&&t._notifyStalled(e.stalled),!1===e.playing&&e.playRejection?t.isActuallyPlaying()?(t._triggerError(new i.PlayerError("Paused because a player was provided that refused to play.")),t._notifyPlaying(!1)):t._notifyPlayRejection(e.playRejection):!1===e.playing&&(n.isActuallyPlaying()?t.pause():void 0===e.actuallyPlaying&&t.isReady()&&t._notifyPlaying(!1)),!0===e.playing&&e.pauseRejection?t._notifyPauseRejection(e.pauseRejection):!0===e.playing&&t.play(),void 0!==e.actuallyPlaying&&t._notifyPlaying(e.actuallyPlaying)})}),void this._update(function(){var r=t._instanceLock;try{if(t._notifyStalled(n.isStalled()),!t.isReady()&&n.isReady()){t._logger.debug("Provided player is already ready. Making proxy player ready.");var o=n.getDuration();t._ensureBelowPosition(o),t._provideDuration(o),t._signalReady()}if(e.syncVolume&&(n.setVolume(t._volume),n.setMuted(t._muted),t._instanceLock!==r))return;var i=t.getSeekState();if(e.syncPosition){t._logger.debug("Seeking to match position.");var s=t.getPosition();n.getPosition()!==s?n.seek(s):(t._logger.debug("Skipping seek because already at same position."),t.isReady()&&i&&"IN_PROGRESS"===i.state&&t._signalSeekComplete())}else if(i&&"IN_PROGRESS"===i.state)t._logger.debug("Seeking to match position because a seek has been queued."),n.seek(t.getPosition());else{var u=n.getSeekState();u&&"IN_PROGRESS"===u.state&&(t._logger.debug("Seeking on proxy to match seek that is in progress on provided player."),t.seek(u.position))}if(t._instanceLock!==r)return;if(n.isActuallyPlaying()?(t._logger.debug("Provided player is already playing."),t._notifyPlaying(!0)):n.isPlaying()?(t._logger.debug("Provided player is preparing to play."),t.play()):t.isPlaying()?(t._logger.debug("Calling play() on provided player to match proxy."),t._playAndHandleAbort(n)):t.isReady()&&t.isActuallyPlaying()&&(t._logger.debug("Switching to paused state, as provided player and proxy intended state is paused."),t._notifyPlaying(!1)),t._instanceLock!==r)return;t._synced=!0}catch(e){t._triggerError(new a.PlayerFatalError("Unexpected error occurred whilst syncing.",e))}}))},t.prototype._playAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling play() on provided player."),e.play(),this._instanceLock===t&&!e.isPlaying()&&this.isPlaying()&&(this._logger.debug("Provided player was not playing after play() call completed."),this.isActuallyPlaying()?(this._triggerError(new i.PlayerError("Paused because a player was provided that refused to play.")),this._notifyPlaying(!1)):this.pause())},t.prototype._pauseAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling pause() on provided player."),e.pause(),this._instanceLock===t&&e.isPlaying()&&!this.isPlaying()&&(this._logger.debug("Provided player was not paused after pause() call completed."),this.play())},t.prototype._unsync=function(){if(this._logger.debug("Unsyncing..."),this._changeHandler&&(this._changeHandler.remove(),this._changeHandler=null),this._errorHandler&&(this._errorHandler.remove(),this._errorHandler=null),this._synced){this._synced=!1,this._unsyncInProgress=!0;var e=this._player;if(e)try{this._volume=e.getVolume(),this._muted=e.getMuted(),this._lastPlayerPosition=e.getPosition()}catch(e){this._logger.error("Error whilst unsyncing.",e)}this._unsyncInProgress=!1,this._logger.debug("Unsynced.",this.isPlaying(),this.isActuallyPlaying())}else this._logger.debug("Unsynced. (Sync never completed)")},t}(o.BasePlayer);t.ProxyPlayerBase=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LOADING=0]="LOADING",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.DEAD=3]="DEAD"}(t.State||(t.State={}))},function(e,t,n){(function(t,r){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"function"==typeof e}function o(){var e=setTimeout;return function(){return e(i,1)}}function i(){for(var e=0;e<S;e+=2)(0,I[e])(I[e+1]),I[e]=void 0,I[e+1]=void 0;S=0}function a(e,t){var n=arguments,r=this,o=new this.constructor(u);void 0===o[D]&&m(o);var i=r._state;return i?function(){var e=n[i-1];T(function(){return _(i,o,e,r._result)})}():g(r,o,e,t),o}function s(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(u);return d(t,e),t}function u(){}function l(e){try{return e.then}catch(e){return U.error=e,U}}function c(t,n,r){n.constructor===t.constructor&&r===a&&n.constructor.resolve===s?function(e,t){t._state===j?p(e,t._result):t._state===L?h(e,t._result):g(t,void 0,function(t){return d(e,t)},function(t){return h(e,t)})}(t,n):r===U?h(t,U.error):void 0===r?p(t,n):e(r)?function(e,t,n){T(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?d(e,n):p(e,n))},function(t){r||(r=!0,h(e,t))});!r&&o&&(r=!0,h(e,o))},e)}(t,n,r):p(t,n)}function d(e,t){e===t?h(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof t||"object"==typeof t&&null!==t?c(e,t,l(t)):p(e,t)}function f(e){e._onerror&&e._onerror(e._result),y(e)}function p(e,t){e._state===N&&(e._result=t,e._state=j,0!==e._subscribers.length&&T(y,e))}function h(e,t){e._state===N&&(e._state=L,e._result=t,T(f,e))}function g(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+j]=n,o[i+L]=r,0===i&&e._state&&T(y,e)}function y(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)o=t[a+n],(r=t[a])?_(n,r,o,i):o(i);e._subscribers.length=0}}function v(){this.error=null}function _(t,n,r,o){var i=e(r),a=void 0,s=void 0,u=void 0,l=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return F.error=e,F}}(r,o))===F?(l=!0,s=a.error,a=null):u=!0,n===a)return void h(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,u=!0;n._state!==N||(i&&u?d(n,a):l?h(n,s):t===j?p(n,a):t===L&&h(n,a))}function m(e){e[D]=B++,e._state=void 0,e._result=void 0,e._subscribers=[]}function b(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[D]||m(this.promise),E(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&p(this.promise,this._result))):h(this.promise,new Error("Array Methods must be provided an Array"))}function w(e){this[D]=B++,this._result=this._state=void 0,this._subscribers=[],u!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof w?function(e,t){try{t(function(t){d(e,t)},function(t){h(e,t)})}catch(t){h(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}var E=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},S=0,P=void 0,x=void 0,T=function(e,t){I[S]=e,I[S+1]=t,2===(S+=2)&&(x?x(i):M())},R="undefined"!=typeof window?window:void 0,C=R||{},k=C.MutationObserver||C.WebKitMutationObserver,A="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),O="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,I=new Array(1e3),M=void 0;M=A?function(){return t.nextTick(i)}:k?function(){var e=0,t=new k(i),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():O?function(){var e=new MessageChannel;return e.port1.onmessage=i,function(){return e.port2.postMessage(0)}}():void 0===R?function(){try{var e=n(38);return void 0!==(P=e.runOnLoop||e.runOnContext)?function(){P(i)}:o()}catch(e){return o()}}():o();var D=Math.random().toString(36).substring(16),N=void 0,j=1,L=2,U=new v,F=new v,B=0;return b.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===N&&n<e;n++)this._eachEntry(t[n],n)},b.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===s){var o=l(e);if(o===a&&e._state!==N)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===w){var i=new n(u);c(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},b.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===N&&(this._remaining--,e===L?h(r,n):this._result[t]=n),0===this._remaining&&p(r,this._result)},b.prototype._willSettleAt=function(e,t){var n=this;g(e,void 0,function(e){return n._settledAt(j,t,e)},function(e){return n._settledAt(L,t,e)})},w.all=function(e){return new b(this,e).promise},w.race=function(e){var t=this;return new t(E(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},w.resolve=s,w.reject=function(e){var t=new this(u);return h(t,e),t},w._setScheduler=function(e){x=e},w._setAsap=function(e){T=e},w._asap=T,w.prototype={constructor:w,then:a,catch:function(e){return this.then(null,e)}},w.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=w},w.Promise=w,w})}).call(t,n(27),n(37))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"DEPENDENCY_ERROR"},t}(n(0).PlayerFatalError);t.DependencyError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getCode=function(){return"IMPLEMENTATION_ERROR"},t}(n(0).PlayerFatalError);t.ImplementationError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,t||"The player cannot play the provided descriptor.")||this}return r(t,e),t.prototype.getCode=function(){return"NOT_SUPPORTED_ERROR"},t}(n(0).PlayerFatalError);t.NotSupportedError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r){void 0===r&&(r="The player that the proxy was controlling had an error.");var o=e.call(this,r)||this;return o._providedPlayerError=t,o._providedPlayer=n,o}return r(t,e),t.prototype.getCode=function(){return"PROXY_PLAYER_PROVIDED_PLAYER_ERROR"},t.prototype.getProvidedPlayerError=function(){return this._providedPlayerError},t.prototype.getProvidedPlayer=function(){return this._providedPlayer},t}(n(4).PlayerError);t.ProxyProvidedPlayerError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(18);t.abortedError=new Error("Job aborted.");var i=function(){function e(e,t){void 0===t&&(t={}),this._job=e,this._opts=t,this._counter=0,this._jobControl=null,this._promise=null,this._jobCompleted=!1}return e.prototype.run=function(){var e=this;this._jobControl||(this._jobControl=this._job(),this._promise=this._jobControl.result,o.always(this._promise,function(){e._jobCompleted=!0,!1===e._opts.storeResult&&(e._jobCompleted=!1,e._promise=null,e._jobControl=null)}));var n=this._promise;this._counter++;var i=r.buildDeferred(),a=!1,s=!1,u=[],l=[];return o.always(n,function(){s||(a=!0,e._counter--)}),n.then(function(e){s||(u.forEach(function(t){try{t(e)}catch(e){window.setTimeout(function(){throw e},0)}}),i.resolve(e))},function(e){s||(l.forEach(function(t){return t(e)}),i.reject(e))}),{whenComplete:function(){return i.promise},onCompletion:function(e){u.push(e)},onError:function(e){l.push(e)},hasCompleted:function(){return a},abort:function(n){s||a||(s=!0,0==--e._counter&&!e._jobCompleted&&e._jobControl&&e._jobControl.abort&&(e._jobControl.abort(n),e._promise=null,e._jobControl=null),l.forEach(function(e){return e(t.abortedError)}),i.reject(t.abortedError))}}},e}();t.AbortableJob=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.always=function(e,t){return e.then(t,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof navigator?navigator.userAgent:"",o=!/chrome|opera/i.test(r)&&/safari/i.test(r),i=r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0,a=r.indexOf("Edge/")>=0,s=r.toLowerCase().indexOf("firefox")>=0,u=/version\/(\d+)\.(\d+)/i,l=/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)/;t.isSafari=function(){return o},t.isFirefox=function(){return s},t.getSafariVersion=function(){var e=navigator.appVersion.match(u);if(e&&e.length>=3){var t=parseInt(e[1],10),n=parseInt(e[2],10);if(!isNaN(t)&&!isNaN(n))return{major:t,minor:n}}return null},t.isIE=function(){return i},t.isEdge=function(){return a},t.getChromeVersion=function(){var e=navigator.appVersion.match(l);if(e&&e.length>=3){var t=parseInt(e[1],10),n=parseInt(e[2],10);if(!isNaN(t)&&!isNaN(n))return{major:t,minor:n}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=function(){function e(e,t){this._inCallback=!1,this._onExit=e,this._onEnter=t||null}return e.prototype.enter=function(e){var t=this;if(this._inCallback)return e?e(this._onEnterResultRetriever):void 0;this._inCallback=!0;var n=[],o=!1;this._onEnter&&(this._onEnterResultRetriever={getResult:function(e){o?r.deferException(function(){return e(t._onEnterError,t._onEnterResult)}):n.push(e)}});try{var i=e?e(this._onEnterResultRetriever):void 0;if(this._onEnter){this._onEnterError=void 0,this._onEnterResult=void 0;try{this._onEnterResult=this._onEnter()}catch(e){this._onEnterError=e}o=!0,n.forEach(function(e){return r.deferException(function(){return e(t._onEnterError,t._onEnterResult)})})}return i}finally{this._inCallback=!1,r.deferException(function(){return t._onExit(t._onEnterError,t._onEnterResult)})}},e}();t.OnExit=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){void 0===r&&(r={}),this._url=e,this._protocol=t,this._format=n,this._segmentFormat=r}return e.prototype.getUrl=function(){return this._url},e.prototype.getProtocol=function(){return this._protocol},e.prototype.getFormat=function(){return this._format},e.prototype.getSegmentFormat=function(){return this._segmentFormat},e}();t.Descriptor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=n(15),i=n(28),a=n(14),s=n(5),u=n(4),l=n(0);!function(e){e.PlayerError=u.PlayerError,e.PlayerFatalError=l.PlayerFatalError,e.DependencyError=r.DependencyError,e.NotSupportedError=o.NotSupportedError,e.URLUpdateError=i.URLUpdateError,e.ImplementationError=a.ImplementationError,e.ProxyProvidedPlayerFatalError=s.ProxyProvidedPlayerFatalError}(t.errors||(t.errors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(17),i=n(33),a=n(20),s=n(7),u=n(30),l=n(8),c=n(32),d=n(18),f=n(31),p=n(29),h=n(6),g=n(19),y=n(34);!function(e){e.OnExit=a.OnExit,e.find=s.find,e.Promise=c.Promise,e.always=d.always,e.compact=f.compact,e.deferException=h.deferException,function(e){e.buildCache=u.buildCache}(e.cache||(e.cache={})),function(e){e.buildDeferred=r.buildDeferred}(e.deferred||(e.deferred={})),function(e){e.getExtension=y.getExtension,e.buildAbsoluteUrl=y.buildAbsoluteUrl}(e.url||(e.url={})),function(e){e.AbortableJob=o.AbortableJob,e.abortedError=o.abortedError}(e.abortableJob||(e.abortableJob={})),function(e){e.noMoreAttemptsError=i.noMoreAttemptsError,e.retry=i.retry,e.buildExponentialDelayCalculator=i.buildExponentialDelayCalculator}(e.retry||(e.retry={})),function(e){e.isSafari=g.isSafari,e.getSafariVersion=g.getSafariVersion,e.isIE=g.isIE,e.isEdge=g.isEdge,e.isFirefox=g.isFirefox,e.getChromeVersion=g.getChromeVersion}(e.browser||(e.browser={})),function(e){e.combine=p.combine,e.numberToUint8Array=p.numberToUint8Array,e.createVintBuffer=p.createVintBuffer}(e.arrayBuffer||(e.arrayBuffer={})),function(e){e.now=l.now}(e.time||(e.time={}))}(t.helpers||(t.helpers={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(1),i=function(){function e(){this._aborted=!1,this._requestStarted=!1,this._response=null,this._responseDeferred=r.buildDeferred(),this._requestStartedDeferred=r.buildDeferred(),this._onRequestStart=new o.EventDispatcher,this.onRequestStart=this._onRequestStart.getHandle(),this.whenRequestStarted=this._requestStartedDeferred.promise}return e.prototype.getResponse=function(){return this._responseDeferred.promise},e.prototype.hasRequestStarted=function(){return this._requestStarted},e.prototype.hasCompleted=function(){return!!this._response||this._aborted},e.prototype.abort=function(){if(!this._aborted){if(this._aborted=!0,this._response)throw new Error("Already have a response.");this._abort(),this._responseDeferred.reject(new Error("Aborted.")),this._requestStarted||this._requestStartedDeferred.reject(new Error("Aborted."))}},e.prototype._provideResponse=function(e){if(this._aborted)throw new Error("Response aborted.");if(this._response)throw new Error("Response already provided.");if(e instanceof Error)this._aborted=!0,this._responseDeferred.reject(e);else{if(!this._requestStarted)throw new Error("Request hasn't started yet.");this._response=e,this._responseDeferred.resolve(e)}},e.prototype._signalRequestStart=function(){if(this._aborted)throw new Error("Response aborted.");if(this._requestStarted)throw new Error("Request already started.");this._requestStarted=!0,this._requestStartedDeferred.resolve(void 0),this._onRequestStart.dispatch(void 0)},e}();t.LoaderRequest=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(3),a=n(10),s=n(5),u=function(e){function t(t){var n=e.call(this,t)||this;return n._onPlayerProvided=new o.EventDispatcher,n._onPlayerRemoved=new o.EventDispatcher,n._shouldPassThroughFatalErrors=!!t.shouldPassThroughFatalErrors,n.onPlayerProvided=n._onPlayerProvided.getHandle(),n.onPlayerRemoved=n._onPlayerRemoved.getHandle(),n._logger=i.prefixLogger(n._logger,"ProxyPlayer"),n}return r(t,e),t.prototype.providePlayer=function(e,t){void 0===t&&(t={syncPosition:!0,syncVolume:!0}),this._providePlayer(e,t),this._onPlayerProvided.dispatch(e)},t.prototype.removePlayer=function(){var e=this._getPlayer();if(!e)throw new Error("There is no player to remove.");this._removePlayer(),this._onPlayerRemoved.dispatch(e)},t.prototype.setInitialDuration=function(e){this._setInitialDuration(e)},t.prototype.getPlayer=function(){return this._getPlayer()},t.prototype._handleFatalError=function(e,t){this._triggerError(this._shouldPassThroughFatalErrors?e:new s.ProxyProvidedPlayerFatalError(e,t))},t}(a.ProxyPlayerBase);t.ProxyPlayer=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){if(this.start=e,this.duration=t,t<0)throw new RangeError("Duration must be >= 0.");this.end=e+t}return e.normalizeRawTimeRanges=function(e){return e.slice(0).sort(function(e,t){return e.start-t.start}).reduce(function(e,t,n){var r=e.length-1;return n>0&&e[r].end>=t.start?e[r].end=t.end:e.push(t),e},[])},e.normalize=function(t){return e.normalizeRawTimeRanges(t.map(function(e){return{start:e.start,end:e.end}})).map(function(t){return new e(t.start,t.end-t.start)})},e.getCoverage=function(t){if(0===t.length)return new e(0,0);var n=1/0,r=0;return t.forEach(function(e){e.start<n&&(n=e.start),e.end>r&&(r=e.end)}),new e(n,r-n)},e.rangesContainTime=function(e,t){return t.some(function(t){return t.containsTime(e)})},e.prototype.containsTime=function(e){return this.start<=e&&this.end>e},e}();t.TimeRange=r},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(){h&&f&&(h=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!h){var e=o(i);h=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,h=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,c,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var f,p=[],h=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this,t||"The URL update failed for some reason.",n)||this}return r(t,e),t.prototype.getCode=function(){return"URL_UPDATE_ERROR"},t}(n(0).PlayerFatalError);t.URLUpdateError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combine=function(e){var t=new Uint8Array(e.reduce(function(e,t){return e+t.byteLength},0)),n=0;return e.forEach(function(e){t.set(e,n),n+=e.byteLength}),t},t.numberToUint8Array=function(e,t){if(void 0===t&&(t=!1),(e=Math.round(e))<0)throw new Error("Negative numbers not supported.");for(var n=Math.max(1,Math.ceil(Math.log(e+1)/Math.log(2)/8)),r=new Uint8Array(n),o=0;o<n;o++)r[t?o:n-1-o]=255&e,e>>>=8;return r},t.createVintBuffer=function(e){if(e<0||e>Math.pow(2,53))throw new Error("Unrepresentable value: "+e);var t;for(t=1;t<=8&&!(e<Math.pow(2,7*t)-1);t++);for(var n=new Uint8Array(t),r=1;r<=t;r++){var o=255&e;n[t-r]=o,e-=o,e/=Math.pow(2,8)}return n[0]|=1<<8-t,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o="undefined"!=typeof window&&"Map"in window;t.buildCache=function(){return o?new window.Map:new i};var i=function(){function e(){this._store=[]}return e.prototype.set=function(e,t){var n=r.find(this._store,function(t){return t.key===e});n?n.val=t:this._store.push({key:e,val:t})},e.prototype.get=function(e){var t=r.find(this._store,function(t){return t.key===e});if(t)return t.val},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compact=function(e){return e.filter(function(e){return null!=e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.Promise=r.Promise},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(2);t.noMoreAttemptsError=new Error("No more attempts remaining."),t.retry=function(e,n,i,a){return void 0===i&&(i=window.setTimeout),void 0===a&&(a=window.clearTimeout),new r.AbortableJob(function(){var r=o.buildDeferred(),s=0,u=null,l=null,c=function(){(u=e(s).run()).onCompletion(function(e){if(u=null,e.success)r.resolve(e.result);else{var o=n(++s);null!==o&&o<0?r.reject(new Error("Delay must be null or >= 0.")):null===o?r.reject(t.noMoreAttemptsError):l=i(function(){l=null,c()},o)}}),u.onError(function(e){u=null,r.reject(e)})};return c(),{result:r.promise,abort:function(){u&&u.abort(),l&&a(l)}}}).run()},t.buildExponentialDelayCalculator=function(e){var t=void 0===e?{}:e,n=t.timeBase,r=void 0===n?500:n,o=t.threshold,i=void 0===o?3:o,a=t.delayCap,s=void 0===a?45e3:a,u=t.jitter,l=void 0===u?200:u,c=t.maxAttempts,d=void 0===c?null:c;if(r<=0)throw new Error("Time base must be > 0.");if(i<=0)throw new Error("Threshold must be > 0.");if(0===s)throw new Error("Delay cap must be null or > 0.");if(null!==d&&d<1)throw new Error("Max attempts must be >= 1.");return function(e){if(null!==d&&e>=d)return null;var t=e>0?Math.pow(2,e/i-1):0;return Math.min(t*r,s||1/0)+Math.round(Math.random()*l)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),o=/^.*\.([^\.;\?#]*).*$/;t.getExtension=function(e){var t=o.exec(e);return t?t[1].toLowerCase():null},t.buildAbsoluteUrl=function(e,t){return r.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}},function(e,t,n){"use strict";function r(e){var t=Object.create(null);return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),i=n(6),a=function(){},s=function(){function e(e,t){void 0===t&&(t={});var n=this;this._subscribers=[],this._onExit=new o.OnExit(function(){return n._after()},function(){return n._onEnter()}),this._beforeUpdateError=void 0,this._inAfterUpdate=!1,this._dead=!1,this._officiallyDead=!1,this._errors=[],this._state=r(e),this._initialState=r(e),this._beforeUpdate=t.beforeUpdate||function(){},this._afterUpdate=t.afterUpdate||a,this._afterDispatches=t.afterDispatches||a}return e.prototype.subscribe=function(e,t){var n=this;if(void 0===t&&(t=!0),this._dead){var o=!1;return{retrieve:function(){},remove:function(){return!o&&(o=!0)}}}var i={callback:e,localState:t?r(this._state):this._initialState};return this._subscribers.push(i),t||this._updateSubscriber(i),{remove:function(){var t=n._subscribers.map(function(e){return e.callback}).indexOf(e);return t>=0&&(n._subscribers.splice(t,1),!0)},retrieve:function(){n._updateSubscriber(i)}}},e.prototype.subscribeIndividual=function(e,t,n){return this.subscribe(function(n){var r=n[e];void 0!==r&&t(r)},n)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype.getIndividualHandle=function(e){var t=this;return{subscribe:function(n){return t.subscribeIndividual(e,n)}}},e.prototype.update=function(e){var t=this;this._officiallyDead||(this._inAfterUpdate?e&&e(this._state,this._beforeUpdateError):this._onExit.enter(function(n){n.getResult(function(){try{e&&e(t._state,t._beforeUpdateError)}catch(e){t._errors.push(e)}})}))},e.prototype.getState=function(){return this._state},e.prototype.kill=function(){var e=this;this._dead||(this._dead=!0,window.setTimeout(function(){e._subscribers.splice(0),e._officiallyDead=!0},0))},e.prototype.isDead=function(){return this._dead},e.prototype._onEnter=function(){this._beforeUpdateError=void 0;try{this._beforeUpdate(this._state)}catch(e){this._beforeUpdateError=e}},e.prototype._after=function(){var e=this,t=this._errors;this._errors=[],i.deferException(function(){e._inAfterUpdate=!0;try{e._afterUpdate(e._state,{beforeUpdate:e._beforeUpdateError,update:t})}catch(t){throw e._inAfterUpdate=!1,t}e._inAfterUpdate=!1,e._subscribers.slice().forEach(function(t){return e._updateSubscriber(t)}),e._afterDispatches(e._state)})},e.prototype._updateSubscriber=function(e){var t=this._calculateDiff(e.localState);Object.keys(t).length&&(e.localState=r(this._state),i.deferException(function(){return e.callback(t,e.localState)}))},e.prototype._calculateDiff=function(e){var t=this,n=Object.create(null);return Object.keys(this._state).forEach(function(r){var o=t._state[r];o!==e[r]&&(n[r]=o)}),n},e}();t.StateManager=s},function(e,t,n){!function(t){var n=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/;?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var o=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");return o.path=a.normalizePath(o.path),a.buildURLFromParts(o)}var i=this.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=a.normalizePath(i.path),a.buildURLFromParts(i)):t;var s=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(l.netLoc=s.netLoc,"/"!==i.path[0]))if(i.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+i.path;l.path=a.normalizePath(d)}else l.path=s.path,i.params||(l.params=s.params,i.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(i.path):i.path),a.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a}()},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="13.0.0",t.buildNumber=1085;var r=n(1),o=n(24),i=n(3),a=n(25);t.ProxyPlayer=a.ProxyPlayer;var s=n(10);t.ProxyPlayerBase=s.ProxyPlayerBase;var u=n(22);t.errors=u.errors;var l=n(23);t.helpers=l.helpers;var c=n(9);t.BasePlayer=c.BasePlayer;var d=n(21);t.Descriptor=d.Descriptor;var f=n(11);t.State=f.State;var p=n(26);t.TimeRange=p.TimeRange,(t.eventDispatcher||(t.eventDispatcher={})).EventDispatcher=r.EventDispatcher,(t.loader||(t.loader={})).LoaderRequest=o.LoaderRequest,function(e){e.noOpLogger=i.noOpLogger,e.consoleLogger=i.consoleLogger,e.prefixLogger=i.prefixLogger,e.cloneLogger=i.cloneLogger}(t.logger||(t.logger={}))}])},function(e,t,n){e.exports=function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.MSE_ERROR"},t}(n(0).errors.PlayerFatalError);t.MSEError=o},function(e,n){e.exports=t},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"An error occurred trying to append to the buffer.",t)||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.APPEND_ERROR"},t}(n(1).MSEError);t.AppendError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"An error occurred trying to initialize the buffer.",t)||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.INITIALIZE_ERROR"},t}(n(1).MSEError);t.InitializeError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"A format could not be determined.")||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_FORMAT_DETERMINED_ERROR"},t}(n(0).errors.NotSupportedError);t.NoFormatDeterminedError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"A transmuxer could not be found.")||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_TRANSMUXER_ERROR"},t}(n(0).errors.NotSupportedError);t.NoTransmuxerError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,"An error occurred when trying to retrieve a segment/key.",t)||this;return n._internalRetrievalError=t,n}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.RETRIEVAL_ERROR."+this._internalRetrievalError.getCode()},t}(n(0).errors.PlayerError);t.RetrievalError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"The playlist type is not supported.")||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.UNSUPPORTED_PLAYLIST_TYPE_ERROR"},t}(n(0).errors.PlayerFatalError);t.UnsupportedPlaylistTypeError=o},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(4),i=n(1),a=n(5),s=n(6),u=n(7),l=n(8);!function(e){e.AppendError=r.AppendError,e.InitializeError=o.InitializeError,e.MSEError=i.MSEError,e.NoFormatDeterminedError=a.NoFormatDeterminedError,e.NoTransmuxerError=s.NoTransmuxerError,e.RetrievalError=u.RetrievalError,e.UnsupportedPlaylistTypeError=l.UnsupportedPlaylistTypeError}(t.errors||(t.errors={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(2),a=n(9),s=n(12),u=n(13),l=n(8),c=n(3),d=n(4),f=n(7),p=n(6),h=n(5),g=o.helpers.find,y=o.helpers.Promise,v=o.helpers.time.now,_=o.helpers.deferred.buildDeferred,m=o.errors.DependencyError,b=o.errors.PlayerFatalError,w=o.errors.URLUpdateError,E=o.eventDispatcher.EventDispatcher,S=o.logger.prefixLogger,P=o.helpers.abortableJob.abortedError,x=o.helpers.browser.getSafariVersion(),T=o.helpers.browser.isSafari(),R=o.helpers.browser.isFirefox(),C=o.helpers.browser.isEdge(),k=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._onPlaylistRequestQueued=new E,r._onPlaylistRequestStart=new E,r._onPlaylistRetrieved=new E,r._onPlaylistRequestFailed=new E,r._onInitDataRequestQueued=new E,r._onInitDataRequestStart=new E,r._onInitDataRetrieved=new E,r._onInitDataRequestFailed=new E,r._onKeyRequestQueued=new E,r._onKeyRequestStart=new E,r._onKeyRetrieved=new E,r._onKeyRequestFailed=new E,r._onPlaylistParseStart=new E,r._onPlaylistParseEnd=new E,r._onSegmentRequestQueued=new E,r._onSegmentRequestStart=new E,r._onSegmentRetrieved=new E,r._onSegmentRequestFailed=new E,r._onSegmentTransmuxStart=new E,r._onSegmentTransmuxEnd=new E,r._onSegmentDecryptionStart=new E,r._onSegmentDecryptionEnd=new E,r._onSegmentReady=new E,r._onSegmentAppendQueued=new E,r._onSegmentAppendEnd=new E,r._playlist=null,r._playlistSegmentRetriever=null,r._initialPlaylistRetrieveCompleted=!1,r._mse=null,r._simpleMSE=null,r._retrieveDurationDeferred=_(),r._html5PlayerReady=!1,r._startPositionOffset=0,r._transmuxerAndMSEType=null,r._lastSegmentAppended=null,r._maxBufferLength=null,r._cacheSize=null,r._onFirstSegmentRetrieved=null,r._seekAttemptTimer=null,r._seekMetadataEventHandle=null,r._playlistDuration=null,r._logger=S(r._logger,"HLSMSEPlayer"),r.onPlaylistRequestQueued=r._onPlaylistRequestQueued.getHandle(),r.onPlaylistRequestStart=r._onPlaylistRequestStart.getHandle(),r.onPlaylistRetrieved=r._onPlaylistRetrieved.getHandle(),r.onPlaylistRequestFailed=r._onPlaylistRequestFailed.getHandle(),r.onInitDataRequestQueued=r._onInitDataRequestQueued.getHandle(),r.onInitDataRequestStart=r._onInitDataRequestStart.getHandle(),r.onInitDataRetrieved=r._onInitDataRetrieved.getHandle(),r.onInitDataRequestFailed=r._onInitDataRequestFailed.getHandle(),r.onKeyRequestQueued=r._onKeyRequestQueued.getHandle(),r.onKeyRequestStart=r._onKeyRequestStart.getHandle(),r.onKeyRetrieved=r._onKeyRetrieved.getHandle(),r.onKeyRequestFailed=r._onKeyRequestFailed.getHandle(),r.onPlaylistParseStart=r._onPlaylistParseStart.getHandle(),r.onPlaylistParseEnd=r._onPlaylistParseEnd.getHandle(),r.onSegmentRequestQueued=r._onSegmentRequestQueued.getHandle(),r.onSegmentRequestStart=r._onSegmentRequestStart.getHandle(),r.onSegmentRetrieved=r._onSegmentRetrieved.getHandle(),r.onSegmentRequestFailed=r._onSegmentRequestFailed.getHandle(),r.onSegmentTransmuxStart=r._onSegmentTransmuxStart.getHandle(),r.onSegmentTransmuxEnd=r._onSegmentTransmuxEnd.getHandle(),r.onSegmentDecryptionStart=r._onSegmentDecryptionStart.getHandle(),r.onSegmentDecryptionEnd=r._onSegmentDecryptionEnd.getHandle(),r.onSegmentReady=r._onSegmentReady.getHandle(),r.onSegmentAppendQueued=r._onSegmentAppendQueued.getHandle(),r.onSegmentAppendEnd=r._onSegmentAppendEnd.getHandle(),r.__descriptor=t,r.__playerDependencies=n,r._url=t.getUrl(),r}return r(t,e),t.prototype.getBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?o.TimeRange.normalize(e.getSegmentsWithData().map(function(e){return e.segment.getTimeRange()})):[]},t.prototype.getMaxBufferLength=function(){return this._maxBufferLength},t.prototype.getBufferController=function(){var e=this;return{setMaxBufferLength:function(t){if(t<0)throw new Error("Max buffer length cannot be < 0.");e._logger.debug("Updating max buffer length.",t),e._maxBufferLength=t,e._playlistSegmentRetriever?e._playlistSegmentRetriever.updateMaxBufferLength(t):e._logger.debug("Cannot update right now. Playlist segment retriever doesn't exist.")}}},t.prototype.getUrlController=function(){var e=this;return{updateUrl:function(t){return e._logger.debug("Updating URL.",t),e._url=t,e._playlist?(e._playlistRetrieveJob&&(e._playlistRetrieveJob.abort(),e._playlistRetrieveJob=null,e._logger.debug("Aborted playlist retrieve job.")),e._playlistSegmentRetriever&&(e._playlistSegmentRetriever.switchPlaylist(null),e._logger.debug("Removed current URL.")),e._playlist=null,void e._retrievePlaylist()):void e._logger.debug("Cannot update right now. Playlist doesn't exist yet.")}}},t.prototype.getMemoryCacheMaxSize=function(){return null!==this._cacheSize?this._cacheSize:1e8},t.prototype.getMemoryCacheUsage=function(){return this._playlistSegmentRetriever?this._playlistSegmentRetriever.getCacheUsage():0},t.prototype.getMemoryCacheController=function(){var e=this;return{setMaxCacheSize:function(t){if(t<0)throw new Error("Max size cannot be < 0.");e._logger.debug("Updating maximum cache size.",t),e._cacheSize=t,e._playlistSegmentRetriever&&e._playlistSegmentRetriever.updateCacheSize(t)}}},t.prototype._canPlay=function(){var t=this;return s.MSE.isSupported()?e.prototype._canPlay.call(this).then(function(e){if(!0!==e)return y.resolve(e);var n=t.__descriptor.getSegmentFormat();if(void 0===n.mimeType)return t._logger.debug("Format could not be determined."),y.resolve(new h.NoFormatDeterminedError);var r=t._findTransmuxer(n);if(!r)return t._logger.debug("No transmuxer found."),y.resolve(new p.NoTransmuxerError);var o=r.getOutputFormat();return t._transmuxerAndMSEType={transmuxer:r,mseType:t._buildMimeTypeAndCodecString(o,n)},y.resolve(!0)}):(this._logger.debug("MSE not supported."),y.resolve(!1))},t.prototype._canPlayProtocol=function(e){return"hls"===e.name},t.prototype._canPlayType=function(e){return"application/x-mpegURL"===e},t.prototype._retrieveDuration=function(){return this._retrieveDurationDeferred.promise},t.prototype._signalReady=function(){this._html5PlayerReady=!0,this._initialPlaylistRetrieveCompleted&&e.prototype._signalReady.call(this)},t.prototype._initialize=function(){var t=this.__playerDependencies;if(null===this._maxBufferLength)if(void 0!==t.maxBufferLength){if(t.maxBufferLength<0)return void this._triggerError(new m("maxBufferLength cannot be < 0."));this._maxBufferLength=t.maxBufferLength}else this._maxBufferLength=3e4;if(this._logger.debug("Initialized max buffer length.",this._maxBufferLength),null===this._cacheSize)if(void 0!==t.memoryCacheSize){if(t.memoryCacheSize<0)return void this._triggerError(new m("memoryCacheSize cannot be < 0."));this._cacheSize=t.memoryCacheSize}else this._cacheSize=1e8;this._logger.debug("Initialized cache size.",this._cacheSize),e.prototype._initialize.call(this),this._retrievePlaylist()},t.prototype._initMediaElement=function(t,n){if(this._simpleMSE&&(this._simpleMSE.kill(),this._simpleMSE=null,this._logger.debug("Killed SimpleMSE.")),this._mse&&(this._mse.kill(),this._mse=null,this._logger.debug("Killed MSE.")),null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled seek attempt timer.")),this._onFirstSegmentRetrieved=null,this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null),null===n)e.prototype._initMediaElement.call(this,t,null);else{this._initMSE();var r=this._mse.getUrl();this._logger.debug("Setting MSE url.",r),e.prototype._initMediaElement.call(this,t,r)}},t.prototype._shouldBeEnded=function(){if(!T)return e.prototype._shouldBeEnded.call(this);if(e.prototype._shouldBeEnded.call(this))return!0;if(!this.getMediaElement())return!1;var t=this._duration;return this._stallDetected&&null!==t&&this._getTruePosition()>=t-600},t.prototype._getTruePosition=function(){if(!this.getMediaElement())throw new Error("Media element should exist.");return this._startPositionOffset+this._getMediaElementPosition()},t.prototype._handleSeekChange=function(t){e.prototype._handleSeekChange.call(this,t),this._playlistSegmentRetriever&&(this._logger.debug("Explicitly updating playlist segment retriever, as seek requested."),this._playlistSegmentRetriever.update(),this._findSegmentAndAppendToMSE())},t.prototype._performSeek=function(t,n){var r=this,o=this._simpleMSE,i=this._mse,a=this.getMediaElement();if(!i)throw new Error("MSE should exist.");if(!a)throw new Error("Media element should exist.");var s=!a.paused;null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled previous seek attempt timer.")),this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null,this._logger.debug("Removed previous loaded metadata event handler.")),o&&o.kill(),i.kill(),this._logger.debug("SimpleMSE and MSE destroyed."),this._startPositionOffset=t;var u=null;this._onFirstSegmentRetrieved=function(e){return u=e},this._logger.debug("Initializing MSE and SimpleMSE for new position."),this._initMSE();var l=this._mse.getUrl();if(this._logger.debug("Updated media element MSE src.",l),e.prototype._initMediaElement.call(this,a,l),s){this._logger.debug("Calling play() on media element as it was playing previously.");var c=a.play();c&&c.catch&&c.catch(function(e){"AbortError"!==e.name&&(r._logger.error("Unexpected play() error.",e),r._triggerError(new b("Exception from calling play() after seek.",e)))})}var d=function(e){(x&&x.major<11||R)&&e<50&&(r._logger.debug("Tweaking offset to fix glitch issue."),e=50);var t=function(){r._startPositionOffset=Math.max(0,r._startPositionOffset-e),r._logger.debug("Updated start position offset.",r._startPositionOffset,e);var t=function(){r._seekAttemptTimer=null,r._logger.debug("Attempting to seek to the required offset.",e),a.currentTime=e/1e3;var o=1e3*a.currentTime;Math.abs(o-e)<=100?(r._logger.debug("Seeked to the required offset.",o),n()):(r._logger.warn("Seek attempt failed. Trying again shortly.",o),r._seekAttemptTimer=window.setTimeout(t,50))};t()};r._onFirstSegmentRetrieved=null,C||a.readyState===a.HAVE_METADATA?(r._logger.debug("Media element has metadata. Seeking to offset."),t()):(r._logger.debug("Media element has not loaded metadata. Waiting for metadata..."),r._seekMetadataEventHandle=r._listenToOnce("loadedmetadata",function(){r._seekMetadataEventHandle=null,r._logger.debug("Got metadata. Seeking to offset."),t()},{earlyAttach:!0}))};null!==u?(this._logger.debug("First segment already retrieved. Preparing to seek to initial offset."),d(u)):(this._logger.debug("Waiting for first segment to be retrieved."),this._onFirstSegmentRetrieved=function(e){r._logger.debug("First segment retrieved. Preparing to seek to initial offset."),d(e)})},t.prototype._kill=function(){this._simpleMSE&&(this._logger.debug("Killing SimpleMSE."),this._simpleMSE.kill(),this._simpleMSE=null),this._mse&&(this._logger.debug("Killing MSE."),this._mse.kill(),this._mse=null),this._playlistRetrieveJob&&(this._logger.debug("Aborting playlist retrieve job."),this._playlistRetrieveJob.abort(),this._playlistRetrieveJob=null),this._playlistSegmentRetriever&&(this._logger.debug("Killing playlist segment retriever."),this._playlistSegmentRetriever.kill(),this._playlistSegmentRetriever=null),this._playlist=null,e.prototype._kill.call(this)},t.prototype._initMSE=function(){var e=this;if(!this._transmuxerAndMSEType)throw new Error("Transmuxer should have been configured.");this._lastSegmentAppended=null;var t=!1;x&&x.major<10&&this._transmuxerAndMSEType.transmuxer===i.MP3ToMP4Transmuxer&&(t=!0);var n=new s.MSE(this._transmuxerAndMSEType.mseType,this._logger,t),r=new u.SimpleMSE(n,function(){return e.getSegmentDataToAppendNext()},function(){return e._getMediaElementPosition()},function(t){e._triggerError(new c.AppendError(t))},this._logger);r.onAppendQueued.subscribe(this._onSegmentAppendQueued.dispatch),r.onAppendEnd.subscribe(this._onSegmentAppendEnd.dispatch),this._simpleMSE=r,r.start(),this._mse=n,n.whenInitialized().catch(function(t){t!==s.killedError&&(e._logger.error("Error during mse initialization.",t),e._triggerError(new d.InitializeError(t)))})},t.prototype._getMediaElementPosition=function(){var e=this.getMediaElement();if(!e)throw new Error("No media element.");return 1e3*e.currentTime},t.prototype._whenPlaylistRetrieved=function(){var t=this,n=this._playlist;if(!n)throw new Error("Playlist should have been retrieved.");var r=!this._initialPlaylistRetrieveCompleted;if(r)this._initialPlaylistRetrieveCompleted=!0,this._playlistDuration=n.getTotalDuration(),this._retrieveDurationDeferred.resolve(this._playlistDuration);else{var o=n.getTotalDuration();if(this._playlistDuration!==o)return this._logger.error("The duration from the new URL did not match the previous one."),void this._triggerError(new w("The duration from the new URL did not match the previous one.",{oldDuration:this._playlistDuration,newDuration:o}))}if(!this._transmuxerAndMSEType)throw new Error("Transmuxer should have been configured.");if(this._playlistSegmentRetriever)this._logger.debug("Switching playlist for playlist segment retriever."),this._playlistSegmentRetriever.switchPlaylist(n);else{var a=this._maxBufferLength;if(null===a)throw new Error("maxBufferLength should have been initiaized by now.");this._logger.debug("Creating playlist segment retriever.");var s=this._cacheSize;if(null===s)throw new Error("cacheSize should be set.");var u=new i.PlaylistSegmentRetriever({playlist:n,getPosition:function(){return t.getPosition()},maxBufferLength:a,cacheSize:s,transmuxer:this._transmuxerAndMSEType.transmuxer,logger:this._logger});u.onSegmentRequestQueued.subscribe(this._onSegmentRequestQueued.dispatch),u.onSegmentRequestStart.subscribe(this._onSegmentRequestStart.dispatch),u.onSegmentRetrieved.subscribe(this._onSegmentRetrieved.dispatch),u.onSegmentRequestFailed.subscribe(this._onSegmentRequestFailed.dispatch),u.onSegmentDecryptionStart.subscribe(this._onSegmentDecryptionStart.dispatch),u.onSegmentDecryptionEnd.subscribe(this._onSegmentDecryptionEnd.dispatch),u.onSegmentTransmuxStart.subscribe(this._onSegmentTransmuxStart.dispatch),u.onSegmentTransmuxEnd.subscribe(this._onSegmentTransmuxEnd.dispatch),this._playlistSegmentRetriever=u,u.onError.subscribe(function(e){t._logger.error("Error from playlist segment retriever.",e),t._triggerError(e instanceof i.retrievalErrors.RetrievalError?new f.RetrievalError(e):new b("Unexpected error when trying to retrieve segment.",e))}),u.onSegmentReady.subscribe(function(e){var n=e.eventRepresentation,r=v();t._logger.debug("Segment ready.",n),t._findSegmentAndAppendToMSE(),t._onSegmentReady.dispatch({segment:n},{time:r})})}this._initialPlaylistRetrieveCompleted=!0,r&&this._html5PlayerReady&&e.prototype._signalReady.call(this)},t.prototype._findSegmentAndAppendToMSE=function(){var e=this._simpleMSE;if(e&&e.waitingForSegmentData()){var t=this.getSegmentDataToAppendNext();t&&(this._logger.debug("Providing segment to SimpleMSE.",t.eventRepresentation),e.provideNextSegmentData(t))}},t.prototype._retrievePlaylist=function(){var e=this;if(this._playlist)throw new Error("Playlist already exists.");var t=this.__playerDependencies,n=t.playlistLoader,r=t.segmentLoader,o=t.keyLoader,a=t.isPlaylistResponseCodeAcceptable,s=t.isPlaylistResponseCodeRetryable,u=t.isSegmentResponseCodeAcceptable,c=t.isSegmentResponseCodeRetryable,d=t.isKeyResponseCodeAcceptable,p=t.isKeyResponseCodeRetryable;this._logger.debug("Creating playlist.",this._url);var h=new i.Playlist({url:this._url,segmentFormat:this.__descriptor.getSegmentFormat(),playlistLoader:n,segmentLoader:r,keyLoader:o,isPlaylistResponseCodeAcceptable:a,isPlaylistResponseCodeRetryable:s,isSegmentResponseCodeAcceptable:u,isSegmentResponseCodeRetryable:c,isKeyResponseCodeAcceptable:d,isKeyResponseCodeRetryable:p,logger:this._logger});h.onPlaylistRequestQueued.subscribe(this._onPlaylistRequestQueued.dispatch),h.onPlaylistRequestStart.subscribe(this._onPlaylistRequestStart.dispatch),h.onPlaylistRetrieved.subscribe(this._onPlaylistRetrieved.dispatch),h.onPlaylistRequestFailed.subscribe(this._onPlaylistRequestFailed.dispatch),h.onInitDataRequestQueued.subscribe(this._onInitDataRequestQueued.dispatch),h.onInitDataRequestStart.subscribe(this._onInitDataRequestStart.dispatch),h.onInitDataRetrieved.subscribe(this._onInitDataRetrieved.dispatch),h.onInitDataRequestFailed.subscribe(this._onInitDataRequestFailed.dispatch),h.onKeyRequestQueued.subscribe(this._onKeyRequestQueued.dispatch),h.onKeyRequestStart.subscribe(this._onKeyRequestStart.dispatch),h.onKeyRetrieved.subscribe(this._onKeyRetrieved.dispatch),h.onKeyRequestFailed.subscribe(this._onKeyRequestFailed.dispatch),h.onPlaylistParseStart.subscribe(this._onPlaylistParseStart.dispatch),h.onPlaylistParseEnd.subscribe(this._onPlaylistParseEnd.dispatch),this._playlist=h,this._playlistRetrieveJob=this._playlist.retrieve(),this._playlistRetrieveJob.onCompletion(function(){var t=e._playlist.getType();t!==i.PlaylistType.VOD?(e._logger.error("Unsupported playlist type.",t),e._triggerError(new l.UnsupportedPlaylistTypeError)):(e._logger.debug("Playlist retrieved."),e._whenPlaylistRetrieved())}),this._playlistRetrieveJob.onError(function(t){t!==P&&(e._logger.error("Error when retrieving playlist.",t),e._triggerError(t instanceof i.retrievalErrors.RetrievalError?new f.RetrievalError(t):new b("Unexpected error when retrieving playlist.",t)))})},t.prototype._findTransmuxer=function(e){var t=this,n=i.TransmuxerFactory.retrieveTransmuxers(e);this._logger.info("Finding a transmuxer...",e);var r=g(n,function(n){return s.MSE.isSupported(t._buildMimeTypeAndCodecString(n.getOutputFormat(),e))})||null;return r?this._logger.info("Transmuxer found.",r.getInputFormat(),r.getOutputFormat()):this._logger.warn("No transmuxer found."),r},t.prototype.getSegmentDataToAppendNext=function(){var e=this._lastSegmentAppended;this._logger.debug("Looking for segment to append next.",!!e);var t=this._playlistSegmentRetriever;if(!t)return this._logger.debug("No segment retriever."),null;if(e){var n=t.getSegmentsWithData();return(r=n[n.map(function(e){return e.segment}).indexOf(e)+1])?(this._logger.debug("Found segment.",r.eventRepresentation),this._lastSegmentAppended=r.segment,{data:r.data,eventRepresentation:r.eventRepresentation}):(this._logger.debug("No segment found."),e.isFinalSegment()&&(this._logger.debug("The last segment we appended was the last one in the stream. Signalling EOS."),this._signalEOS()),null)}var r,o=this.getPosition();if(!(r=g(t.getSegmentsWithData(),function(e){return e.segment.getTimeRange().containsTime(o)})))return this._logger.debug("No segment found.",o),null;var i=o-r.segment.getTimeRange().start;if(!this.getMediaElement())throw new Error("Media element should exist.");this._logger.debug("Found initial segment.",r.eventRepresentation),this._lastSegmentAppended=r.segment,this._onFirstSegmentRetrieved&&this._onFirstSegmentRetrieved(i);var a=r.data,s=r.initData,u=a;return s&&(this._logger.debug("Prepending init data."),(u=new Uint8Array(s.length+a.length)).set(s,0),u.set(a,s.length)),{data:u,eventRepresentation:r.eventRepresentation}},t.prototype._signalEOS=function(){var e=this;this._logger.debug("Signalling EOS."),this._simpleMSE&&(this._simpleMSE.kill(),this._logger.debug("Killed SimpleMSE."),this._simpleMSE=null);var t=this._mse;t&&!t.eosSignalled()&&t.signalEOS().catch(function(n){t===e._mse&&(e._logger.error("Error occurred when signalling EOS.",n),e._triggerError(new c.AppendError(n)))})},t}(a.HTML5Player);t.HLSMSEPlayer=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(9),i=r.helpers.deferred.buildDeferred,a=o.helpers.timeRanges.buildTimeRanges,s=r.helpers.Promise,u=r.logger.prefixLogger,l=r.logger.noOpLogger,c=/(MSIE )|(Trident\/)/,d=r.helpers.browser.isSafari(),f='audio/mp4; codecs="mp3"',p=r.helpers.browser.getSafariVersion(),h=r.helpers.browser.getChromeVersion();t.killedError=new Error("MSE killed.");var g=function(){function e(e,t,n){var r=this.constructor;if(void 0===t&&(t=l),void 0===n&&(n=!1),this._sourceBuffer=null,this._initialized=!1,this._initializeDeferred=i(),this._whenIdleDeferred=i(),this._error=null,this._dead=!1,this._eosSignalled=!1,this._pendingActions=[],this._currentAction=null,this._logger=u(t,"MSE"),this._onMediaSourceInit=this._onMediaSourceInit.bind(this),this._onMediaSourceEnded=this._onMediaSourceEnded.bind(this),this._onMediaSourceError=this._onMediaSourceError.bind(this),this._onSourceBufferUpdateEnd=this._onSourceBufferUpdateEnd.bind(this),this._onSourceBufferError=this._onSourceBufferError.bind(this),!r.isSupported(e))throw this._logger.error("Not supported."),new Error("Not supported.");d&&e===f&&(e="audio/mp4"),this._type=e,this._useSegmentsMode=n,this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.addEventListener("error",this._onMediaSourceError,!1),this._url=URL.createObjectURL(this._mediaSource),this._logger.debug("Created URL.",this._url)}return e.isSupported=function(e){return!c.test(window.navigator.userAgent)&&"MediaSource"in window&&(!e||!(!d||e!==f)||!(p&&p.major<10&&"audio/mpeg"===e)&&!(h&&h.major<50&&'audio/webm; codecs="opus"'===e)&&MediaSource.isTypeSupported(e))},e.prototype.whenInitialized=function(){return this._initializeDeferred.promise},e.prototype.whenIdle=function(){return this._whenIdleDeferred?this._whenIdleDeferred.promise:s.resolve(void 0)},e.prototype.isIdle=function(){return this._dead||!this._whenIdleDeferred},e.prototype.hasInitialized=function(){return this._initialized},e.prototype.getError=function(){return this._error},e.prototype.getUrl=function(){return this._ensureNotDead(),this._url},e.prototype.getBuffered=function(){return this._ensureNotDead(),this._sourceBuffer?a(this._sourceBuffer.buffered):[]},e.prototype.append=function(e){this._ensureNotDead(),this._ensureInitialized(),this._ensureNotEOS(),this._logger.debug("append() called.");var t=i();return this._pendingActions.push({type:"append",data:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.remove=function(e){if(0===e.duration)throw new Error("Remove range must have a duration > 0.");this._ensureNotDead(),this._ensureInitialized(),this._ensureNotEOS(),this._logger.debug("remove() called.",e);var t=i();return this._pendingActions.push({type:"remove",range:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.signalEOS=function(){this._ensureNotDead(),this._ensureInitialized(),this._ensureNotEOS(),this._logger.debug("signalEOS() called."),this._eosSignalled=!0;var e=i();return this._pendingActions.push({type:"eos",deferred:e}),this._performNextAction(),e.promise},e.prototype.eosSignalled=function(){return this._eosSignalled},e.prototype.kill=function(){if(!this._dead){if(this._logger.debug("kill() called."),this._dead=!0,this._sourceBuffer){this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.removeEventListener("error",this._onSourceBufferError,!1);try{this._mediaSource.removeSourceBuffer(this._sourceBuffer)}catch(e){this._logger.error("Error from removeSourceBuffer()",e)}}this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.removeEventListener("sourceended",this._onMediaSourceEnded,!1),this._mediaSource.removeEventListener("error",this._onMediaSourceError,!1),URL.revokeObjectURL(this._url);var e=this._currentAction?[this._currentAction]:[];(e=e.concat(this._pendingActions)).forEach(function(e){e.deferred.reject(t.killedError)}),this._whenIdleDeferred||(this._whenIdleDeferred=i()),this._whenIdleDeferred.reject(t.killedError),this._initialized||this._initializeDeferred.reject(this._error||t.killedError),this._pendingActions.length=0,this._logger.debug("Killed.")}},e.prototype._ensureInitialized=function(){if(!this._initialized)throw new Error("Not initialized yet.")},e.prototype._ensureNotEOS=function(){if(this._eosSignalled)throw new Error("EOS signalled.")},e.prototype._ensureNotDead=function(){if(this._dead)throw new Error("MSE is dead.")},e.prototype._onMediaSourceInit=function(){this._logger.debug("MSE initialized."),this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1);try{this._logger.debug("Creating source buffer.",this._type),this._sourceBuffer=this._mediaSource.addSourceBuffer(this._type),this._sourceBuffer.mode=this._useSegmentsMode?"segments":"sequence",this._logger.debug("Using append mode: "+this._sourceBuffer.mode),this._sourceBuffer.addEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.addEventListener("error",this._onSourceBufferError,!1)}catch(e){this._handleError(e)}this._initializeDeferred.resolve(void 0),this._whenIdleDeferred.resolve(void 0),this._initialized=!0,this._performNextAction()},e.prototype._onMediaSourceEnded=function(){this._onSourceBufferUpdateEnd()},e.prototype._onMediaSourceError=function(e){this._handleError(e)},e.prototype._handleError=function(e){this._ensureNotDead(),this._logger.error("Error occurred.",e),this._error=e||new Error("Unknown error."),this.kill()},e.prototype._onSourceBufferUpdateEnd=function(){var e=this._currentAction;return this._logger.debug("Update ended.",this.getBuffered()),e?"append"===e.type&&0===r.TimeRange.getCoverage(this.getBuffered()).end?void this._handleError(new Error("Buffer end point is still 0 after an append.")):(this._currentAction=null,e.deferred.resolve(void 0),void this._performNextAction()):void this._handleError(new Error("No action in progress."))},e.prototype._onSourceBufferError=function(e){this._handleError(e)},e.prototype._performNextAction=function(){var e=this._whenIdleDeferred;if(!this._currentAction&&this._sourceBuffer){var t=this._pendingActions.shift();if(!t)return this._logger.debug("No more actions."),void(e&&(this._whenIdleDeferred=null,e.resolve(void 0)));switch(e||(this._whenIdleDeferred=i()),this._currentAction=t,this._logger.debug("Performing next action..."),t.type){case"append":var n=r.TimeRange.getCoverage(this.getBuffered());try{if("segments"===this._sourceBuffer.mode){var o=n.end/1e3;this._logger.debug("Setting timestampOffset because detected safari.",o),this._sourceBuffer.timestampOffset=o}this._logger.debug("Calling appendBuffer()."),this._sourceBuffer.appendBuffer(t.data)}catch(e){this._handleError(e)}break;case"remove":try{var a=t.range;this._logger.debug("Calling remove().",a.start,a.end),this._sourceBuffer.remove(a.start/1e3,a.end/1e3)}catch(e){this._handleError(e)}break;case"eos":try{this._logger.debug("Calling endOfStream()."),this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._mediaSource.addEventListener("sourceended",this._onMediaSourceEnded,!1),this._mediaSource.endOfStream()}catch(e){this._handleError(e)}}}},e}();t.MSE=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=r.helpers.Promise,i=r.eventDispatcher.EventDispatcher,a=r.logger.prefixLogger,s=r.logger.noOpLogger,u=function(){function e(e,t,n,r,o){void 0===o&&(o=s);var u=this;this._onAppendQueued=new i,this._onAppendEnd=new i,this._updateTimerId=null,this._gcTimerId=null,this._waitingForData=!1,this._started=!1,this._resettingPromise=null,this._error=null,this._logger=a(o,"SimpleMSE"),this.onAppendQueued=this._onAppendQueued.getHandle(),this.onAppendEnd=this._onAppendEnd.getHandle(),this._mse=e,this._getNextSegmentData=t,this._getPosition=n,this._onError=r,e.whenInitialized().then(function(){!u._error&&u._started&&(u._logger.debug("MSE initialized. Preparing to update."),u._prepareUpdate())}).catch(function(e){u._error||(u._logger.error("Error when waiting for MSE to initialize.",e),u._handleError(e||new Error("Error waiting for MSE to initialize.")))})}return e.prototype.start=function(){if(this._checkNotErrored(),this._resettingPromise)throw new Error("start() is not allowed whilst a reset is in progress.");if(this._started)throw new Error("Already started. reset() first.");this._logger.debug("start() called."),this._scheduleGC(),this._started=!0,this._prepareUpdate()},e.prototype.kill=function(){this._error||(this._logger.debug("kill() called."),this._clearTimers(),this._error=new Error("Killed."),this._logger.debug("Killed."))},e.prototype.reset=function(){var e=this;if(this._checkNotErrored(),this._logger.debug("reset() called."),this._resettingPromise)return this._logger.debug("Reset already in progress."),this._resettingPromise;if(!this._started)return this._logger.debug("Nothing to do to, already reset."),o.resolve();var t=this._mse;return this._waitingForData=!1,this._started=!1,this._clearTimers(),this._logger.debug("Waiting to clear MSE buffer..."),this._resettingPromise=t.whenIdle().then(function(){if(e._error)throw e._error;e._logger.debug("Clearing MSE buffer.");var n=t.getBuffered(),o=r.TimeRange.getCoverage(n);if(o.duration>0)return t.remove(o)}).then(function(){e._logger.debug("MSE buffer cleared."),e._resettingPromise=null}).catch(function(t){e._logger.error("Error resetting MSE.",t);var n=t||new Error("Error resetting MSE.");throw e._handleError(n),n})},e.prototype.waitingForSegmentData=function(){return this._checkNotErrored(),this._waitingForData},e.prototype.provideNextSegmentData=function(e){if(this._checkNotErrored(),!this._waitingForData)throw new Error("Not waiting for data.");this._logger.debug("Segment data provided."),this._waitingForData=!1,this._update(e)},e.prototype._prepareUpdate=function(){if(!this._updateTimerId){var e=this._mse;if(e.hasInitialized())if(r.TimeRange.getCoverage(e.getBuffered()).end<=this._getPosition()+7e3){this._logger.debug("Requesting next segment data.");var t=this._getNextSegmentData();t?(this._logger.debug("Got segment data."),this._update(t)):(this._logger.debug("Did not get any data."),this._waitingForData=!0)}else this._scheduleUpdate()}},e.prototype._gc=function(){var e=this,t=this._mse;if(t.hasInitialized()){var n=r.TimeRange.getCoverage(t.getBuffered()),o=this._getPosition()-5e3;if(n.start<o){var i=new r.TimeRange(n.start,o-n.start);this._logger.debug("Removing media that has been played.",i),t.remove(i).then(function(){e._logger.debug("Removed media that has been played.",i),e._error||e._scheduleGC()}).catch(function(t){e._logger.error("Error when attempting to remove media that has been played.",i,t),e._error||e._scheduleGC()})}else this._scheduleGC()}else this._scheduleGC()},e.prototype._update=function(e){var t=this;this._logger.debug("Updating...");var n=this._mse;this._onAppendQueued.dispatch({segment:e.eventRepresentation}),this._logger.debug("Appending..."),n.append(e.data).then(function(){t._logger.debug("Appended."),t._onAppendEnd.dispatch({segment:e.eventRepresentation}),t._resettingPromise||t._error||t._prepareUpdate()}).catch(function(e){t._error||(t._logger.error("Error updating MSE.",e),t._handleError(e||new Error("Error updating MSE.")))})},e.prototype._scheduleUpdate=function(){var e=this;this._updateTimerId=window.setTimeout(function(){e._updateTimerId=null,e._prepareUpdate()},500)},e.prototype._scheduleGC=function(){var e=this;this._gcTimerId||(this._gcTimerId=window.setTimeout(function(){e._gcTimerId=null,e._gc()},2e4))},e.prototype._checkNotErrored=function(){if(this._error)throw this._error},e.prototype._clearTimers=function(){this._updateTimerId&&(this._logger.debug("Clearing update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._gcTimerId&&(window.clearTimeout(this._gcTimerId),this._gcTimerId=null)},e.prototype._handleError=function(e){this._error||(this._error=e,this._logger.error("Error occurred.",e),this._clearTimers(),this._onError(e))},e}();t.SimpleMSE=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="13.0.0",t.buildNumber=1085;var r=n(11);t.HLSMSEPlayer=r.HLSMSEPlayer;var o=n(10);t.errors=o.errors;var i=n(2);t.retrievalErrors=i.retrievalErrors}])}(n(2),n(4),n(7))},function(e,t,n){e.exports=function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=91)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(4);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";e.exports=n(72)()?Symbol:n(74)},function(e,t,n){"use strict";var r=n(17)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.getCode=function(){return"GENERIC"},e}();t.RetrievalError=r},function(e,t,n){"use strict";var r=n(10),o=n(19),i=n(58),a=n(22);(e.exports=function(e,t){var n,i,s,u,l;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(n=s=!0,i=!1):(n=a.call(e,"c"),i=a.call(e,"e"),s=a.call(e,"w")),l={value:t,configurable:n,enumerable:i,writable:s},u?r(o(u),l):l}).gs=function(e,t,n){var s,u,l,c;return"string"!=typeof e?(l=n,n=t,t=e,e=null):l=arguments[3],null==t?t=void 0:i(t)?null==n?n=void 0:i(n)||(l=n,n=void 0):(l=t,t=n=void 0),null==e?(s=!0,u=!1):(s=a.call(e,"c"),u=a.call(e,"e")),c={get:t,set:n,configurable:s,enumerable:u},l?r(o(l),c):c}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===o}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===o)||!1}},function(e,n){e.exports=t},function(e,t,n){"use strict";e.exports=n(53)()?Object.assign:n(54)},function(e,t,n){"use strict";e.exports=n(20)()?Object.setPrototypeOf:n(21)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._code=t,n}return r(t,e),t.prototype.getCode=function(){return"OGG_PARSER."+this._code},t}(n(5).RetrievalError);t.OggParserError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._statusCode=t,n}return r(t,e),t.prototype.getStatusCode=function(){return this._statusCode},t.prototype.getCode=function(){return"UNACCEPTABLE_RESPONSE_STATUS_CODE"},t}(n(5).RetrievalError);t.UnacceptableResponseStatusCodeError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(81),i=n(13),a=n(30),s=n(28),u=n(87),l=r.helpers.abortableJob.AbortableJob,c=r.helpers.retry,d=c.retry,f=c.buildExponentialDelayCalculator,p=r.helpers.Promise,h=r.helpers.arrayBuffer.combine,g=r.eventDispatcher.EventDispatcher,y=r.logger.prefixLogger,v=r.logger.noOpLogger,_=function(){function e(e){var t=e.url,n=e.sequenceNumber,r=e.playlist,o=e.timeRange,a=e.encryptionConfig,c=e.initData,_=e.format,m=e.loader,b=e.playlistEventRepresentation,w=e.logger,E=void 0===w?v:w,S=e.delayCalculator,P=void 0===S?f():S,x=e.isResponseCodeAcceptable,T=void 0===x?function(e){return 200===e}:x,R=e.isResponseCodeRetryable,C=void 0===R?function(e){return!(e>=400&&e<500)}:R,k=this;this._onSegmentRequestQueued=new g,this._onSegmentRequestStart=new g,this._onSegmentRetrieved=new g,this._onSegmentRequestFailed=new g,this._onSegmentDecryptionStart=new g,this._onSegmentDecryptionEnd=new g,this._logger=y(E,"Segment"),this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDecryptionStart=this._onSegmentDecryptionStart.getHandle(),this.onSegmentDecryptionEnd=this._onSegmentDecryptionEnd.getHandle(),this._sequenceNumber=n,this._playlist=r,this._timeRange=o,this._encryptionConfig=a||null,this._initData=c||null,this._format=_,this._loader=m,this._isResponseCodeAcceptable=T,this._isResponseCodeRetryable=C,this._downloadAbortableJob=new l(function(){var e=d(function(){return new l(function(){var e=new s.Segment(b,t,n);k._onSegmentRequestQueued.dispatch({segment:e});var r=k._loader.request({url:t});return r.whenRequestStarted.then(function(){return k._onSegmentRequestStart.dispatch({segment:e})}),k._logger.debug("Requesting segment.",t),{result:r.getResponse().then(function(n){if(!n)return k._logger.warn("Segment request timed out.",t),k._onSegmentRequestFailed.dispatch({segment:e,statusCode:null}),{success:!1};var r=n.statusCode;if(k._isResponseCodeAcceptable(r)){var o=n.data;return o?(k._logger.debug("Got segment response.",t,r),k._onSegmentRetrieved.dispatch({segment:e,statusCode:r}),{success:!0,result:{data:new Uint8Array(o),eventRepresentation:e}}):(k._logger.warn("Segment response contained no data.",t,r),k._onSegmentRequestFailed.dispatch({segment:e,statusCode:r}),{success:!1})}return k._isResponseCodeRetryable(r)?(k._logger.debug("Segment response code was not acceptable. Will retry.",t,r),k._onSegmentRequestFailed.dispatch({segment:e,statusCode:r}),{success:!1}):(k._logger.debug("Segment response code was not acceptable.",t,r),k._onSegmentRequestFailed.dispatch({segment:e,statusCode:r}),p.reject(new i.UnacceptableResponseStatusCodeError(r)))}),abort:function(){k._logger.debug("Aborting segment request.",t),r.abort(),k._onSegmentRequestFailed.dispatch({segment:e,aborted:!0})}}})},P);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),this._retrieveAbortableJob=new l(function(){var e=k._downloadAbortableJob.run(),t=null,n=null;return{result:e.whenComplete().then(function(e){var r=e.eventRepresentation;return(n=k._decrypt(e.data,r)).whenComplete().then(function(e){k._initData&&(k._logger.debug("Prepending init data.",r),e=h([k._initData,e]));var n=u.SegmentParserFactory.retrieveSegmentParser(k._format);return k._logger.debug("Parsing segment data.",r,n.getFormat()),(t=n.parseSegmentData(e,k,k._playlist)).whenComplete().then(function(e){return k._logger.debug("Segment data ready.",r),{data:e,eventRepresentation:r}})})}),abort:function(){e.abort(),n&&n.abort(),t&&t.abort()}}},{storeResult:!1})}return e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e.prototype.isFinalSegment=function(){var e=this._playlist;return e.hasEnded()&&e.getStartingSequenceNumber()+e.getSegmentCount()-1===this._sequenceNumber},e.prototype.getTimeRange=function(){return this._timeRange},e.prototype.retrieveData=function(){return this._retrieveAbortableJob.run()},e.prototype._decrypt=function(e,t){var n=this;return new l(function(){var r=n._encryptionConfig;if(!r)return{result:p.resolve(e)};n._logger.info("Finding a decryptor...");var i=o.DecryptorFactory.retrieveDecryptor(r);if(!i)return n._logger.error("Could not find a decryptor."),{result:p.reject(new a.NoDecryptorError)};n._logger.info("Decryptor found."),n._onSegmentDecryptionStart.dispatch({segment:t});var s=i.decrypt(e,r);return s.then(function(){n._logger.debug("Decrypted."),n._onSegmentDecryptionEnd.dispatch({segment:t})}),{result:s}}).run()},e}();t.Segment=_},function(e,t,n){"use strict";function r(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(e,r),r+=e.length}),n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(39),a=n(40),s=o.helpers.Promise;t.MP3ToMP4={getInputFormat:function(){return{mimeType:"audio/mpeg"}},getOutputFormat:function(){return{mimeType:"audio/mp4",audioCodec:{id:"mp3"}}},transmux:function(e){return new s(function(t,n){function o(e){s||(s=!0,n(e))}var s=!1;try{var u=[],l=new i.MP3Parser,c=new a.MP4Mux({audioTrackId:0,videoTrackId:-1,tracks:[{codecId:2,channels:2,samplerate:44100,samplesize:16,timescale:44100}]});if(c.ondata=function(e){return u.push(e)},l.onFrame=function(e){try{var t=new Uint8Array(e.length+1),n=32;n|=12,n|=2,t[0]=n|=1,t.set(e,1),c.pushPacket(8,t,0)}catch(e){o(e)}},l.push(e.data),l.close(),c.flush(),0===u.length)o(new Error("There was no output."));else{var d=u.shift();d?function(e){s||t(e)}({initData:d,data:r(u)}):o(new Error("No init data."))}}catch(e){o(e)}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).helpers.Promise;t.PassThrough={getInputFormat:function(){return{}},getOutputFormat:function(){return{}},transmux:function(e){return r.resolve(e)}}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(4),o={function:!0,object:!0};e.exports=function(e){return r(e)&&o[typeof e]||!1}},function(e,t,n){"use strict";var r=n(4),o=Array.prototype.forEach,i=Object.create;e.exports=function(e){var t=i(null);return o.call(arguments,function(e){r(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},function(e,t,n){"use strict";var r=Object.create,o=Object.getPrototypeOf,i={};e.exports=function(){var e=Object.setPrototypeOf;return"function"==typeof e&&o(e((arguments[0]||r)(null),i))===i}},function(e,t,n){"use strict";var r,o=n(18),i=n(1),a=Object.prototype.isPrototypeOf,s=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(e,t){if(i(e),null===t||o(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,n;return e?(2===e.level?e.set?(n=e.set,t=function(e,t){return n.call(r(e,t),t),e}):t=function(e,t){return r(e,t).__proto__=t,e}:t=function e(t,n){var o;return r(t,n),(o=a.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,o&&s(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(e=r.set).call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}()),n(56)},function(e,t,n){"use strict";e.exports=n(64)()?String.prototype.contains:n(65)},function(e,t,n){"use strict";var r=n(7),o=n(8),i=n(67),a=n(70),s=n(71),u=n(3).iterator;e.exports=function(e){return"function"==typeof s(e)[u]?e[u]():r(e)?new i(e):o(e)?new a(e):new i(e)}},function(e,t,n){"use strict";var r,o=n(42),i=n(10),a=n(2),s=n(1),u=n(6),l=n(41),c=n(3),d=Object.defineProperty,f=Object.defineProperties;e.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",s(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,i({_next:u(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:u(function(){return this._createResult(this._next())}),_createResult:u(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:u(function(e){return this.__list__[e]}),_unBind:u(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:u(function(){return"[object "+(this[c.toStringTag]||"Object")+"]"})},l({_onAdd:u(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void d(this,"__redo__",u("c",[e]));this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)}}),_onDelete:u(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:u(function(){this.__redo__&&o.call(this.__redo__),this.__nextIndex__=0})}))),d(r.prototype,c.iterator,u(function(){return this}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.InitData=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.Key=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._url=e}return e.prototype.getUrl=function(){return this._url},e}();t.Playlist=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this._playlist=e,this._url=t,this._sequenceNumber=n}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e}();t.Segment=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPartialMatch=function(e,t){return!(e.mimeType&&t.mimeType!==e.mimeType||e.audioCodec&&(!t.audioCodec||t.audioCodec.id!==e.audioCodec.id)||e.videoCodec&&(!t.videoCodec||t.videoCodec.id!==e.videoCodec.id))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"NO_DECRYPTOR"},t}(n(5).RetrievalError);t.NoDecryptorError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._details=t,n}return r(t,e),t.prototype.getDetails=function(){return this._details},t.prototype.getCode=function(){return"PLAYLIST_PARSE"},t}(n(5).RetrievalError);t.PlaylistParseError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"UNSUPPORTED_ENCRYPTION_ERROR"},t}(n(5).RetrievalError);t.UnsupportedEncryptionError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),o=n(26),i=n(27),a=n(28);!function(e){e.InitData=r.InitData,e.Key=o.Key,e.Playlist=i.Playlist,e.Segment=a.Segment}(t.events||(t.events={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),i=n(9),a=n(12),s=o.helpers.find,u=o.eventDispatcher.EventDispatcher,l=o.helpers.abortableJob.abortedError,c=o.helpers.abortableJob.AbortableJob,d=o.logger.prefixLogger,f=o.logger.noOpLogger;!function(e){e[e.RETRIEVING_SEGMENT=0]="RETRIEVING_SEGMENT",e[e.RETRIEVED_SEGMENT=1]="RETRIEVED_SEGMENT",e[e.RETRIEVING_DATA=2]="RETRIEVING_DATA",e[e.COMPLETE=3]="COMPLETE"}(r||(r={}));var p=function(){function e(e){this._onSegmentRequestQueued=new u,this._onSegmentRequestStart=new u,this._onSegmentRetrieved=new u,this._onSegmentRequestFailed=new u,this._onSegmentDecryptionStart=new u,this._onSegmentDecryptionEnd=new u,this._onSegmentTransmuxStart=new u,this._onSegmentTransmuxEnd=new u,this._onSegmentReady=new u,this._onError=new u,this._segments=[],this._retrievingSegment=null,this._timerId=null,this._dead=!1;var t=e.playlist,n=e.getPosition,r=e.maxBufferLength,o=e.cacheSize,i=e.transmuxer,a=e.logger;if(this._logger=d(void 0===a?f:a,"PlaylistSegmentRetriever"),t&&!t.hasRetrieveCompleted())throw new Error("Playlist retrieve has not completed.");if(r<0)throw new Error("Max buffer length must be > 0.");if(o<0)throw new Error("Cache size must be > 0.");this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDecryptionStart=this._onSegmentDecryptionStart.getHandle(),this.onSegmentDecryptionEnd=this._onSegmentDecryptionEnd.getHandle(),this.onSegmentTransmuxStart=this._onSegmentTransmuxStart.getHandle(),this.onSegmentTransmuxEnd=this._onSegmentTransmuxEnd.getHandle(),this.onSegmentReady=this._onSegmentReady.getHandle(),this.onError=this._onError.getHandle(),this._playlist=t,this._transmuxer=i,this._getPosition=n,this._maxBufferLength=r,this._cacheSize=o,this.update()}return e.prototype.updateMaxBufferLength=function(e){if(this._ensureNotDead(),e<0)throw new Error("Max buffer length must be > 0.");this._logger.debug("updateMaxBufferLength() called.",e),this._maxBufferLength=e,this.update()},e.prototype.updateCacheSize=function(e){if(this._ensureNotDead(),e<0)throw new Error("Cache size must be > 0.");this._logger.debug("updateCacheSize() called.",e),this._cacheSize=e,this.update()},e.prototype.getCacheSize=function(){return this._cacheSize},e.prototype.getCacheUsage=function(){return this._segments.reduce(function(e,t){return t.state===r.COMPLETE?e+t.data.byteLength+(t.initData?t.initData.byteLength:0):e},0)},e.prototype.switchPlaylist=function(e){if(this._ensureNotDead(),e&&!e.hasRetrieveCompleted())throw new Error("Playlist retrieve has not completed.");this._logger.debug("switchPlaylist() called."),this._abortCurrentRetrieve(),this._playlist=e,this._segments=this._segments.filter(function(e){return e.state===r.COMPLETE}),this.update()},e.prototype.getSegmentsWithData=function(){return this._ensureNotDead(),this._segments.filter(function(e){return e.state===r.COMPLETE}).map(function(e){if(e.state!==r.COMPLETE)throw new Error("Unexpected error.");return{segment:e.segment,initData:e.initData,data:e.data,eventRepresentation:e.eventRepresentation}})},e.prototype.update=function(){var e=this;this._ensureNotDead(),this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId),this._timerId=null);var t=this._getPosition(),n=t,o=0;this._segments.some(function(e){if(e.state!==r.COMPLETE)return!1;var i=e.segment.getTimeRange();return i.containsTime(o)&&(o=i.end),!(i.end<t)&&(i.start>n||(n=i.end,!1))});var i=t+this._maxBufferLength;if(!function(){var t=e._playlist;return t&&t.hasEnded()&&n===t.getTotalDuration()?(n=o,t.getTotalDuration()+o<i):n<i}())return this._abortCurrentRetrieve(),this._garbageCollect(t),void this._scheduleNextUpdate();var a=s(this._segments,function(e){return(e.state===r.RETRIEVED_SEGMENT||e.state===r.RETRIEVING_DATA)&&e.segment.getTimeRange().containsTime(n)});a?this._retrieveSegmentData(a):this._retrieveSegment(n),this._garbageCollect(t)},e.prototype.kill=function(){this._dead||(this._logger.debug("kill() called."),this._abortCurrentRetrieve(),this._dead=!0,this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId)),this._segments=[],this._logger.debug("Killed."))},e.prototype._retrieveSegmentData=function(e){var t=this;if(e.state!==r.RETRIEVED_SEGMENT&&e.state!==r.RETRIEVING_DATA)throw new Error("Segment in incorrect state for data to be retrieved.");var n=this._retrievingSegment;if(!n||n.state!==r.RETRIEVING_DATA||e.segment!==n.segment){this._abortCurrentRetrieve();var o=new c(function(){var n=!1,r=e.segment.retrieveData();return t._logger.debug("Retrieving segment data..."),{result:r.whenComplete().then(function(e){var r=e.data,o=e.eventRepresentation;if(n)throw l;return t._logger.debug("Retrieved segment data."),t._onSegmentTransmuxStart.dispatch({segment:o}),t._transmuxer.transmux(r).then(function(e){var r=e.data,i=e.initData;if(n)throw l;return t._onSegmentTransmuxEnd.dispatch({segment:o}),t._logger.debug("Transmuxed segment."),{data:r,initData:i,eventRepresentation:o}})}),abort:function(){n=!0,r.abort()}}},{storeResult:!1}).run();o.onCompletion(function(n){var o=n.initData,i=n.data,a=n.eventRepresentation;t._retrievingSegment=null,t._segments.splice(t._segments.indexOf(e),1,{state:r.COMPLETE,initData:o,data:i,eventRepresentation:a,segment:e.segment}),t._logger.debug("Segment retrieve completed.",a),t.update(),t._onSegmentReady.dispatch({segment:e.segment,initData:o,data:i,eventRepresentation:a})}),o.onError(function(e){e!==l&&(t._logger.error("Error retrieving segment data.",e),t._scheduleNextUpdate(),e instanceof i.OggParserError&&(e=new a.OggParserError(e instanceof i.ChecksumFailedError?"CHECKSUM_FAILED":e instanceof i.NoSegmentsInPageError?"NO_SEGMENTS_IN_PAGE":e instanceof i.PageFromDifferentBitstreamError?"PAGE_FROM_DIFFERENT_BITSTREAM":e instanceof i.PageSequenceNumberDidNotIncrementError?"SEQUENCE_NUMBER_DID_NOT_INCREMENT":e instanceof i.UnexpectedBOSError?"UNEXPECTED_BOS":e instanceof i.UnexpectedEOSError?"UNEXPECTED_EOS":"UNKNOWN")),t._onError.dispatch(e))}),this._retrievingSegment={state:r.RETRIEVING_DATA,dataRetrieveJob:o,segment:e.segment}}},e.prototype._retrieveSegment=function(e){var t=this,n=this._retrievingSegment,o=this._playlist,i=o?o.getSegmentIndexContainingTime(e):null;if(!n||n.state!==r.RETRIEVING_SEGMENT||n.segmentIndex!==i)if(this._abortCurrentRetrieve(),o)if(null===i)this._scheduleNextUpdate();else{var a=o.getSegment(i);this._logger.debug("Retrieving segment.",i),a.onCompletion(function(e){t._logger.debug("Retrieved segment.",i),e.onSegmentRequestQueued.subscribe(t._onSegmentRequestQueued.dispatch),e.onSegmentRequestStart.subscribe(t._onSegmentRequestStart.dispatch),e.onSegmentRetrieved.subscribe(t._onSegmentRetrieved.dispatch),e.onSegmentRequestFailed.subscribe(t._onSegmentRequestFailed.dispatch),e.onSegmentDecryptionStart.subscribe(t._onSegmentDecryptionStart.dispatch),e.onSegmentDecryptionEnd.subscribe(t._onSegmentDecryptionEnd.dispatch),t._segments.splice(t._segments.indexOf(s),1);var n=e.getTimeRange(),o=t._segments.length;t._segments.some(function(e,t){return e.state!==r.RETRIEVING_SEGMENT&&e.segment.getTimeRange().start>n.start&&(o=t,!0)}),t._segments.splice(o,0,{state:r.RETRIEVED_SEGMENT,segment:e}),t._retrievingSegment=null,t.update()}),a.onError(function(e){e!==l&&(t._logger.error("Error retrieving segment.",e),t._scheduleNextUpdate(),t._onError.dispatch(e))});var s={state:r.RETRIEVING_SEGMENT,segmentIndex:i,segmentRetrieveJob:a};this._segments.push(s),this._retrievingSegment=s}else this._logger.debug("Cannot retrieve segment as there is no playlist."),this._scheduleNextUpdate()},e.prototype._abortCurrentRetrieve=function(){var e=this._retrievingSegment;e&&(e.state===r.RETRIEVING_SEGMENT?(this._logger.debug("Aborting segment retrieve job."),e.segmentRetrieveJob.abort()):e.state===r.RETRIEVING_DATA&&(this._logger.debug("Aborting segment data retrieve job."),e.dataRetrieveJob.abort()),this._retrievingSegment=null)},e.prototype._garbageCollect=function(e){var t=this._segments,n=this._cacheSize,o=this.getCacheUsage();if(!(o<=n)){var i=this._playlist,a=i&&i.hasEnded()?i.getTotalDuration():1/0,s=e+this._maxBufferLength;s>a&&(s-=a)>=e||t.filter(function(t){return t.state===r.COMPLETE&&!function(e,t,n){var r=e.getTimeRange();return n!==t&&(n>t?r.end>t&&r.start<n:r.end>t||r.start<n)}(t.segment,e,s)}).map(function(t){if(t.state!==r.COMPLETE)throw new Error("Unexpected error.");var n=t.segment.getTimeRange().start;return{segment:t,distance:Math.min(Math.abs(e-n),n+a-e),size:t.data.byteLength+(t.initData?t.initData.byteLength:0)}}).sort(function(e,t){return t.distance-e.distance}).some(function(e){return o<=n||(t.splice(t.indexOf(e.segment),1),o-=e.size,!1)})}},e.prototype._scheduleNextUpdate=function(){var e=this;this._timerId||(this._timerId=window.setTimeout(function(){e._timerId=null,e.update()},1e3))},e.prototype._ensureNotDead=function(){if(this._dead)throw new Error("Playlist segment retriever has been killed.")},e}();t.PlaylistSegmentRetriever=p},function(e,t,n){"use strict";function r(e){return 0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1?e.slice(1,-1):e}function o(e){0===e.indexOf("0x")&&(e=e.substr(2));var t=new Uint16Array(8);if(e.length%4!=0)throw new h.PlaylistParseError("Failed to parse IV (length is not multiple of 4).");for(var n=0;n<e.length;n+=4){var r=parseInt(e.substr(n,4),16);if(isNaN(r))throw new h.PlaylistParseError("Failed to parse hex number in IV string.");t[n/4]=r}return new Uint8Array(t)}function i(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}function a(e){return!(e>=400&&e<500)}function s(e){var t,n={};for(M.lastIndex=0;null!==(t=M.exec(e));){var o=t[1].trim().toLowerCase(),i=r(t[2].trim());n[o]=i}return n}Object.defineProperty(t,"__esModule",{value:!0});var u,l,c=n(0),d=n(9),f=n(14),p=n(13),h=n(31),g=n(32),y=n(27),v=n(26),_=n(25),m=n(12),b=c.helpers.abortableJob.AbortableJob,w=c.helpers.deferred.buildDeferred,E=c.helpers.cache.buildCache,S=c.helpers.retry,P=S.retry,x=S.buildExponentialDelayCalculator,T=c.helpers.Promise,R=c.helpers.find,C=c.helpers.url,k=c.eventDispatcher.EventDispatcher,A=c.logger.prefixLogger,O=c.logger.noOpLogger,I=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(MAP):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF): *(\d+(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:#EXT-X-(BYTERANGE): *(\d+(?:@\d+(?:\.\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g,M=/(.+?)=(.+?)(?:,|$)/g,D=/^\d*(\.\d+)?$/;!function(e){e[e.NONE=0]="NONE",e[e.AES_128=1]="AES_128",e[e.SAMPLE_AES=2]="SAMPLE_AES"}(u||(u={})),function(e){e[e.VOD=0]="VOD",e[e.LIVE=1]="LIVE",e[e.EVENT=2]="EVENT"}(l=t.PlaylistType||(t.PlaylistType={}));var N=function(){function e(e){var t=e.url,n=e.playlistLoader,r=e.segmentLoader,o=e.keyLoader,i=void 0===o?null:o,s=e.segmentFormat,u=e.logger,l=void 0===u?O:u,c=e.delayCalculator,d=void 0===c?x():c,f=e.keyDelayCalculator,h=void 0===f?x():f,g=e.segmentDelayCalculator,v=e.isPlaylistResponseCodeAcceptable,_=void 0===v?function(e){return 200===e}:v,m=e.isPlaylistResponseCodeRetryable,S=void 0===m?a:m,R=e.isSegmentResponseCodeAcceptable,C=void 0===R?function(e){return 200===e}:R,I=e.isSegmentResponseCodeRetryable,M=void 0===I?a:I,D=e.isKeyResponseCodeAcceptable,N=void 0===D?function(e){return 200===e}:D,j=e.isKeyResponseCodeRetryable,L=void 0===j?a:j,U=this;this._keyRetrievalJobsCache=E(),this._initDataRetrievalJobsCache=E(),this._data=null,this._playlistEventRepresentation=null,this._onPlaylistRequestQueued=new k,this._onPlaylistRequestStart=new k,this._onPlaylistRetrieved=new k,this._onPlaylistRequestFailed=new k,this._onPlaylistParseStart=new k,this._onPlaylistParseEnd=new k,this._onKeyRequestQueued=new k,this._onKeyRequestStart=new k,this._onKeyRetrieved=new k,this._onKeyRequestFailed=new k,this._onInitDataRequestQueued=new k,this._onInitDataRequestStart=new k,this._onInitDataRetrieved=new k,this._onInitDataRequestFailed=new k,this._logger=A(l,"Playlist"),this.onPlaylistRequestQueued=this._onPlaylistRequestQueued.getHandle(),this.onPlaylistRequestStart=this._onPlaylistRequestStart.getHandle(),this.onPlaylistRetrieved=this._onPlaylistRetrieved.getHandle(),this.onPlaylistRequestFailed=this._onPlaylistRequestFailed.getHandle(),this.onPlaylistParseStart=this._onPlaylistParseStart.getHandle(),this.onPlaylistParseEnd=this._onPlaylistParseEnd.getHandle(),this.onKeyRequestQueued=this._onKeyRequestQueued.getHandle(),this.onKeyRequestStart=this._onKeyRequestStart.getHandle(),this.onKeyRetrieved=this._onKeyRetrieved.getHandle(),this.onKeyRequestFailed=this._onKeyRequestFailed.getHandle(),this.onInitDataRequestQueued=this._onInitDataRequestQueued.getHandle(),this.onInitDataRequestStart=this._onInitDataRequestStart.getHandle(),this.onInitDataRetrieved=this._onInitDataRetrieved.getHandle(),this.onInitDataRequestFailed=this._onInitDataRequestFailed.getHandle(),this._url=t,this._playlistLoader=n,this._segmentLoader=r,this._keyLoader=i,this._segmentFormat=s,this._keyDelayCalculator=h,this._isPlaylistResponseCodeAcceptable=_,this._isPlaylistResponseCodeRetryable=S,this._isSegmentResponseCodeAcceptable=C,this._isSegmentResponseCodeRetryable=M,this._isKeyOrInitDataResponseCodeAcceptable=N,this._isKeyOrInitDataResponseCodeRetryable=L,this._segmentDelayCalculator=g,this._downloadAbortableJob=new b(function(){var e=P(function(){return new b(function(){var e=new y.Playlist(t);U._onPlaylistRequestQueued.dispatch({playlist:e});var n=U._playlistLoader.request({url:t});return n.whenRequestStarted.then(function(){U._onPlaylistRequestStart.dispatch({playlist:e})}),U._logger.debug("Requesting playlist.",t),{result:n.getResponse().then(function(n){if(!n)return U._logger.warn("Playlist request timed out.",t),U._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:null}),{success:!1};var r=n.statusCode;if(U._isPlaylistResponseCodeAcceptable(r)){var o=n.data;return o?(U._logger.debug("Got playlist response.",t,r),U._onPlaylistRetrieved.dispatch({playlist:e,statusCode:r}),{success:!0,result:{playlistContent:o,eventRepresentation:e}}):(U._logger.warn("Playlist response contained no data.",t,r),U._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:r}),{success:!1})}return U._isPlaylistResponseCodeRetryable(r)?(U._logger.debug("Playlist response code was not acceptable. Will retry.",t,r),U._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:r}),{success:!1}):(U._logger.debug("Playlist response code was not acceptable.",t,r),U._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:r}),T.reject(new p.UnacceptableResponseStatusCodeError(r)))}),abort:function(){U._logger.debug("Aborting playlist request.",t),n.abort(),U._onPlaylistRequestFailed.dispatch({playlist:e,aborted:!0})}}})},d);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),this._retrieveJob=new b(function(){var e=U._downloadAbortableJob.run(),t=w();return e.onCompletion(function(e){var n=e.playlistContent,r=e.eventRepresentation;U._onPlaylistParseStart.dispatch({playlist:r});try{U._data=U._parsePlaylist(n)}catch(e){return U._logger.error("Error when parsing playlist.",e,n),void t.reject(e)}U._playlistEventRepresentation=r,U._onPlaylistParseEnd.dispatch({playlist:r}),t.resolve(void 0)}),e.onError(t.reject),{result:t.promise,abort:function(){return e.abort()}}},{storeResult:!1})}return e.prototype.retrieve=function(){return this._retrieveJob.run()},e.prototype.hasRetrieveCompleted=function(){return!!this._data},e.prototype.getStartingSequenceNumber=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.mediaSequence},e.prototype.getType=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.type},e.prototype.getTargetDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.targetDuration},e.prototype.getTotalDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.totalDuration},e.prototype.hasEnded=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.ended},e.prototype.getSegmentCount=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.segments.length},e.prototype.getSegment=function(e){return this.getSegments(e,e+1)[0]},e.prototype.getSegments=function(e,t){var n=this,r=this._data;if(!r)throw new Error("Not loaded yet.");var o=r.mediaSequence;void 0===e&&(e=o);var i=r.segments.length;if(void 0===t&&(t=o+i),e<o)throw new Error("Start index must be >= the first segment index.");if(t<o)throw new Error("End index must be >= the first segment index.");if(t>o+i)throw new Error("End index cannot be > than the index of the last segment.");if(t<e)throw new Error("End index must be >= start index.");return r.segments.slice(e-o,t-o).map(function(t,r){return new b(function(){var o=t.encryptionData,i=e+r,a=n._playlistEventRepresentation;if(!a)throw new Error("Playlist event representation should exist.");var s=n._buildEncryptionConfig(o,i),u=t.initDataUrl?n._retrieveInitData(t.initDataUrl):null;return{result:s.whenComplete().then(function(e){var r=function(r){return new f.Segment({url:t.url,sequenceNumber:i,playlist:n,timeRange:t.timeRange,format:n._segmentFormat,loader:n._segmentLoader,playlistEventRepresentation:a,logger:n._logger,delayCalculator:n._segmentDelayCalculator,isResponseCodeAcceptable:n._isSegmentResponseCodeAcceptable,isResponseCodeRetryable:n._isSegmentResponseCodeRetryable,encryptionConfig:e,initData:r})};return u?u.whenComplete().then(function(e){return r(e)}):r(void 0)}).catch(function(e){throw e instanceof d.OggParserError?new m.OggParserError(e instanceof d.ChecksumFailedError?"CHECKSUM_FAILED":e instanceof d.NoSegmentsInPageError?"NO_SEGMENTS_IN_PAGE":e instanceof d.PageFromDifferentBitstreamError?"PAGE_FROM_DIFFERENT_BITSTREAM":e instanceof d.PageSequenceNumberDidNotIncrementError?"SEQUENCE_NUMBER_DID_NOT_INCREMENT":e instanceof d.UnexpectedBOSError?"UNEXPECTED_BOS":e instanceof d.UnexpectedEOSError?"UNEXPECTED_EOS":"UNKNOWN"):e}),abort:function(){s.abort(),u&&u.abort()}}},{storeResult:!1}).run()})},e.prototype.getSegmentIndexContainingTime=function(e){var t=this._data;if(!t)throw new Error("Not loaded yet.");var n=R(t.segments,function(t){return t.timeRange.containsTime(e)});return n?t.mediaSequence+t.segments.indexOf(n):null},e.prototype._buildEncryptionConfig=function(e,t){var n=this;return new b(function(){if(e.method===u.NONE)return{result:T.resolve(void 0)};if(e.method!==u.AES_128)return n._logger.error("Unsupported encryption method.",e.method),{result:T.reject(new g.UnsupportedEncryptionError)};if(!n._keyLoader)return{result:T.reject(new Error("Encryption method not supported as no key loader provided."))};var r=n._retrieveKey(e.keyUrl);return{result:r.whenComplete().then(function(n){return{cipher:"AES-CBC",key:n,iv:e.iv||i(t)}}),abort:function(){return r.abort()}}}).run()},e.prototype._retrieveKey=function(e){var t=this,n=this._keyLoader;if(!n)throw new Error("No key loader.");var r=this._playlistEventRepresentation;if(!r)throw new Error("Playlist event representation should exist.");var o=new v.Key(r,e);return this._retrieveKeyOrInitData({url:e,loader:n,cache:this._keyRetrievalJobsCache,onRequestQueued:function(){return t._onKeyRequestQueued.dispatch({key:o})},onRequestStart:function(){return t._onKeyRequestStart.dispatch({key:o})},onRequestTimedOut:function(){t._onKeyRequestFailed.dispatch({key:o,statusCode:null})},onRequestFailed:function(e){t._onKeyRequestFailed.dispatch({key:o,statusCode:e})},onRequestAborted:function(){t._onKeyRequestFailed.dispatch({key:o,aborted:!0})},onRetrieved:function(e){t._onKeyRetrieved.dispatch({key:o,statusCode:e})},type:"key"})},e.prototype._retrieveInitData=function(e){var t=this,n=this._playlistEventRepresentation;if(!n)throw new Error("Playlist event representation should exist.");var r=new _.InitData(n,e);return this._retrieveKeyOrInitData({url:e,loader:this._segmentLoader,cache:this._initDataRetrievalJobsCache,onRequestQueued:function(){return t._onInitDataRequestQueued.dispatch({initData:r})},onRequestStart:function(){return t._onInitDataRequestStart.dispatch({initData:r})},onRequestTimedOut:function(){t._onInitDataRequestFailed.dispatch({initData:r,statusCode:null})},onRequestFailed:function(e){t._onInitDataRequestFailed.dispatch({initData:r,statusCode:e})},onRequestAborted:function(){t._onInitDataRequestFailed.dispatch({initData:r,aborted:!0})},onRetrieved:function(e){t._onInitDataRetrieved.dispatch({initData:r,statusCode:e})},type:"init data"})},e.prototype._retrieveKeyOrInitData=function(e){var t=this,n=e.url,r=e.loader,o=e.cache,i=e.onRequestQueued,a=e.onRequestStart,s=e.onRequestTimedOut,u=e.onRequestFailed,l=e.onRequestAborted,c=e.onRetrieved,d=e.type,f=o.get(n);return f?this._logger.debug(d+" retrieval already in progress.",n):(f=new b(function(){var e=P(function(){return new b(function(){i();var e=r.request({url:n});return e.whenRequestStarted.then(function(){return a()}),t._logger.debug("Retrieving "+d+".",n),{result:e.getResponse().then(function(e){if(!e)return t._logger.warn(d+" request timed out.",n),s(),{success:!1};var r=e.statusCode;if(t._isKeyOrInitDataResponseCodeAcceptable(r)){var o=e.data;return o?(t._logger.debug("Got "+d+" response.",n,r),c(r),{success:!0,result:new Uint8Array(o)}):(t._logger.warn(d+" response contained no data.",n,r),u(r),{success:!1})}return t._isKeyOrInitDataResponseCodeRetryable(r)?(t._logger.warn(d+" response code was not acceptable. Will retry.",n,r),u(r),{success:!1}):(t._logger.warn(d+" response code was not acceptable.",n,r),u(r),T.reject(new p.UnacceptableResponseStatusCodeError(r)))}),abort:function(){t._logger.debug("Aborting "+d+" request.",n),e.abort(),l()}}})},t._keyDelayCalculator);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),o.set(n,f)),f.run()},e.prototype._parsePlaylist=function(e){var t={version:null,type:l.LIVE,mediaSequence:null,targetDuration:null,totalDuration:0,ended:!1},n=[],r={method:u.NONE},i=null,a=null;I.lastIndex=0;for(var d,f=0,p=!1;null!==(d=I.exec(e));){var g=d.filter(function(e,t){return 0!==t&&void 0!==e}).map(function(e,t){return 0===t?e.toLowerCase():e}),y=g[0],v=g.slice(1);if(0===f){if("extm3u"!==y)throw new h.PlaylistParseError("First line did not contain EXTM3U tag.")}else{if(!p)switch(y){case"playlist-type":if(t.type!==l.LIVE)throw new h.PlaylistParseError("Already have playlist type.");switch(v[0].toLowerCase()){case"vod":t.type=l.VOD;break;case"event":t.type=l.EVENT;break;default:throw new h.PlaylistParseError("Invalid playlist type.")}break;case"media-sequence":if(null!==t.mediaSequence)throw new h.PlaylistParseError("Already have media sequence number.");var _=parseInt(v[0],10);if(_+""!==v[0])throw new h.PlaylistParseError("Invalid media sequence number.");t.mediaSequence=_;break;case"targetduration":if(null!==t.targetDuration)throw new h.PlaylistParseError("Already have target duration.");var m=parseInt(v[0],10);if(m+""!==v[0]||m<0)throw new h.PlaylistParseError("Invalid target duration.");t.targetDuration=1e3*m;break;case"version":if(null!==t.version)throw new h.PlaylistParseError("Already have version.");var b=parseInt(v[0],10);if(b+""!==v[0])throw new h.PlaylistParseError("Invalid version.");if(b<3)throw new h.PlaylistParseError("HLS version must be 3 or above.");t.version=b;break;default:p=!0}if(p)switch(y){case"key":var w="method"in(P=s(v[0]))?P.method.toLowerCase():null,E="uri"in P?C.buildAbsoluteUrl(this._url,P.uri):null,S="iv"in P?o(P.iv):null;if(!w)throw new h.PlaylistParseError("Missing encryption method.");if(!E&&"none"!==w)throw new h.PlaylistParseError("Missing key url.");switch(w){case"none":if(null!==E)throw new h.PlaylistParseError("Key url not allowed.");if(null!==S)throw new h.PlaylistParseError("IV not allowed.");r={method:u.NONE};break;case"aes-128":if(!E)throw new h.PlaylistParseError("Key url required.");r={method:u.AES_128,keyUrl:E,iv:S};break;case"sample-aes":if(!E)throw new h.PlaylistParseError("Key url required.");r={method:u.SAMPLE_AES,keyUrl:E,iv:S};break;default:throw new h.PlaylistParseError("Unknown encryption method.")}break;case"map":var P;if(!("uri"in(P=s(v[0]))))throw new h.PlaylistParseError("URI missing from EXT-X-MAP tag.");if("byterange"in P)throw new h.PlaylistParseError("BYTERANGE in EXT-X-MAP tag is currently unsupported.");i=P.uri?C.buildAbsoluteUrl(this._url,P.uri):null;break;case"inf":if(!v[0].match(D))throw new h.PlaylistParseError("Invalid segment duration.");a=1e3*parseFloat(v[0]);break;case"":if(t.ended)throw new h.PlaylistParseError("Already received ENDLIST tag.");if(null===a)throw new h.PlaylistParseError("Not received segment duration.");var x=C.buildAbsoluteUrl(this._url,v[0]);n.push({url:x,timeRange:new c.TimeRange(t.totalDuration,a),initDataUrl:i,encryptionData:r}),t.totalDuration+=a,a=null;break;case"endlist":if(t.ended)throw new h.PlaylistParseError("Already had ENDLIST tag.");t.ended=!0;break;default:this._logger.warn("Unable to parse playlist line.",y)}}f++}var T=t.version,R=t.type,k=t.mediaSequence,A=t.targetDuration,O=t.ended,M=t.totalDuration;if(null===T)throw new h.PlaylistParseError("Missing version.");if(null===A)throw new h.PlaylistParseError("Missing target duration.");if(O&&R===l.LIVE)throw new h.PlaylistParseError("Cannot be ended if type is LIVE.");if(!O&&R===l.VOD)throw new h.PlaylistParseError("Must be ended if type is VOD.");return null===k&&(k=0),{version:T,type:R,mediaSequence:k,targetDuration:A,totalDuration:M,ended:O,segments:n}},e}();t.Playlist=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),o=n(31),i=n(12),a=n(5),s=n(13),u=n(32);!function(e){e.NoDecryptorError=r.NoDecryptorError,e.PlaylistParseError=o.PlaylistParseError,e.OggParserError=i.OggParserError,e.RetrievalError=a.RetrievalError,e.UnacceptableResponseStatusCodeError=s.UnacceptableResponseStatusCodeError,e.UnsupportedEncryptionError=u.UnsupportedEncryptionError}(t.retrievalErrors||(t.retrievalErrors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),o=n(88);t.TransmuxerFactory={retrieveTransmuxers:function(e,t){return o.default.filter(function(n){var o=n.getInputFormat(),i=n.getOutputFormat();return(!e||r.isPartialMatch(o,e))&&(!t||r.isPartialMatch(i,t))})},retrieveTransmuxer:function(e,n){return t.TransmuxerFactory.retrieveTransmuxers(e,n)[0]||null}}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.AESDecryptor=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return r(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<n.length;r++)n[r]=t.getUint32(4*r);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix[0],r=this.subMix[1],o=this.subMix[2],i=this.subMix[3],a=this.invSubMix[0],s=this.invSubMix[1],u=this.invSubMix[2],l=this.invSubMix[3],c=new Uint32Array(256),d=0,f=0,p=0;for(p=0;p<256;p++)c[p]=p<128?p<<1:p<<1^283;for(p=0;p<256;p++){var h=f^f<<1^f<<2^f<<3^f<<4;e[d]=h=h>>>8^255&h^99,t[h]=d;var g=c[d],y=c[g],v=c[y],_=257*c[h]^16843008*h;n[d]=_<<24|_>>>8,r[d]=_<<16|_>>>16,o[d]=_<<8|_>>>24,i[d]=_,a[h]=(_=16843009*v^65537*y^257*g^16843008*d)<<24|_>>>8,s[h]=_<<16|_>>>16,u[h]=_<<8|_>>>24,l[h]=_,d?(d=g^c[c[c[v^g]]],f^=c[c[f]]):d=f=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var o=this.keySize=t.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var i=this.ksRows=4*(o+6+1),a=void 0,s=void 0,u=this.keySchedule=new Uint32Array(this.ksRows),l=this.invKeySchedule=new Uint32Array(this.ksRows),c=this.sBox,d=this.rcon,f=this.invSubMix[0],p=this.invSubMix[1],h=this.invSubMix[2],g=this.invSubMix[3],y=void 0,v=void 0;for(a=0;a<i;a++)a<o?y=u[a]=t[a]:(v=y,a%o==0?(v=c[(v=v<<8|v>>>24)>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v],v^=d[a/o|0]<<24):o>6&&a%o==4&&(v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v]),u[a]=y=(u[a-o]^v)>>>0);for(s=0;s<i;s++)a=i-s,v=3&s?u[a]:u[a-4],l[s]=s<4||a<=4?v:f[c[v>>>24]]^p[c[v>>>16&255]]^h[c[v>>>8&255]]^g[c[255&v]],l[s]=l[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var r,o,i=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,u=this.invSubMix[0],l=this.invSubMix[1],c=this.invSubMix[2],d=this.invSubMix[3],f=this.uint8ArrayToUint32Array_(n),p=f[0],h=f[1],g=f[2],y=f[3],v=new Int32Array(e),_=new Int32Array(v.length),m=void 0,b=void 0,w=void 0,E=void 0,S=void 0,P=void 0,x=void 0,T=void 0,R=void 0,C=void 0,k=void 0,A=void 0;t<v.length;){for(R=this.networkToHostOrderSwap(v[t]),C=this.networkToHostOrderSwap(v[t+1]),k=this.networkToHostOrderSwap(v[t+2]),A=this.networkToHostOrderSwap(v[t+3]),S=R^a[0],P=A^a[1],x=k^a[2],T=C^a[3],r=4,o=1;o<i;o++)b=u[P>>>24]^l[x>>16&255]^c[T>>8&255]^d[255&S]^a[r+1],w=u[x>>>24]^l[T>>16&255]^c[S>>8&255]^d[255&P]^a[r+2],E=u[T>>>24]^l[S>>16&255]^c[P>>8&255]^d[255&x]^a[r+3],S=m=u[S>>>24]^l[P>>16&255]^c[x>>8&255]^d[255&T]^a[r],P=b,x=w,T=E,r+=4;m=s[S>>>24]<<24^s[P>>16&255]<<16^s[x>>8&255]<<8^s[255&T]^a[r],b=s[P>>>24]<<24^s[x>>16&255]<<16^s[T>>8&255]<<8^s[255&S]^a[r+1],w=s[x>>>24]<<24^s[T>>16&255]<<16^s[S>>8&255]<<8^s[255&P]^a[r+2],E=s[T>>>24]<<24^s[S>>16&255]<<16^s[P>>8&255]<<8^s[255&x]^a[r+3],r+=3,_[t]=this.networkToHostOrderSwap(m^p),_[t+1]=this.networkToHostOrderSwap(E^h),_[t+2]=this.networkToHostOrderSwap(w^g),_[t+3]=this.networkToHostOrderSwap(b^y),p=R,h=C,g=k,y=A,t+=4}return _.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}()},function(e,t,n){"use strict";function r(){this.buffer=null,this.bufferSize=0}t.__esModule=!0,t.MP3Parser=r;var o=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],i=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];r.prototype.push=function(e){var t;if(this.bufferSize>0){var n=e.length+this.bufferSize;if(!this.buffer||this.buffer.length<n){var r=new Uint8Array(n);this.bufferSize>0&&r.set(this.buffer.subarray(0,this.bufferSize)),this.buffer=r}this.buffer.set(e,this.bufferSize),this.bufferSize=n,e=this.buffer,t=n}else t=e.length;for(var o,i=0;i<t&&(o=this._parse(e,i,t))>0;)i+=o;var a=t-i;a>0&&(!this.buffer||this.buffer.length<a?this.buffer=new Uint8Array(e.subarray(i,t)):this.buffer.set(e.subarray(i,t))),this.bufferSize=a},r.prototype._parse=function(e,t,n){if(t+2>n)return-1;if(255===e[t]||224==(224&e[t+1])){if(t+24>n)return-1;var r=e[t+1]>>3&3,a=e[t+1]>>1&3,s=e[t+2]>>4&15,u=e[t+2]>>2&3;if(1!==r&&0!==s&&15!==s&&3!==u){var l=1e3*o[14*(3===r?3-a:3===a?3:4)+s-1],c=i[3*(3===r?0:2===r?1:2)+u],d=2&e[t+2]?1:0,f=3===a?(3===r?12:6)*l/c+d<<2:(3===r?144:72)*l/c+d|0;return t+f>n?-1:(this.onFrame&&this.onFrame(e.subarray(t,t+f)),f)}}for(var p=t+2;p<n;){if(255===e[p-1]&&224==(224&e[p]))return this.onNoise&&this.onNoise(e.subarray(t,p-1)),p-t-1;p++}return-1},r.prototype.close=function(){this.bufferSize>0&&this.onNoise&&this.onNoise(this.buffer.subarray(0,this.bufferSize)),this.buffer=null,this.bufferSize=0,this.onClose&&this.onClose()}},function(e,t,n){"use strict";t.__esModule=!0;var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){!function(e){e.utf8decode=function(e){for(var t=new Uint8Array(4*e.length),n=0,r=0,o=e.length;r<o;r++){var i=e.charCodeAt(r);if(i<=127)t[n++]=i;else{if(55296<=i&&i<=56319){var a=e.charCodeAt(r+1);56320<=a&&a<=57343&&(i=((1023&i)<<10)+(1023&a)+65536,++r)}0!=(4292870144&i)?(t[n++]=248|i>>>24&3,t[n++]=128|i>>>18&63,t[n++]=128|i>>>12&63,t[n++]=128|i>>>6&63,t[n++]=128|63&i):0!=(4294901760&i)?(t[n++]=240|i>>>18&7,t[n++]=128|i>>>12&63,t[n++]=128|i>>>6&63,t[n++]=128|63&i):0!=(4294965248&i)?(t[n++]=224|i>>>12&15,t[n++]=128|i>>>6&63,t[n++]=128|63&i):(t[n++]=192|i>>>6&31,t[n++]=128|63&i)}}return t.subarray(0,n)},e.utf8encode=function(e){for(var t=0,n="";t<e.length;){var r=255&e[t++];if(r<=127)n+=String.fromCharCode(r);else{var o=192,i=5;do{if((r&(o>>1|128))===o)break;o=o>>1|128,--i}while(i>=0);if(i<=0)throw new Error("Invalid UTF8 character");for(var a=r&(1<<i)-1,s=5;s>=i;--s){var u=e[t++];if(128!=(192&u))throw new Error("Invalid UTF8 character sequence");a=a<<6|63&u}n+=a>=65536?String.fromCharCode(a-65536>>10&1023|55296,1023&a|56320):String.fromCharCode(a)}}return n}}(e.StringUtilities||(e.StringUtilities={}))}(o||(o={})),function(e){!function(e){function t(e){for(var t=e.length>>1,n=new Uint8Array(t),r=0;r<t;r++)n[r]=parseInt(e.substr(2*r,2),16);return n}function n(e){var t,n=0,u=r.RAW,l=e[n],c=l>>4,d=l>>2&3,f=2&l?16:8,p=1&l?2:1;switch(n++,c){case s:u=e[n++],t=1024;break;case a:var h=e[n+1]>>1&3;t=1===h?3==(e[n+1]>>3&3)?1152:576:3===h?384:1152}return{codecDescription:i[c],codecId:c,data:e.subarray(n),rate:o[d],size:f,channels:p,samples:t,packetType:u}}var r,o=[5500,11025,22050,44100],i=["PCM","ADPCM","MP3","PCM le","Nellymouser16","Nellymouser8","Nellymouser","G.711 A-law","G.711 mu-law",null,"AAC","Speex","MP3 8khz"],a=2,s=10;!function(e){e[e.HEADER=0]="HEADER",e[e.RAW=1]="RAW"}(r||(r={}));var u,l,c,d=[null,"JPEG","Sorenson","Screen","VP6","VP6 alpha","Screen2","AVC"];!function(e){e[e.KEY=1]="KEY",e[e.INNER=2]="INNER",e[e.DISPOSABLE=3]="DISPOSABLE",e[e.GENERATED=4]="GENERATED",e[e.INFO=5]="INFO"}(u||(u={})),function(e){e[e.HEADER=0]="HEADER",e[e.NALU=1]="NALU",e[e.END=2]="END"}(l||(l={})),function(e){e[e.CAN_GENERATE_HEADER=0]="CAN_GENERATE_HEADER",e[e.NEED_HEADER_DATA=1]="NEED_HEADER_DATA",e[e.MAIN_PACKETS=2]="MAIN_PACKETS"}(c||(c={}));var f=function(){function o(e){var t=this;this.oncodecinfo=function(e){},this.ondata=function(e){throw new Error("MP4Mux.ondata is not set")},this.metadata=e,this.trackStates=this.metadata.tracks.map(function(e,n){var r={trackId:n+1,trackInfo:e,cachedDuration:0,samplesProcessed:0,initializationData:[]};return t.metadata.audioTrackId===n&&(t.audioTrackState=r),t.metadata.videoTrackId===n&&(t.videoTrackState=r),r},this),this._checkIfNeedHeaderData(),this.filePos=0,this.cachedPackets=[],this.chunkIndex=0}return o.prototype.pushPacket=function(e,t,o){switch(this.state===c.CAN_GENERATE_HEADER&&this._tryGenerateHeader(),e){case 8:var i=this.audioTrackState,u=n(t);if(!i||i.trackInfo.codecId!==u.codecId)throw new Error("Unexpected audio packet codec: "+u.codecDescription);switch(u.codecId){default:throw new Error("Unsupported audio codec: "+u.codecDescription);case a:break;case s:if(u.packetType===r.HEADER)return void i.initializationData.push(u.data)}this.cachedPackets.push({packet:u,timestamp:o,trackId:i.trackId});break;case 9:var f=this.videoTrackState,p=function(e){var t=0,n=e[t]>>4,r=15&e[t];t++;var o={frameType:n,codecId:r,codecDescription:d[r]};switch(r){case 7:var i=e[t++];o.packetType=i,o.compositionTime=(e[t]<<24|e[t+1]<<16|e[t+2]<<8)>>8,t+=3;break;case 4:o.packetType=l.NALU,o.horizontalOffset=e[t]>>4&15,o.verticalOffset=15&e[t],o.compositionTime=0,t++}return o.data=e.subarray(t),o}(t);if(!f||f.trackInfo.codecId!==p.codecId)throw new Error("Unexpected video packet codec: "+p.codecDescription);switch(p.codecId){default:throw new Error("unsupported video codec: "+p.codecDescription);case 4:break;case 7:if(p.packetType===l.HEADER)return void f.initializationData.push(p.data)}this.cachedPackets.push({packet:p,timestamp:o,trackId:f.trackId});break;default:throw new Error("unknown packet type: "+e)}this.state===c.NEED_HEADER_DATA&&this._tryGenerateHeader(),this.cachedPackets.length>=50&&this.state===c.MAIN_PACKETS&&this._chunk()},o.prototype.flush=function(){this.cachedPackets.length>0&&this._chunk()},o.prototype._checkIfNeedHeaderData=function(){this.state=this.trackStates.some(function(e){return e.trackInfo.codecId===s||7===e.trackInfo.codecId})?c.NEED_HEADER_DATA:c.CAN_GENERATE_HEADER},o.prototype._tryGenerateHeader=function(){if(this.trackStates.every(function(e){switch(e.trackInfo.codecId){case s:case 7:return e.initializationData.length>0;default:return!0}})){for(var n=["isom"],r=[],o=0;o<this.trackStates.length;o++){var i,u=this.trackStates[o],l=u.trackInfo;switch(l.codecId){case s:var d=u.initializationData[0];i=new e.Iso.AudioSampleEntry("mp4a",1,l.channels,l.samplesize,l.samplerate);var f=new Uint8Array(41+d.length);f.set(t("0000000003808080"),0),f[8]=32+d.length,f.set(t("00020004808080"),9),f[16]=18+d.length,f.set(t("40150000000000FA000000000005808080"),17),f[34]=d.length,f.set(d,35),f.set(t("068080800102"),35+d.length),i.otherBoxes=[new e.Iso.RawTag("esds",f)],u.mimeTypeCodec="mp4a.40."+(d[0]>>3);break;case a:i=new e.Iso.AudioSampleEntry(".mp3",1,l.channels,l.samplesize,l.samplerate),u.mimeTypeCodec="mp3";break;case 7:var p=u.initializationData[0];(i=new e.Iso.VideoSampleEntry("avc1",1,l.width,l.height)).otherBoxes=[new e.Iso.RawTag("avcC",p)],u.mimeTypeCodec="avc1."+(p[1]<<16|p[2]<<8|p[3]|16777216).toString(16).substr(1),n.push("iso2","avc1","mp41");break;case 4:(i=new e.Iso.VideoSampleEntry("VP6F",1,l.width,l.height)).otherBoxes=[new e.Iso.RawTag("glbl",t("00"))],u.mimeTypeCodec="avc1.42001E";break;default:throw new Error("not supported track type")}var h,g=e.Iso.TrackHeaderFlags.TRACK_ENABLED|e.Iso.TrackHeaderFlags.TRACK_IN_MOVIE;u===this.audioTrackState?h=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(g,u.trackId,-1,0,0,1,o),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(l.timescale,-1,l.language),new e.Iso.HandlerBox("soun","SoundHandler"),new e.Iso.MediaInformationBox(new e.Iso.SoundMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([i]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000")))))):u===this.videoTrackState&&(h=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(g,u.trackId,-1,l.width,l.height,0,o),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(l.timescale,-1,l.language),new e.Iso.HandlerBox("vide","VideoHandler"),new e.Iso.MediaInformationBox(new e.Iso.VideoMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([i]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000"))))))),r.push(h)}var y=new e.Iso.MovieExtendsBox(null,[new e.Iso.TrackExtendsBox(1,1,0,0,0),new e.Iso.TrackExtendsBox(2,1,0,0,0)],null),v=new e.Iso.BoxContainerBox("udat",[new e.Iso.MetaBox(new e.Iso.RawTag("hdlr",t("00000000000000006D6469726170706C000000000000000000")),[new e.Iso.RawTag("ilst",t("00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034"))])]),_=new e.Iso.MovieHeaderBox(1e3,0,this.trackStates.length+1),m=new e.Iso.MovieBox(_,r,y,v),b=new e.Iso.FileTypeBox("isom",512,n),w=b.layout(0),E=m.layout(w),S=new Uint8Array(w+E);b.write(S),m.write(S),this.oncodecinfo(this.trackStates.map(function(e){return e.mimeTypeCodec})),this.ondata(S),this.filePos+=S.length,this.state=c.MAIN_PACKETS}},o.prototype._chunk=function(){var t=this.cachedPackets;if(this.videoTrackState){for(var n=t.length-1,r=this.videoTrackState.trackId;n>0&&(t[n].trackId!==r||t[n].packet.frameType!==u.KEY);)n--;n>0&&(t=t.slice(0,n))}if(0!==t.length){for(var o=[],i=0,l=[],c=[],d=0;d<this.trackStates.length;d++){var f=this.trackStates[d],p=f.trackInfo,h=f.trackId,g=t.filter(function(e){return e.trackId===h});if(0!==g.length){var y,v,_,m=new e.Iso.TrackFragmentBaseMediaDecodeTimeBox(f.cachedDuration);switch(c.push(i),p.codecId){case s:case a:for(_=[],n=0;n<g.length;n++){var b=g[n].packet,w=Math.round(b.samples*p.timescale/p.samplerate);o.push(b.data),i+=b.data.length,_.push({duration:w,size:b.data.length}),f.samplesProcessed+=b.samples}y=new e.Iso.TrackFragmentHeaderBox(e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT,h,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS),v=new e.Iso.TrackRunBox(e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT,_,0,0),f.cachedDuration=Math.round(f.samplesProcessed*p.timescale/p.samplerate);break;case 7:case 4:_=[];var E=f.samplesProcessed,S=Math.round(E*p.timescale/p.framerate);for(n=0;n<g.length;n++){var P=g[n].packet;E++;var x=Math.round(E*p.timescale/p.framerate),T=x-S;S=x;var R=Math.round(E*p.timescale/p.framerate+P.compositionTime*p.timescale/1e3);o.push(P.data),i+=P.data.length,_.push({duration:T,size:P.data.length,flags:P.frameType===u.KEY?e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS:e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_OTHER|e.Iso.SampleFlags.SAMPLE_IS_NOT_SYNC,compositionTimeOffset:R-x})}y=new e.Iso.TrackFragmentHeaderBox(e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT,h,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS),v=new e.Iso.TrackRunBox(e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT|e.Iso.TrackRunFlags.SAMPLE_FLAGS_PRESENT|e.Iso.TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET,_,0,0),f.cachedDuration=S,f.samplesProcessed=E;break;default:throw new Error("Un codec")}var C=new e.Iso.TrackFragmentBox(y,m,v);l.push(C)}}this.cachedPackets.splice(0,t.length);var k=new e.Iso.MovieFragmentHeaderBox(++this.chunkIndex),A=new e.Iso.MovieFragmentBox(k,l),O=A.layout(0),I=new e.Iso.MediaDataBox(o),M=I.layout(O),D=O+8;for(d=0;d<l.length;d++)l[d].run.dataOffset=D+c[d];var N=new Uint8Array(O+M);A.write(N),I.write(N),this.ondata(N),this.filePos+=N.length}},o}();e.MP4Mux=f,e.parseFLVMetadata=function(e){var t,n,r=[],o=-1,i=-1,u=+e.asGetPublicProperty("duration"),l=e.asGetPublicProperty("audiocodecid");switch(l){case a:case"mp3":t="mp3",n=a;break;case s:case"mp4a":t="mp4a",n=s;break;default:if(!isNaN(l))throw new Error("Unsupported audio codec: "+l);t=null,n=-1}var c,d,f=e.asGetPublicProperty("videocodecid");switch(f){case 4:case"vp6f":c="vp6f",d=4;break;case 7:case"avc1":c="avc1",d=7;break;default:if(!isNaN(f))throw new Error("Unsupported video codec: "+f);c=null,d=-1}var p=null===t?null:{codecDescription:t,codecId:n,language:"und",timescale:+e.asGetPublicProperty("audiosamplerate")||44100,samplerate:+e.asGetPublicProperty("audiosamplerate")||44100,channels:+e.asGetPublicProperty("audiochannels")||2,samplesize:16},h=null===c?null:{codecDescription:c,codecId:d,language:"und",timescale:6e4,framerate:+e.asGetPublicProperty("videoframerate")||+e.asGetPublicProperty("framerate"),width:+e.asGetPublicProperty("width"),height:+e.asGetPublicProperty("height")},g=e.asGetPublicProperty("trackinfo");if(g)for(var y=0;y<g.length;y++){var v=g[y],_=v.asGetPublicProperty("sampledescription")[0];_.asGetPublicProperty("sampletype")===l?(p.language=v.asGetPublicProperty("language"),p.timescale=+v.asGetPublicProperty("timescale")):_.asGetPublicProperty("sampletype")===f&&(h.language=v.asGetPublicProperty("language"),h.timescale=+v.asGetPublicProperty("timescale"))}return h&&(i=r.length,r.push(h)),p&&(o=r.length,r.push(p)),{tracks:r,duration:u,audioTrackId:o,videoTrackId:i}},e.splitMetadata=function(e){var t=[];return e.audioTrackId>=0&&t.push({tracks:[e.tracks[e.audioTrackId]],duration:e.duration,audioTrackId:0,videoTrackId:-1}),e.videoTrackId>=0&&t.push({tracks:[e.tracks[e.videoTrackId]],duration:e.duration,audioTrackId:-1,videoTrackId:0}),t}}(e.MP4||(e.MP4={}))}(r||(r={})),function(e){!function(e){!function(e){function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Array.prototype.concat.apply(e,t)}function n(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function r(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}function a(e){return(e-d)/1e3|0}function s(e){return 65536*e|0}function u(e){return 1073741824*e|0}function l(e){return 256*e|0}var c=o.StringUtilities.utf8decode,d=-20828448e5,f=[1,0,0,0,1,0,0,0,1],p=[0,0,0],h=function(){function e(e,t){this.boxtype=e,"uuid"===e&&(this.userType=t)}return e.prototype.layout=function(e){this.offset=e;var t=8;return this.userType&&(t+=16),this.size=t,t},e.prototype.write=function(e){return n(e,this.offset,this.size),n(e,this.offset+4,r(this.boxtype)),this.userType?(e.set(this.userType,this.offset+8),24):8},e.prototype.toUint8Array=function(){var e=this.layout(0),t=new Uint8Array(e);return this.write(t),t},e}();e.Box=h;var g=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o=e.call(this,t)||this;return o.version=n,o.flags=r,o}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.version<<24|this.flags),r+4},t}(h);e.FullBox=g;var y=function(e){function t(t,n,r){var o=e.call(this,"ftype")||this;return o.majorBrand=t,o.minorVersion=n,o.compatibleBrands=r,o}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4*(2+this.compatibleBrands.length),this.size},t.prototype.write=function(t){var o=this,i=e.prototype.write.call(this,t);return n(t,this.offset+i,r(this.majorBrand)),n(t,this.offset+i+4,this.minorVersion),i+=8,this.compatibleBrands.forEach(function(e){n(t,o.offset+i,r(e)),i+=4},this),i},t}(h);e.FileTypeBox=y;var v=function(e){function t(t,n){var r=e.call(this,t)||this;return r.children=n,r}return i(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.children.forEach(function(e){e&&(n+=e.layout(t+n))}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return this.children.forEach(function(e){e&&(n+=e.write(t))}),n},t}(h);e.BoxContainerBox=v;var _=function(e){function n(n,r,o,i){var a=e.call(this,"moov",t([n],r,[o,i]))||this;return a.header=n,a.tracks=r,a.extendsBox=o,a.userData=i,a}return i(n,e),n}(v);e.MovieBox=_;var m=function(e){function t(t,n,r,o,i,a,s,u){void 0===o&&(o=1),void 0===i&&(i=1),void 0===a&&(a=f),void 0===s&&(s=d),void 0===u&&(u=d);var l=e.call(this,"mvhd",0,0)||this;return l.timescale=t,l.duration=n,l.nextTrackId=r,l.rate=o,l.volume=i,l.matrix=a,l.creationTime=s,l.modificationTime=u,l}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4+2+2+8+36+24+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,a(this.creationTime)),n(t,this.offset+r+4,a(this.modificationTime)),n(t,this.offset+r+8,this.timescale),n(t,this.offset+r+12,this.duration),n(t,this.offset+(r+=16),s(this.rate)),n(t,this.offset+r+4,l(this.volume)<<16),n(t,this.offset+r+8,0),n(t,this.offset+r+12,0),n(t,this.offset+(r+=16),s(this.matrix[0])),n(t,this.offset+r+4,s(this.matrix[1])),n(t,this.offset+r+8,s(this.matrix[2])),n(t,this.offset+r+12,s(this.matrix[3])),n(t,this.offset+r+16,s(this.matrix[4])),n(t,this.offset+r+20,s(this.matrix[5])),n(t,this.offset+r+24,u(this.matrix[6])),n(t,this.offset+r+28,u(this.matrix[7])),n(t,this.offset+r+32,u(this.matrix[8])),n(t,this.offset+(r+=36),0),n(t,this.offset+r+4,0),n(t,this.offset+r+8,0),n(t,this.offset+r+12,0),n(t,this.offset+r+16,0),n(t,this.offset+r+20,0),n(t,this.offset+(r+=24),this.nextTrackId),r+4},t}(g);e.MovieHeaderBox=m,function(e){e[e.TRACK_ENABLED=1]="TRACK_ENABLED",e[e.TRACK_IN_MOVIE=2]="TRACK_IN_MOVIE",e[e.TRACK_IN_PREVIEW=4]="TRACK_IN_PREVIEW"}(e.TrackHeaderFlags||(e.TrackHeaderFlags={}));var b=function(e){function t(t,n,r,o,i,a,s,u,l,c,p){void 0===s&&(s=0),void 0===u&&(u=0),void 0===l&&(l=f),void 0===c&&(c=d),void 0===p&&(p=d);var h=e.call(this,"tkhd",0,t)||this;return h.trackId=n,h.duration=r,h.width=o,h.height=i,h.volume=a,h.alternateGroup=s,h.layer=u,h.matrix=l,h.creationTime=c,h.modificationTime=p,h}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20+8+6+2+36+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,a(this.creationTime)),n(t,this.offset+r+4,a(this.modificationTime)),n(t,this.offset+r+8,this.trackId),n(t,this.offset+r+12,0),n(t,this.offset+r+16,this.duration),n(t,this.offset+(r+=20),0),n(t,this.offset+r+4,0),n(t,this.offset+r+8,this.layer<<16|this.alternateGroup),n(t,this.offset+r+12,l(this.volume)<<16),n(t,this.offset+(r+=16),s(this.matrix[0])),n(t,this.offset+r+4,s(this.matrix[1])),n(t,this.offset+r+8,s(this.matrix[2])),n(t,this.offset+r+12,s(this.matrix[3])),n(t,this.offset+r+16,s(this.matrix[4])),n(t,this.offset+r+20,s(this.matrix[5])),n(t,this.offset+r+24,u(this.matrix[6])),n(t,this.offset+r+28,u(this.matrix[7])),n(t,this.offset+r+32,u(this.matrix[8])),n(t,this.offset+(r+=36),s(this.width)),n(t,this.offset+r+4,s(this.height)),r+8},t}(g);e.TrackHeaderBox=b;var w=function(e){function t(t,n,r,o,i){void 0===r&&(r="unk"),void 0===o&&(o=d),void 0===i&&(i=d);var a=e.call(this,"mdhd",0,0)||this;return a.timescale=t,a.duration=n,a.language=r,a.creationTime=o,a.modificationTime=i,a}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,a(this.creationTime)),n(t,this.offset+r+4,a(this.modificationTime)),n(t,this.offset+r+8,this.timescale),n(t,this.offset+r+12,this.duration),n(t,this.offset+r+16,function(e){return(31&e.charCodeAt(0))<<10|(31&e.charCodeAt(1))<<5|31&e.charCodeAt(2)}(this.language)<<16),r+20},t}(g);e.MediaHeaderBox=w;var E=function(e){function t(t,n){var r=e.call(this,"hdlr",0,0)||this;return r.handlerType=t,r.name=n,r._encodedName=c(r.name),r}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8+12+(this._encodedName.length+1),this.size},t.prototype.write=function(t){var o=e.prototype.write.call(this,t);return n(t,this.offset+o,0),n(t,this.offset+o+4,r(this.handlerType)),n(t,this.offset+o+8,0),n(t,this.offset+o+12,0),n(t,this.offset+o+16,0),t.set(this._encodedName,this.offset+(o+=20)),t[this.offset+o+this._encodedName.length]=0,o+(this._encodedName.length+1)},t}(g);e.HandlerBox=E;var S=function(e){function t(t){void 0===t&&(t=0);var n=e.call(this,"smhd",0,0)||this;return n.balance=t,n}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,l(this.balance)<<16),r+4},t}(g);e.SoundMediaHeaderBox=S;var P=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=p);var r=e.call(this,"vmhd",0,0)||this;return r.graphicsMode=t,r.opColor=n,r}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.graphicsMode<<16|this.opColor[0]),n(t,this.offset+r+4,this.opColor[1]<<16|this.opColor[2]),r+8},t}(g);e.VideoMediaHeaderBox=P,e.SELF_CONTAINED_DATA_REFERENCE_FLAG=1;var x=function(t){function n(n,r){void 0===r&&(r=null);var o=t.call(this,"url ",0,n)||this;return o.location=r,n&e.SELF_CONTAINED_DATA_REFERENCE_FLAG||(o._encodedLocation=c(r)),o}return i(n,t),n.prototype.layout=function(e){var n=t.prototype.layout.call(this,e);return this._encodedLocation&&(n+=this._encodedLocation.length+1),this.size=n},n.prototype.write=function(e){var n=t.prototype.write.call(this,e);return this._encodedLocation&&(e.set(this._encodedLocation,this.offset+n),e[this.offset+n+this._encodedLocation.length]=0,n+=this._encodedLocation.length),n},n}(g);e.DataEntryUrlBox=x;var T=function(e){function t(t){var n=e.call(this,"dref",0,0)||this;return n.entries=t,n}return i(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4;return this.entries.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.entries.length),this.entries.forEach(function(e){r+=e.write(t)}),r},t}(g);e.DataReferenceBox=T;var R=function(e){function t(t){var n=e.call(this,"dinf",[t])||this;return n.dataReference=t,n}return i(t,e),t}(v);e.DataInformationBox=R;var C=function(e){function t(t){var n=e.call(this,"stsd",0,0)||this;return n.entries=t,n}return i(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return n+=4,this.entries.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.entries.length),r+=4,this.entries.forEach(function(e){r+=e.write(t)}),r},t}(g);e.SampleDescriptionBox=C;var k=function(e){function t(t,n,r,o,i){var a=e.call(this,"stbl",[t,n,r,o,i])||this;return a.sampleDescriptions=t,a.timeToSample=n,a.sampleToChunk=r,a.sampleSizes=o,a.chunkOffset=i,a}return i(t,e),t}(v);e.SampleTableBox=k;var A=function(e){function t(t,n,r){var o=e.call(this,"minf",[t,n,r])||this;return o.header=t,o.info=n,o.sampleTable=r,o}return i(t,e),t}(v);e.MediaInformationBox=A;var O=function(e){function t(t,n,r){var o=e.call(this,"mdia",[t,n,r])||this;return o.header=t,o.handler=n,o.info=r,o}return i(t,e),t}(v);e.MediaBox=O;var I=function(e){function t(t,n){var r=e.call(this,"trak",[t,n])||this;return r.header=t,r.media=n,r}return i(t,e),t}(v);e.TrackBox=I;var M=function(e){function t(t,n,r,o,i){var a=e.call(this,"trex",0,0)||this;return a.trackId=t,a.defaultSampleDescriptionIndex=n,a.defaultSampleDuration=r,a.defaultSampleSize=o,a.defaultSampleFlags=i,a}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.trackId),n(t,this.offset+r+4,this.defaultSampleDescriptionIndex),n(t,this.offset+r+8,this.defaultSampleDuration),n(t,this.offset+r+12,this.defaultSampleSize),n(t,this.offset+r+16,this.defaultSampleFlags),r+20},t}(g);e.TrackExtendsBox=M;var D=function(e){function n(n,r,o){var i=e.call(this,"mvex",t([n],r,[o]))||this;return i.header=n,i.tracDefaults=r,i.levels=o,i}return i(n,e),n}(v);e.MovieExtendsBox=D;var N=function(e){function t(t,n){var r=e.call(this,"meta",0,0)||this;return r.handler=t,r.otherBoxes=n,r}return i(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return n+=this.handler.layout(t+n),this.otherBoxes.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return n+=this.handler.write(t),this.otherBoxes.forEach(function(e){n+=e.write(t)}),n},t}(g);e.MetaBox=N;var j,L=function(e){function t(t){var n=e.call(this,"mfhd",0,0)||this;return n.sequenceNumber=t,n}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.sequenceNumber),r+4},t}(g);e.MovieFragmentHeaderBox=L,function(e){e[e.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",e[e.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",e[e.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",e[e.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",e[e.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT"}(j=e.TrackFragmentFlags||(e.TrackFragmentFlags={}));var U=function(e){function t(t,n,r,o,i,a,s){var u=e.call(this,"tfhd",0,t)||this;return u.trackId=n,u.baseDataOffset=r,u.sampleDescriptionIndex=o,u.defaultSampleDuration=i,u.defaultSampleSize=a,u.defaultSampleFlags=s,u}return i(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4,r=this.flags;return r&j.BASE_DATA_OFFSET_PRESENT&&(n+=8),r&j.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(n+=4),r&j.DEFAULT_SAMPLE_DURATION_PRESENT&&(n+=4),r&j.DEFAULT_SAMPLE_SIZE_PRESENT&&(n+=4),r&j.DEFAULT_SAMPLE_FLAGS_PRESENT&&(n+=4),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t),o=this.flags;return n(t,this.offset+r,this.trackId),r+=4,o&j.BASE_DATA_OFFSET_PRESENT&&(n(t,this.offset+r,0),n(t,this.offset+r+4,this.baseDataOffset),r+=8),o&j.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(n(t,this.offset+r,this.sampleDescriptionIndex),r+=4),o&j.DEFAULT_SAMPLE_DURATION_PRESENT&&(n(t,this.offset+r,this.defaultSampleDuration),r+=4),o&j.DEFAULT_SAMPLE_SIZE_PRESENT&&(n(t,this.offset+r,this.defaultSampleSize),r+=4),o&j.DEFAULT_SAMPLE_FLAGS_PRESENT&&(n(t,this.offset+r,this.defaultSampleFlags),r+=4),r},t}(g);e.TrackFragmentHeaderBox=U;var F=function(e){function t(t){var n=e.call(this,"tfdt",0,0)||this;return n.baseMediaDecodeTime=t,n}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.baseMediaDecodeTime),r+4},t}(g);e.TrackFragmentBaseMediaDecodeTimeBox=F;var B,H=function(e){function t(t,n,r){var o=e.call(this,"traf",[t,n,r])||this;return o.header=t,o.decodeTime=n,o.run=r,o}return i(t,e),t}(v);e.TrackFragmentBox=H,function(e){e[e.IS_LEADING_MASK=201326592]="IS_LEADING_MASK",e[e.SAMPLE_DEPENDS_ON_MASK=50331648]="SAMPLE_DEPENDS_ON_MASK",e[e.SAMPLE_DEPENDS_ON_OTHER=16777216]="SAMPLE_DEPENDS_ON_OTHER",e[e.SAMPLE_DEPENDS_ON_NO_OTHERS=33554432]="SAMPLE_DEPENDS_ON_NO_OTHERS",e[e.SAMPLE_IS_DEPENDED_ON_MASK=12582912]="SAMPLE_IS_DEPENDED_ON_MASK",e[e.SAMPLE_HAS_REDUNDANCY_MASK=3145728]="SAMPLE_HAS_REDUNDANCY_MASK",e[e.SAMPLE_PADDING_VALUE_MASK=917504]="SAMPLE_PADDING_VALUE_MASK",e[e.SAMPLE_IS_NOT_SYNC=65536]="SAMPLE_IS_NOT_SYNC",e[e.SAMPLE_DEGRADATION_PRIORITY_MASK=65535]="SAMPLE_DEGRADATION_PRIORITY_MASK"}(e.SampleFlags||(e.SampleFlags={})),function(e){e[e.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",e[e.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",e[e.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",e[e.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_COMPOSITION_TIME_OFFSET=2048]="SAMPLE_COMPOSITION_TIME_OFFSET"}(B=e.TrackRunFlags||(e.TrackRunFlags={}));var q=function(e){function t(t,n,r,o){var i=e.call(this,"trun",1,t)||this;return i.samples=n,i.dataOffset=r,i.firstSampleFlags=o,i}return i(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4,r=this.samples.length,o=this.flags;return o&B.DATA_OFFSET_PRESENT&&(n+=4),o&B.FIRST_SAMPLE_FLAGS_PRESENT&&(n+=4),o&B.SAMPLE_DURATION_PRESENT&&(n+=4*r),o&B.SAMPLE_SIZE_PRESENT&&(n+=4*r),o&B.SAMPLE_FLAGS_PRESENT&&(n+=4*r),o&B.SAMPLE_COMPOSITION_TIME_OFFSET&&(n+=4*r),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t),o=this.samples.length,i=this.flags;n(t,this.offset+r,o),r+=4,i&B.DATA_OFFSET_PRESENT&&(n(t,this.offset+r,this.dataOffset),r+=4),i&B.FIRST_SAMPLE_FLAGS_PRESENT&&(n(t,this.offset+r,this.firstSampleFlags),r+=4);for(var a=0;a<o;a++){var s=this.samples[a];i&B.SAMPLE_DURATION_PRESENT&&(n(t,this.offset+r,s.duration),r+=4),i&B.SAMPLE_SIZE_PRESENT&&(n(t,this.offset+r,s.size),r+=4),i&B.SAMPLE_FLAGS_PRESENT&&(n(t,this.offset+r,s.flags),r+=4),i&B.SAMPLE_COMPOSITION_TIME_OFFSET&&(n(t,this.offset+r,s.compositionTimeOffset),r+=4)}return r},t}(g);e.TrackRunBox=q;var V=function(e){function n(n,r){var o=e.call(this,"moof",t([n],r))||this;return o.header=n,o.trafs=r,o}return i(n,e),n}(v);e.MovieFragmentBox=V;var z=function(e){function t(t){var n=e.call(this,"mdat")||this;return n.chunks=t,n}return i(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.chunks.forEach(function(e){n+=e.length}),this.size=n},t.prototype.write=function(t){var n=this,r=e.prototype.write.call(this,t);return this.chunks.forEach(function(e){t.set(e,n.offset+r),r+=e.length},this),r},t}(h);e.MediaDataBox=z;var G=function(e){function t(t,n){var r=e.call(this,t)||this;return r.dataReferenceIndex=n,r}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,0),n(t,this.offset+r+4,this.dataReferenceIndex),r+8},t}(h);e.SampleEntry=G;var K=function(e){function t(t,n,r,o,i,a){void 0===r&&(r=2),void 0===o&&(o=16),void 0===i&&(i=44100),void 0===a&&(a=null);var s=e.call(this,t,n)||this;return s.channelCount=r,s.sampleSize=o,s.sampleRate=i,s.otherBoxes=a,s}return i(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+20;return this.otherBoxes&&this.otherBoxes.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,0),n(t,this.offset+r+4,0),n(t,this.offset+r+8,this.channelCount<<16|this.sampleSize),n(t,this.offset+r+12,0),n(t,this.offset+r+16,this.sampleRate<<16),r+=20,this.otherBoxes&&this.otherBoxes.forEach(function(e){r+=e.write(t)}),r},t}(G);e.AudioSampleEntry=K,e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH=24;var W=function(t){function r(n,r,o,i,a,s,u,l,c,d){void 0===a&&(a=""),void 0===s&&(s=72),void 0===u&&(u=72),void 0===l&&(l=1),void 0===c&&(c=e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH),void 0===d&&(d=null);var f=t.call(this,n,r)||this;if(f.width=o,f.height=i,f.compressorName=a,f.horizResolution=s,f.vertResolution=u,f.frameCount=l,f.depth=c,f.otherBoxes=d,a.length>31)throw new Error("invalid compressor name");return f}return i(r,t),r.prototype.layout=function(e){var n=t.prototype.layout.call(this,e)+16+12+4+2+32+2+2;return this.otherBoxes&&this.otherBoxes.forEach(function(t){n+=t.layout(e+n)}),this.size=n},r.prototype.write=function(e){var r=t.prototype.write.call(this,e);n(e,this.offset+r,0),n(e,this.offset+r+4,0),n(e,this.offset+r+8,0),n(e,this.offset+r+12,0),n(e,this.offset+(r+=16),this.width<<16|this.height),n(e,this.offset+r+4,s(this.horizResolution)),n(e,this.offset+r+8,s(this.vertResolution)),n(e,this.offset+(r+=12),0),n(e,this.offset+r+4,this.frameCount<<16),e[this.offset+(r+=6)]=this.compressorName.length;for(var o=0;o<31;o++)e[this.offset+r+o+1]=o<this.compressorName.length?127&this.compressorName.charCodeAt(o):0;return n(e,this.offset+(r+=32),this.depth<<16|65535),r+=4,this.otherBoxes&&this.otherBoxes.forEach(function(t){r+=t.write(e)}),r},r}(G);e.VideoSampleEntry=W;var Q=function(e){function t(t,n){var r=e.call(this,t)||this;return r.data=n,r}return i(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+this.data.length,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return t.set(this.data,this.offset+n),n+this.data.length},t}(h);e.RawTag=Q}(e.Iso||(e.Iso={}))}(e.MP4||(e.MP4={}))}(r||(r={})),t.MP4Mux=r.MP4.MP4Mux},function(e,t,n){"use strict";var r,o=n(55),i=n(19),a=n(2),s=n(62),u=n(2),l=n(1),c=Function.prototype.bind,d=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,i=l(t)&&u(t.value);return delete(r=o(t)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,e)?i:(t.value=c.call(i,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},r},e.exports=function(e){var t=i(arguments[1]);return null!=t.resolveContext&&a(t.resolveContext),s(e,function(e,n){return r(n,e,t)})}},function(e,t,n){"use strict";var r=n(1);e.exports=function(){return r(this).length=0,this}},function(e,t,n){"use strict";e.exports=n(44)()?Array.from:n(45)},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var r=n(3).iterator,o=n(7),i=n(46),a=n(51),s=n(2),u=n(1),l=n(4),c=n(8),d=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(e){var t,n,g,y,v,_,m,b,w,E,S=arguments[1],P=arguments[2];if(e=Object(u(e)),l(S)&&s(S),this&&this!==Array&&i(this))t=this;else{if(!S){if(o(e))return 1!==(v=e.length)?Array.apply(null,e):((y=new Array(1))[0]=e[0],y);if(d(e)){for(y=new Array(v=e.length),n=0;n<v;++n)y[n]=e[n];return y}}y=[]}if(!d(e))if(void 0!==(w=e[r])){for(m=s(w).call(e),t&&(y=new t),b=m.next(),n=0;!b.done;)E=S?f.call(S,P,b.value,n):b.value,t?(p.value=E,h(y,n,p)):y[n]=E,b=m.next(),++n;v=n}else if(c(e)){for(v=e.length,t&&(y=new t),n=0,g=0;n<v;++n)E=e[n],n+1<v&&(_=E.charCodeAt(0))>=55296&&_<=56319&&(E+=e[++n]),E=S?f.call(S,P,E,g):E,t?(p.value=E,h(y,g,p)):y[g]=E,++g;v=g}if(void 0===v)for(v=a(e.length),t&&(y=new t(v)),n=0;n<v;++n)E=S?f.call(S,P,e[n],n):e[n],t?(p.value=E,h(y,n,p)):y[n]=E;return t&&(p.value=null,y.length=v),y}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=r.call(n(17));e.exports=function(e){return"function"==typeof e&&r.call(e)===o}},function(e,t,n){"use strict";e.exports=n(48)()?Math.sign:n(49)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,n){"use strict";var r=n(47),o=Math.abs,i=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*i(o(e)):e}},function(e,t,n){"use strict";var r=n(50),o=Math.max;e.exports=function(e){return o(0,r(e))}},function(e,t,n){"use strict";var r=n(2),o=n(1),i=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,l){var c,d=arguments[2],f=arguments[3];return n=Object(o(n)),r(l),c=s(n),f&&c.sort("function"==typeof f?i.call(f,n):void 0),"function"!=typeof e&&(e=c[e]),a.call(e,c,function(e,r){return u.call(n,e)?a.call(l,d,n[e],e,n,r):t})}}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(59),o=n(1),i=Math.max;e.exports=function(e,t){var n,a,s,u=i(arguments.length,2);for(e=Object(o(e)),s=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},a=1;a<u;++a)r(t=arguments[a]).forEach(s);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";var r=n(43),o=n(10),i=n(1);e.exports=function(e){var t=Object(i(e)),n=arguments[1],a=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,function(t){(a.ensure||t in e)&&(s[t]=e[t])}):o(s,e),s}},function(e,t,n){"use strict";var r,o=Object.create;n(20)()||(r=n(21)),e.exports=function(){var e,t,n;return r?1!==r.level?o:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){return"__proto__"===e?void(t[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(t[e]=n)}),Object.defineProperties(e,t),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return o(null===t?e:t,n)}):o}()},function(e,t,n){"use strict";e.exports=n(52)("forEach")},function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";e.exports=n(60)()?Object.keys:n(61)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(4),o=Object.keys;e.exports=function(e){return o(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r=n(2),o=n(57),i=Function.prototype.call;e.exports=function(e,t){var n={},a=arguments[2];return r(t),o(e,function(e,r,o,s){n[r]=i.call(t,a,e,r,o,s)}),n}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r=Object.create(null),o=Math.random;e.exports=function(){var e;do{e=o().toString(36).slice(2)}while(r[e]);return e}},function(e,t,n){"use strict";var r,o=n(11),i=n(22),a=n(6),s=n(3),u=n(24),l=Object.defineProperty;r=e.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?i.call(t,"key+value")?"key+value":i.call(t,"key")?"key":"value":"value",l(this,"__kind__",a("",t))},o&&o(r,u),delete r.prototype.constructor,r.prototype=Object.create(u.prototype,{_resolve:a(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),l(r.prototype,s.toStringTag,a("c","Array Iterator"))},function(e,t,n){"use strict";var r=n(7),o=n(2),i=n(8),a=n(23),s=Array.isArray,u=Function.prototype.call,l=Array.prototype.some;e.exports=function(e,t){var n,c,d,f,p,h,g,y,v=arguments[2];if(s(e)||r(e)?n="array":i(e)?n="string":e=a(e),o(t),d=function(){f=!0},"array"!==n)if("string"!==n)for(c=e.next();!c.done;){if(u.call(t,v,c.value,d),f)return;c=e.next()}else for(h=e.length,p=0;p<h&&(g=e[p],p+1<h&&(y=g.charCodeAt(0))>=55296&&y<=56319&&(g+=e[++p]),u.call(t,v,g,d),!f);++p);else l.call(e,function(e){return u.call(t,v,e,d),f})}},function(e,t,n){"use strict";var r=n(7),o=n(4),i=n(8),a=n(3).iterator,s=Array.isArray;e.exports=function(e){return!(!o(e)||!s(e)&&!i(e)&&!r(e)&&"function"!=typeof e[a])}},function(e,t,n){"use strict";var r,o=n(11),i=n(6),a=n(3),s=n(24),u=Object.defineProperty;r=e.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),u(this,"__length__",i("",e.length))},o&&o(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:i(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:i(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0))>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n})}),u(r.prototype,a.toStringTag,i("c","String Iterator"))},function(e,t,n){"use strict";var r=n(69);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,n){"use strict";var r={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag]}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,n){"use strict";var r,o,i,a,s=n(6),u=n(75),l=Object.create,c=Object.defineProperties,d=Object.defineProperty,f=Object.prototype,p=l(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(e){}}var h=function(){var e=l(null);return function(t){for(var n,r,o=0;e[t+(o||"")];)++o;return e[t+=o||""]=!0,d(f,n="@@"+t,s.gs(null,function(e){r||(r=!0,d(this,n,s(e)),r=!1)})),n}}();i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return o(e)},e.exports=o=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return a?r(t):(n=l(i.prototype),t=void 0===t?"":String(t),c(n,{__description__:s("",t),__name__:s("",h(t))}))},c(o,{for:s(function(e){return p[e]?p[e]:p[e]=o(String(e))}),keyFor:s(function(e){var t;for(t in u(e),p)if(p[t]===e)return t}),hasInstance:s("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:s("",r&&r.iterator||o("iterator")),match:s("",r&&r.match||o("match")),replace:s("",r&&r.replace||o("replace")),search:s("",r&&r.search||o("search")),species:s("",r&&r.species||o("species")),split:s("",r&&r.split||o("split")),toPrimitive:s("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:s("",r&&r.toStringTag||o("toStringTag")),unscopables:s("",r&&r.unscopables||o("unscopables"))}),c(i.prototype,{constructor:s(o),toString:s("",function(){return this.__name__})}),c(o.prototype,{toString:s(function(){return"Symbol ("+u(this).__description__+")"}),valueOf:s(function(){return u(this)})}),d(o.prototype,o.toPrimitive,s("",function(){var e=u(this);return"symbol"==typeof e?e:e.toString()})),d(o.prototype,o.toStringTag,s("c","Symbol")),d(i.prototype,o.toStringTag,s("c",o.prototype[o.toStringTag])),d(i.prototype,o.toPrimitive,s("c",o.prototype[o.toPrimitive]))},function(e,t,n){"use strict";var r=n(73);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";e.exports=n(77)()?WeakMap:n(79)},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&"function"==typeof e.set&&e.set({},1)===e&&"function"==typeof e.delete&&"function"==typeof e.has&&"one"===e.get(t)}},function(e,t,n){"use strict";e.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},function(e,t,n){"use strict";var r,o=n(11),i=n(63),a=n(1),s=n(66),u=n(6),l=n(23),c=n(68),d=n(3).toStringTag,f=n(78),p=Array.isArray,h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getPrototypeOf;e.exports=r=function(){var e,t=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return e=f&&o&&WeakMap!==r?o(new WeakMap,y(this)):this,null!=t&&(p(t)||(t=l(t))),h(e,"__weakMapData__",u("c","$weakMap$"+s())),t?(c(t,function(t){a(t),e.set(t[0],t[1])}),e):e},f&&(o&&o(r,WeakMap),r.prototype=Object.create(WeakMap.prototype,{constructor:u(r)})),Object.defineProperties(r.prototype,{delete:u(function(e){return!!g.call(i(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)}),get:u(function(e){if(g.call(i(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:u(function(e){return g.call(i(e),this.__weakMapData__)}),set:u(function(e,t){return h(i(e),this.__weakMapData__,u("c",t)),this}),toString:u(function(){return"[object WeakMap]"})}),h(r.prototype,d,u("c","WeakMap"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(83),o=n(82);t.default=[r.WebCrypto,o.JSCrypto]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(80),i=r.helpers.find;t.DecryptorFactory={retrieveDecryptor:function(e){return i(o.default,function(t){return t.canDecrypt(e)})||null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(38),i=r.helpers.Promise,a=null;t.JSCrypto={canDecrypt:function(e){return"AES-CBC"===e.cipher},decrypt:function(e,t){return a||(a=new o.AESDecryptor),a.expandKey(t.key.buffer),i.resolve(new Uint8Array(a.decrypt(e.buffer,0,t.iv.buffer)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).helpers.Promise,o=window.crypto&&window.crypto.subtle;t.WebCrypto={canDecrypt:function(e){return!!o&&window.isSecureContext&&"AES-CBC"===e.cipher},decrypt:function(e,t){return new r(function(n,r){o.importKey("raw",t.key,{name:"AES-CBC"},!1,["decrypt"]).then(function(n){return o.decrypt({name:"AES-CBC",iv:t.iv},n,e)}).then(function(e){return n(new Uint8Array(e))}).catch(r)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(86),o=n(85);t.default=[r.OggOpusSegmentParser,o.DefaultSegmentParser]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=r.helpers.abortableJob.AbortableJob,i=r.helpers.Promise;t.DefaultSegmentParser={getFormat:function(){return{}},parseSegmentData:function(e){return new o(function(){return{result:i.resolve({data:e})}}).run()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(9),i=n(76),a=r.helpers.abortableJob.AbortableJob,s=r.helpers.Promise,u=r.helpers.arrayBuffer.combine,l=new i;t.OggOpusSegmentParser={getFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},parseSegmentData:function(e,t,n){return new a(function(){var r=o.retrievePages(e);if(r.length){var i=o.retrievePackets([r[0]])[0];if(i&&i.first){var a=1;r.slice(1).some(function(e,t){return t>0&&!(1&e.header.type[0])||(a=t+2,!1)});var c=u(r.slice(0,a).map(function(e){return e.entirePage}));return l.set(n,c),{result:s.resolve({data:u(r.slice(a).map(function(e){return e.entirePage})),initData:c})}}}if(t.getSequenceNumber()<=n.getStartingSequenceNumber())return{result:s.reject(new Error("Could not find init data."))};if(l.has(n))return{result:s.resolve({initData:l.get(n),data:e})};var d=n.getSegment(n.getStartingSequenceNumber()),f=null;return{result:d.whenComplete().then(function(t){return(f=t.retrieveData()).whenComplete().then(function(t){return{initData:t.data.initData,data:e}})}),abort:function(){d.abort(),f&&f.abort()}}}).run()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(29),i=n(84),a=r.helpers.find;t.SegmentParserFactory={retrieveSegmentParser:function(e){var t=a(i.default,function(t){return o.isPartialMatch(t.getFormat(),e)});if(!t)throw new Error("No segment parser found.");return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),o=n(15),i=n(89);t.default=[r.PassThrough,o.MP3ToMP4,i.OggOpusToWebm]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(9),i=n(90),a=r.helpers.Promise,s=r.helpers.arrayBuffer.combine;t.OggOpusToWebm={getInputFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},getOutputFormat:function(){return{mimeType:"audio/webm",audioCodec:{id:"opus"}}},transmux:function(e){try{var t=e.initData?s([e.initData,e.data]):e.data,n=o.retrievePackets(o.retrievePages(t)),r=i.buildWebm(n);return a.resolve({data:r.data,initData:r.initData})}catch(e){return a.reject(e)}}}},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="13.0.0",t.buildNumber=1085;var r=n(34);t.PlaylistSegmentRetriever=r.PlaylistSegmentRetriever;var o=n(35);t.Playlist=o.Playlist,t.PlaylistType=o.PlaylistType;var i=n(14);t.Segment=i.Segment;var a=n(37);t.TransmuxerFactory=a.TransmuxerFactory;var s=n(15);t.MP3ToMP4Transmuxer=s.MP3ToMP4;var u=n(16);t.PassThroughTransmuxer=u.PassThrough;var l=n(36);t.retrievalErrors=l.retrievalErrors;var c=n(33);t.events=c.events}])}(n(2),n(5),n(6))},function(e,t,n){e.exports=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._msg=e}return e.prototype.getMsg=function(){return this._msg},e}();t.OggParserError=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(0).OggParserError);t.ChecksumFailedError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(0).OggParserError);t.NoSegmentsInPageError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(0).OggParserError);t.PageFromDifferentBitstreamError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(0).OggParserError);t.PageSequenceNumberDidNotIncrementError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(0).OggParserError);t.UnexpectedBOSError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(0).OggParserError);t.UnexpectedEOSError=o},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=1),e.slice(t,t+n)}function o(e,t){return void 0===t&&(t=!0),new DataView(e).getUint32(0,t)}function i(e){var t=new Uint8Array(e.buffer,e.byteOffset),n=r(t,26),i=r(t,27,n[0]),a={version:r(t,4),type:r(t,5),granulePosition:r(t,6,8),bitstreamSerialNumber:r(t,14,4),pageSequenceNumber:r(t,18,4),checksum:r(t,22,4),pageSegments:n,segmentTable:i},l=[],c=27+n[0];if(i.forEach(function(e){l.push(r(t,c,e)),c+=e}),!l.length)throw new p.NoSegmentsInPageError("No segments.");if(s.calculateCRC([g,a.version,a.type,a.granulePosition,a.bitstreamSerialNumber,a.pageSequenceNumber,y,n,i].concat(l))!==o(a.checksum.buffer))throw new u.ChecksumFailedError("Checksum failed.");return{header:a,segments:l,entirePage:r(t,0,c)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=n(8),u=n(1),l=n(3),c=n(4),d=n(5),f=n(6),p=n(2),h=a.helpers.arrayBuffer.combine,g=new Uint8Array([79,103,103,83]),y=new Uint8Array([0,0,0,0]);t.retrievePages=function(e){for(var t=e.buffer,n=[],r=e.byteOffset-1;;){var o=r+1,a=new Uint8Array(t,o).findIndex(function(e,t,n){return n[t]===g[0]&&n[t+1]===g[1]&&n[t+2]===g[2]&&n[t+3]===g[3]});if(-1===a)break;r=a+=o;var s=new DataView(t,a);n.push(i(s))}return n},t.parsePage=i,t.retrievePackets=function(e){if(!e.length)return[];var t=o(e[0].header.bitstreamSerialNumber.buffer),n=-1,r=null,i=[];return e.forEach(function(a,s){if(o(a.header.bitstreamSerialNumber.buffer)!==t)throw new l.PageFromDifferentBitstreamError("Got a page from a different bitstream.");var u=o(a.header.pageSequenceNumber.buffer);if(u<=n)throw new c.PageSequenceNumberDidNotIncrementError("Page sequence number was not greater than the previous one.");var p=u!==n+1;n=u;var g=a.header.type[0],y=!!(1&g),v=!!(2&g);if(v&&s>0)throw new d.UnexpectedBOSError("Got BOS on a page which is not the first.");var _=!!(4&g);if(_&&s!==e.length-1)throw new f.UnexpectedEOSError("Got EOS on a page which is not the last.");var m=0;p&&(r=null);var b=a.segments.length;a.segments.forEach(function(e,t){if(r?r.data=h([r.data,e]):y&&0===t||(r={granulePosition:null,pageSequenceNumber:n,packetOffset:m,discontinuity:p&&0===m,first:v&&0===m,last:!1,data:e},m++),r&&e.byteLength<255){var s=t===b-1;s&&(r.granulePosition=o(a.header.granulePosition.buffer)),r.last=_&&s,i.push(r),r=null}})}),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]);t.calculateCRC=function(e){var t=0;return e.forEach(function(e){for(var n=0;n<e.length;n++)t=t<<8^r[t>>24&255^e[n]]}),t>>>0}},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="13.0.0",t.buildNumber=1085,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(7));var r=n(0);t.OggParserError=r.OggParserError;var o=n(1);t.ChecksumFailedError=o.ChecksumFailedError;var i=n(2);t.NoSegmentsInPageError=i.NoSegmentsInPageError;var a=n(3);t.PageFromDifferentBitstreamError=a.PageFromDifferentBitstreamError;var s=n(4);t.PageSequenceNumberDidNotIncrementError=s.PageSequenceNumberDidNotIncrementError;var u=n(5);t.UnexpectedBOSError=u.UnexpectedBOSError;var l=n(6);t.UnexpectedEOSError=l.UnexpectedEOSError}])}(n(2))},function(e,t,n){e.exports=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){var t=e[0]>>>3&31;if(t>=l.length)throw new Error("Invalid configuration.");return l[t]}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(2),a=o.helpers.arrayBuffer,s=a.combine,u=a.numberToUint8Array,l=[10,20,40,60,10,20,40,60,10,20,40,60,10,20,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20];t.buildWebm=function(e){var t=e[0];if(!t||!t.first)throw new Error("Missing start of stream.");var n=e.slice(2),o=function(e){if(!e.first)throw new Error("OpusHead is always in the first packet.");var t=new DataView(e.data.buffer),n=t.getUint8(9),r=t.getUint8(17),o=void 0,i=void 0,a=void 0;if(r>0){o=t.getUint8(18),i=t.getUint8(19),a=[];for(var s=0;s<n;s++)a.push(t.getUint8(20+s))}return{version:t.getUint8(8),channelCount:n,preSkip:t.getUint16(10,!0),inputSampleRate:t.getUint32(12,!0),outputGain:t.getUint16(16),channelMapFamily:r,streamCount:o,twoChannelStreamCount:i,channelMappingTable:a}}(t),a=0,l=n.map(function(e,t){if(e.discontinuity&&t>0)throw new Error("Discontinuities after first audio packet not supported.");var n=new Uint8Array(4);n[0]=129,new DataView(n.buffer).setInt16(1,a),n[3]=128;var o=function(e){var t=3&e[0];return 0===t?1:3!==t?2:63&e[1]}(e.data);return a+=o*r(e.data),i.encodeElement(i.IDS.SimpleBlock,s([n,e.data]))});return{initData:s([i.encodeElement(i.IDS.EBML,s([i.encodeElement(i.IDS.EBMLVersion,u(1)),i.encodeElement(i.IDS.EBMLReadVersion,u(1)),i.encodeElement(i.IDS.EBMLMaxIDLength,u(4)),i.encodeElement(i.IDS.EBMLMaxSizeLength,u(8)),i.encodeElement(i.IDS.DocType,new Uint8Array([119,101,98,109])),i.encodeElement(i.IDS.DocTypeVersion,u(1)),i.encodeElement(i.IDS.DocTypeReadVersion,u(2))])),i.encodeElement(i.IDS.Segment,function(){return i.encodeElement(i.IDS.Info,i.encodeElement(i.IDS.Duration,(e=new Uint8Array(8),new DataView(e.buffer).setFloat64(0,a),e)));var e}()),i.encodeElement(i.IDS.Tracks,i.encodeElement(i.IDS.TrackEntry,s([i.encodeElement(i.IDS.TrackNumber,u(1)),i.encodeElement(i.IDS.TrackUID,u(1)),i.encodeElement(i.IDS.FlagLacing,u(0)),i.encodeElement(i.IDS.CodecID,new Uint8Array([65,95,79,80,85,83])),i.encodeElement(i.IDS.CodecDelay,u(o.preSkip/48e3*1e9)),i.encodeElement(i.IDS.SeekPreRoll,new Uint8Array([4,196,180,0])),i.encodeElement(i.IDS.TrackType,u(2)),i.encodeElement(i.IDS.Audio,s([i.encodeElement(i.IDS.Channels,u(o.channelCount)),i.encodeElement(i.IDS.SamplingFrequency,new Uint8Array([64,231,112,0,0,0,0,0]))])),i.encodeElement(i.IDS.CodecPrivate,t.data)])))]),data:i.encodeElement(i.IDS.Cluster,function(){var e=[i.encodeElement(i.IDS.Timecode,u(0))];return e.push.apply(e,l),s(e)}())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).helpers.arrayBuffer,o=r.combine,i=r.numberToUint8Array,a=r.createVintBuffer;t.IDS={EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxIDLength:17138,EBMLMaxSizeLength:17139,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029,Segment:408125543,Info:357149030,Duration:17545,Tracks:374648427,TrackEntry:174,TrackNumber:215,TrackUID:29637,FlagLacing:156,CodecID:134,CodecDelay:22186,SeekPreRoll:22203,TrackType:131,Audio:225,Channels:159,SamplingFrequency:181,CodecPrivate:25506,Cluster:524531317,Timecode:231,SimpleBlock:163},t.encodeElement=function(e,t){var n=i(e),r=a(t.byteLength);return o([n,r,t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="13.0.0",t.buildNumber=1085,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1))}])}(n(2))},function(e,t,n){e.exports=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"An unrecoverable error occurred whilst decoding.")||this}return r(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.DECODE_ERROR"},t}(n(0).errors.PlayerFatalError);t.DecodeError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"An unrecoverable network error occurred.")||this}return r(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.NETWORK_ERROR"},t}(n(0).errors.PlayerFatalError);t.NetworkError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.buildTimeRanges=function(e){for(var t=[],n=e.length,o=0;o<n;o++)t.push({end:1e3*e.end(o),start:1e3*e.start(o)});return r.TimeRange.normalizeRawTimeRanges(t).map(function(e){return new r.TimeRange(e.start,e.end-e.start)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2);!function(e){e.DecodeError=r.DecodeError,e.NetworkError=o.NetworkError}(t.errors||(t.errors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);!function(e){!function(e){e.buildTimeRanges=r.buildTimeRanges}(e.timeRanges||(e.timeRanges={}))}(t.helpers||(t.helpers={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(2),s=n(3),u=n(7),l=o.helpers.deferred.buildDeferred,c=o.helpers.url.getExtension,d=o.helpers.Promise,f=o.helpers.compact,p=o.logger.prefixLogger,h=o.errors.NotSupportedError,g=o.errors.PlayerFatalError,y=new Error("Media element was revoked."),v=function(e){function t(t,n){var r=e.call(this,n)||this;r._duration=null,r._stallDetected=!1,r._initialized=!1,r._deferredProvideMediaElementCallback=null,r._playInProgress={inProgress:!1},r._lastStallCheckPos=null,r._stallCheckTimerId=null,r._endedOverride=!1,r._volume=1,r._muted=!1,r._pauseEventTimer=null,r._positionWhenMediaElementRevoked=0,r._playingWhenMediaElementRevoked=!1,r._provideMediaElementDeferred=null,r._mediaElementAndState=null,r._listeners=[],r._currentSeekCallback=null,r._playDetectionPosition=0,r._playDetectionTimer=null,r._playDetectionTimerNumAttempts=0,r._logger=p(r._logger,"HTML5Player"),r._descriptor=t,r._playerDependencies=n,r._mimeType=t.getFormat().mimeType||r._buildMimeTypeAndCodecString(t.getFormat(),r._inferFormat(t.getUrl()));var i=void 0!==n.mediaElement?n.mediaElement:r._createDefaultMediaElement();return i&&r.provideMediaElement(i).catch(function(e){return e===y?void r._logger.debug("Initial provideMediaElement() call was aborted."):void r._triggerError(new u.InitializeError(e))}),r._logger.info("Checking if the player can play the provided descriptor."),r._canPlayTimer=window.setTimeout(function(){r._canPlay().then(function(e){if(!r.isDead())return e instanceof o.errors.NotSupportedError?(r._logger.info("Player not supported.",e),void r._triggerError(e)):e?(r._logger.info("Player supported."),void r._initialize()):(r._logger.info("Player not supported."),void r._triggerError(new h))}).catch(function(e){r._logger.error("Unexpected error during can play check.",e),r._triggerError(new g("An unexpected error occured during initialization.",e))})},0),r}return r(t,e),t.prototype.getMediaElement=function(){return this._mediaElementAndState&&this._mediaElementAndState.element},t.prototype.provideMediaElement=function(e){var t=this;if(this._ensureNotDead(),this._mediaElementAndState)throw new Error("Already have a media element.");this._logger.debug("provideMediaElement() called.",e),this._initMediaElementLocal(e,null);var n=this._provideMediaElementDeferred=l(),r=this._mediaElementAndState={element:e,state:"INITIALIZING"},o=function(){t._logger.debug("Initializing media element."),t._initMediaElement(e,t._descriptor.getUrl()),t._attachListeners();var o=t._listenToOnce("error",function(){t._provideMediaElementDeferred=null;var r=e.error.code+" = "+(e.error.message||"[unknown]");t._logger.error("Error whilst initializing media element.",r),t.revokeMediaElement(),n.reject(new Error("Error when initializing media element. Error: "+r))},{earlyAttach:!0});t._listenToOnce("loadeddata",function(){t._logger.debug("Got loadeddata event from media element."),i()},{earlyAttach:!0});var i=function(){t._logger.debug("Putting media element in the state that is expected..."),a()},a=function(){null===t._getQueuedSeekPosition()&&t._positionWhenMediaElementRevoked>0?(t._logger.debug("Seeking to expected position..."),t._performSeek(t._positionWhenMediaElementRevoked,function(e){return void 0!==e?(t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to seek to the expected position."),t.revokeMediaElement(),void n.reject(new Error("An error occurred when trying to restore the position."))):(t._logger.debug("Seeked to expected position."),void s())})):s()},s=function(){t.isPlaying()===t.isActuallyPlaying()&&t._playingWhenMediaElementRevoked?(t._logger.debug("Calling play to match previous state..."),t._play().catch(function(){t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to play."),r===t._mediaElementAndState&&t.revokeMediaElement(),n.reject(new Error("Browser refused play() request on media element."))}),t._listenToOnce("play",function(){t._logger.debug("Play succeeded."),u()},{earlyAttach:!0})):u()},u=function(){return t._mediaElementAndState!==r?void t._triggerError(new g("Media element switched unexpectedly.")):(t._provideMediaElementDeferred=null,o.remove(),n.resolve(void 0),t._mediaElementAndState.state="STABLE",t._logger.debug("Finished putting element in expected state."),void(null!==t._duration&&t._update(function(){t.isReady()||t._signalReady(),t._handleDefferredPauseAndSeek()})))}};return this._initialized?o():this._deferredProvideMediaElementCallback=o,this._provideMediaElementDeferred.promise},t.prototype.revokeMediaElement=function(){if(!this._mediaElementAndState)throw new Error("There is no media element to revoke.");this._deferredProvideMediaElementCallback=null,this._provideMediaElementDeferred&&(this._provideMediaElementDeferred.reject(y),this._provideMediaElementDeferred=null),this._logger.debug("revokeMediaElement() called."),this._detachListeners();var e=this._mediaElementAndState.element;this.isDead()||(this._positionWhenMediaElementRevoked=this.getPosition(),this._playingWhenMediaElementRevoked=this.isPlaying()),this._mediaElementAndState=null,this._initMediaElement(e,null),this.isDead()||this._handleStalled()},t.prototype.getVolume=function(){return this._volume},t.prototype.getMuted=function(){return this._muted},t.prototype.setMuted=function(e){this._muted=e,this._mediaElementAndState&&(this._mediaElementAndState.element.muted=e)},t.prototype.getBufferedTimeRanges=function(){return this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state?s.buildTimeRanges(this._mediaElementAndState.element.buffered):[]},t.prototype.getMaxBufferLength=function(){return null},t.prototype._setVolume=function(e){this._volume=e,this._mediaElementAndState&&(this._mediaElementAndState.element.volume=e)},t.prototype._inferFormat=function(e){switch(c(e)){case"mp3":return{mimeType:"audio/mpeg"};case"opus":return{mimeType:"audio/ogg",audioCodec:{id:"opus"}};case"mp4":return{mimeType:"video/mp4"};case"m3u8":return{mimeType:"application/x-mpegURL"};default:return{}}},t.prototype._buildMimeTypeAndCodecString=function(e,t){void 0===t&&(t={});var n=e.mimeType||t.mimeType,r=f([e.audioCodec||t.audioCodec,e.videoCodec||t.videoCodec]);return n+(r.length>0?'; codecs="'+r.map(function(e){return e.id}).join(",")+'"':"")},t.prototype._getResolvedMimeType=function(){return this._mimeType},t.prototype._canPlay=function(){return this._mimeType&&this._canPlayProtocol(this._descriptor.getProtocol())&&this._canPlayType(this._mimeType)?d.resolve(!0):d.resolve(!1)},t.prototype._canPlayProtocol=function(e){return["http","hls"].indexOf(e.name)>=0},t.prototype._canPlayType=function(e){try{return!!document.createElement("audio").canPlayType(e)}catch(e){return!1}},t.prototype._initialize=function(){var e=this;this._initialized=!0,this._listenTo("error",function(){if("INITIALIZING"!==e._mediaElementAndState.state){var t=e._mediaElementAndState.element.error;switch(t.code){case 2:e._triggerError(new a.NetworkError);break;case 3:e._triggerError(new i.DecodeError);break;default:e._triggerError(new o.errors.PlayerFatalError("An unexpected error occurred.",t))}}else e._logger.debug("An error occurred, but the media element is initializing, so ignoring...")},{earlyAttach:!0}),this._listenTo("play",function(){e._logger.debug("Media element play event."),e.isPlaying()||!e._mediaElementAndState||e._mediaElementAndState.element.paused||(e._logger.debug("Calling play() because something external called play() on media element."),e.play())}),this._listenTo("playing",function(){e._logger.debug("Media element playing event."),e._mediaElementAndState&&!e._mediaElementAndState.element.paused?e._handlePlayingEvent():e._logger.debug("Ignoring playing event because media element is reporting it is paused.")}),this._listenTo("timeupdate",function(){return e._determineIfPlaying()}),this._listenTo("pause",function(){e._logger.debug("Media element pause event."),e._mediaElementAndState&&e._mediaElementAndState.element.paused?e._handlePauseEvent():e._logger.debug("Ignoring pause event because media element is reporting it is not paused.")}),this._listenTo("ended",function(){e._logger.debug("Media element ended event."),e._mediaElementAndState&&!e._mediaElementAndState.element.ended?e._handleEndedEvent():e._logger.debug("Ignoring ended event because media element is reporting it is not ended.")}),this._listenTo("stalled",function(){e._logger.debug("Media element stalled event."),e._checkIfStalled()}),this._stallCheckTimerId=window.setInterval(function(){return e._checkIfStalled()},400),this._retrieveDuration().then(function(t){e._logger.debug("Duration retrieved.",t),e._duration=t,e._update(function(){e._provideDuration(t),e._mediaElementAndState&&"STABLE"===e._mediaElementAndState.state&&(e._signalReady(),e._handleDefferredPauseAndSeek())})}).catch(function(t){e._triggerError(new o.errors.PlayerFatalError("An unexpected error occurred when attempting to retrieve the duration.",t))}),this._deferredProvideMediaElementCallback&&this._deferredProvideMediaElementCallback()},t.prototype._createDefaultMediaElement=function(){return document.createElement(this._playerDependencies.mediaElementType||"audio")},t.prototype._handlePauseEvent=function(){var e=this;if(!this._mediaElementAndState)throw new Error("Media element should exist.");var t=this._mediaElementAndState.element;this._pauseEventTimer||(this._pauseEventTimer=window.setTimeout(function(){e._pauseEventTimer=null,t.paused&&e.isActuallyPlaying()&&e._update(function(){e.isEnded()||(e._notifyNotStalled(),e._notifyPlaying(!1))})},0))},t.prototype._handlePlayingEvent=function(){var e=this,t=this._duration;if(null===t)throw new Error("Expecting duration to exist.");var n=this._getTruePosition();return n>=t?void this._logger.warn("Got a media element playing event and the positon was >= the duration.",n,t):this.isEnded()||this._shouldBeEnded()?void this._logger.warn("Got a media element playing event when the player is/should be ended."):void this._update(function(){e._notifyNotStalled(),e._determineIfPlaying(),e.isActuallyPlaying()||(e._playDetectionTimerNumAttempts=0,e._playDetectionTimer||(e._playDetectionTimer=window.setInterval(function(){return e._determineIfPlaying()},10)))})},t.prototype._handleEndedEvent=function(){return null!==this._getQueuedSeekPosition()?void this._logger.warn("Got a media element ended event but ignoring because a seek is in progress."):void this._update()},t.prototype._shouldBeEnded=function(){return this._endedOverride||this._mediaElementReportingEnded()},t.prototype._mediaElementReportingEnded=function(){return!!(this._mediaElementAndState&&this._mediaElementAndState.element.ended&&this._mediaElementAndState.element.paused)},t.prototype._retrieveDuration=function(){var e=this;return new d(function(t){e._listenToOnce("loadedmetadata",function(){var n=e._mediaElementAndState;n&&t(1e3*n.element.duration)},{reattach:!0,earlyAttach:!0})})},t.prototype._handlePlayPauseChange=function(e){var t=this;if(this.isEnded())!e&&this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state&&this._mediaElementAndState.element.pause(),this._notifyPlaying(e);else if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state){var n=this._mediaElementAndState.element;if((this._playInProgress.inProgress||!n.paused)!==e)if(e){this._playDetectionPosition=this._getTruePosition();var r={inProgress:!0};this._playInProgress=r,this._play().then(function(){return r.inProgress=!1}).catch(function(e){return t._playInProgress!==r?void t._logger.debug("Ignoring play error because paused since.",e):(r.inProgress=!1,void t._notifyPlayRejection(e))})}else this._playInProgress={inProgress:!1},n.pause(),this._notifyPlaying(!1);else this._playInProgress.inProgress||this._notifyPlaying(e)}},t.prototype._handleSeekChange=function(e){var t=this,n=this._mediaElementAndState;if(n&&"USABLE"===n.state){var r=this._mediaElementReportingEnded();this._endedOverride=!1,this._performSeek(e,function(n){return void 0!==n?void t._triggerError(new o.errors.PlayerFatalError("An error occurred when trying to seek.",n)):(e===t._duration&&(t._endedOverride=!0),void t._signalSeekComplete())}),r&&this._handlePlayPauseChange(this.isPlaying())}},t.prototype._performSeek=function(e,t){var n=this,r=this._mediaElementAndState;if(!r)throw new Error("Media element does not exist.");var o=this._currentSeekCallback;if(o&&(this._currentSeekCallback=null,o.listenerHandle.remove()),r.element.currentTime!==e/1e3){r.element.currentTime=e/1e3;var i=this._listenToOnce("seeked",function(){n._currentSeekCallback=null,t()},{earlyAttach:!0});this._currentSeekCallback={listenerHandle:i,callback:t}}else t()},t.prototype._getPosition=function(){var e=null!==this._duration?this._duration:1/0;if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)return this._positionWhenMediaElementRevoked;this._determineIfPlaying();var t=Math.min(this._getTruePosition(),e);return this._shouldBeEnded()?e:t},t.prototype._getTruePosition=function(){if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)throw new Error("Media element does not exist or is in invalid state.");return 1e3*this._mediaElementAndState.element.currentTime},t.prototype._kill=function(){window.clearTimeout(this._canPlayTimer),this._playDetectionTimer&&window.clearInterval(this._playDetectionTimer),this._mediaElementAndState&&this.revokeMediaElement(),this._stallCheckTimerId&&window.clearInterval(this._stallCheckTimerId),this._listeners=[]},t.prototype._listenToOnce=function(e,t,n){void 0===n&&(n={});var r=n.reattach,o=n.earlyAttach;void 0===r&&(r=!1),void 0===o&&(o=!1);var i=this._listenTo(e,function(e){i.remove(),t(e)},{reattach:r,earlyAttach:o});return i},t.prototype._listenTo=function(e,t,n){var r=this;void 0===n&&(n={});var o=n.reattach,i=n.earlyAttach;void 0===o&&(o=!0),void 0===i&&(i=!1);var a=function(e){s.attached?t(e):r._logger.warn("Got media element event after handler was removed. Ignoring.",e)},s={attached:!1,handler:a,eventType:e,once:!1,reattach:o,earlyAttach:i};if(this._listeners.push(s),!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state&&!i)return{remove:function(){var e=r._listeners.indexOf(s);e>=0&&r._listeners.splice(e,1)}};var u=this._mediaElementAndState.element;return u.addEventListener(e,a,!1),s.attached=!0,{remove:function(){var t=r._listeners.indexOf(s);t>=0&&(r._listeners.splice(t,1),s.attached=!1,u.removeEventListener(e,a,!1))}}},t.prototype._notifyNotStalled=function(){this._stallDetected=!1,this._lastStallCheckPos=null,this._handleStalled()},t.prototype._initMediaElement=function(e,t){this._initMediaElementLocal(e,t)},t.prototype._determineIfPlaying=function(){var e=this;this._playDetectionTimer&&(!this.isPlaying()||++this._playDetectionTimerNumAttempts>=200)&&(window.clearInterval(this._playDetectionTimer),this._playDetectionTimer=null),this._update(function(){e._mediaElementAndState&&"USABLE"===e._mediaElementAndState.state&&(e.isDead()||!e.isReady()||!e.isPlaying()||e.isActuallyPlaying()||e._mediaElementAndState.element.paused||e._getTruePosition()===e._playDetectionPosition||(e._logger.debug("Detected that playback has started."),e._playDetectionTimer&&(window.clearInterval(e._playDetectionTimer),e._playDetectionTimer=null),e._notifyPlaying(!0)))})},t.prototype._initMediaElementLocal=function(e,t){e.setAttribute("msAudioCategory","BackgroundCapableMedia"),e.mozAudioChannelType="content",e.removeAttribute("src"),function(e){e.load()}(e),t?(this._logger.debug("Setting media element src.",t),e.src=t):this._pauseEventTimer&&(this._logger.debug("Clearing pause event timer."),window.clearTimeout(this._pauseEventTimer),this._pauseEventTimer=null),e.volume=this._volume,e.muted=this._muted,e.playbackRate=1,e.setAttribute("preload","metadata"),e.pause(),e.load()},t.prototype._checkIfStalled=function(){if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state){var e=this._mediaElementAndState.element;if(!e.paused&&this.isActuallyPlaying()){var t=e.currentTime;this._stallDetected=e.readyState<=2||this._lastStallCheckPos===t,this._lastStallCheckPos=t,this._handleStalled()}}},t.prototype._handleStalled=function(){this._shouldBeEnded()&&null===this._getQueuedSeekPosition()?this.isEnded()||(this._logger.debug("Updating because stalled near end."),this._update()):this._notifyStalled(this._stallDetected||!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)},t.prototype._play=function(){var e=this;if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");if(this._mediaElementReportingEnded())return this._logger.debug("Not calling play() because we are at the end. It will be called after a seek."),d.resolve();var t=this._mediaElementAndState.element.play();return new d(function(n,r){t?t.then(function(){n()}).catch(function(t){"AbortError"===t.name?(e._logger.debug("Media element play() promise rejected with AbortError."),n()):r(t)}):n()})},t.prototype._handleDefferredPauseAndSeek=function(){var e=this;if(!this._mediaElementAndState||"STABLE"!==this._mediaElementAndState.state)throw new Error("Media element must be in the STABLE state.");this._logger.debug("Handling deferred pause and seek..."),this._mediaElementAndState.state="USABLE",this._attachListeners(),this._update(function(){e._handleStalled();var t=e._getQueuedSeekPosition();null!==t&&e._handleSeekChange(t),e.isPlaying()!==e.isActuallyPlaying()&&e._handlePlayPauseChange(e.isPlaying())})},t.prototype._detachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");var e=this._mediaElementAndState.element;this._listeners.forEach(function(t){t.attached&&(t.attached=!1,e.removeEventListener(t.eventType,t.handler,!1))}),this._listeners=this._listeners.filter(function(e){return e.reattach})},t.prototype._attachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");this._logger.debug("Attaching listeners...");var e=this._mediaElementAndState,t=e.element,n=e.state;this._listeners.forEach(function(e){e.attached||!e.reattach||"USABLE"!==n&&!e.earlyAttach||(t.addEventListener(e.eventType,e.handler,!1),e.attached=!0)}),this._logger.debug("Attached listeners.")},t}(o.BasePlayer);t.HTML5Player=v},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"An error occurred when initializing the media element.",t)||this}return r(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.INITIALIZE_ERROR"},t}(n(0).errors.PlayerFatalError);t.InitializeError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="13.0.0",t.buildNumber=1085;var r=n(6);t.HTML5Player=r.HTML5Player;var o=n(4);t.errors=o.errors;var i=n(5);t.helpers=i.helpers}])}(n(2))},function(e,t,n){e.exports=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r){void 0===n&&(n={}),void 0===r&&(r=2e4);var o=e.call(this)||this;if(r<0)throw new Error("Invaid timeout.");return o._timeoutTimer=window.setTimeout(function(){return o._onManualTimeout()},r),o._xhr=new XMLHttpRequest,o._xhr.addEventListener("load",function(){return o._onLoad()}),o._xhr.addEventListener("abort",function(){return o._onAbort()}),o._xhr.addEventListener("error",function(){return o._onError()}),o._xhr.addEventListener("timeout",function(){return o._onTimeout()}),o._xhr.addEventListener("loadend",function(){return o._onLoadEnd()}),o._xhr.open("GET",t,!0),o._xhr.timeout=r,o._xhr.responseType=o._getResponseType(),Object.keys(n).forEach(function(e){return o._xhr.setRequestHeader(e,n[e])}),o._signalRequestStart(),o._xhr.send(),o}return r(t,e),t.prototype._abort=function(){this._xhr.abort()},t.prototype._onAbort=function(){this.hasCompleted()||this._provideResponse(new Error("Request was aborted."))},t.prototype._onManualTimeout=function(){this.hasCompleted()||(this._provideResponse(null),this._xhr.abort())},t.prototype._onTimeout=function(){this.hasCompleted()||this._provideResponse(null)},t.prototype._onLoad=function(){if(!this.hasCompleted()){var e=this._xhr;this._provideResponse({statusCode:e.status,data:this._xhr.response,headers:this._parseHeaders(e.getAllResponseHeaders()||"")})}},t.prototype._onError=function(){this.hasCompleted()||this._provideResponse(0===this._xhr.status?{statusCode:0,data:null,headers:{}}:new Error("An error occurred."))},t.prototype._onLoadEnd=function(){window.clearTimeout(this._timeoutTimer),this.hasCompleted()||this._provideResponse(new Error("Unexpected error occurred."))},t.prototype._parseHeaders=function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0,o=n.length;r<o;r++){var i=n[r],a=i.indexOf(": ");if(a>0){var s=i.substring(0,a).trim(),u=i.substring(a+2);t[s]=u}}return t},t}(n(5).loader.LoaderRequest);t.LoaderRequest=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.arrayBufferLoader={request:function(e){return new r.ArrayBufferLoaderRequest(e.url,e.headers,e.timeout)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.stringLoader={request:function(e){return new r.StringLoaderRequest(e.url,e.headers,e.timeout)}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getResponseType=function(){return"arraybuffer"},t}(n(0).LoaderRequest);t.ArrayBufferLoaderRequest=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getResponseType=function(){return"text"},t}(n(0).LoaderRequest);t.StringLoaderRequest=o},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="13.0.0",t.buildNumber=1085;var r=n(2);t.stringLoader=r.stringLoader;var o=n(1);t.arrayBufferLoader=o.arrayBufferLoader}])}(n(2))},function(e,t,n){e.exports=function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(3),a=n(1),s=o.helpers.abortableJob.AbortableJob,u=o.helpers.find,l=o.helpers.time,c=new a.Limiter(300,3e5),d=[i.renditions.encryptedHlsOpus,i.renditions.hlsOpus,i.renditions.encryptedHlsMp3,i.renditions.hlsMp3,i.renditions.httpMp3],f=function(e){function t(t){var n=t.loader,r=t.clientId,o=t.trackId,i=t.secretToken,a=void 0===i?null:i,s=t.requestAuthorization,u=void 0===s?null:s,l=t.excludedRenditions,c=void 0===l?[]:l,d=t.maxBitrate,f=void 0===d?1/0:d,p=t.endpointBaseUrl,h=void 0===p?"https://api.soundcloud.com/":p,g=t.encryptedStreamsEnabled,y=void 0!==g&&g,v=e.call(this)||this;if(v._getUrlsJob=null,v._clearResponseTimer=null,!n)throw new Error("loader required.");if("string"!=typeof r)throw new Error("clientId invalid.");if("number"!=typeof o)throw new Error("trackId invalid.");if(null!==a&&"string"!=typeof a)throw new Error("secretToken invalid.");if(null!==u&&"string"!=typeof u)throw new Error("requestAuthorizaton invalid.");if("number"!=typeof f||f<=0)throw new Error("maxBitrate must be > 0.");if("string"!=typeof h)throw new Error("endpointBaseUrl must be > 0.");if("boolean"!=typeof y)throw new Error("encryptedStreamsEnabled invalid.");return v._loader=n,v._clientId=r,v._requestAuthorization=u,v._trackId=o,v._secretToken=a,v._endpointBaseUrl=h,v._encryptedStreamsEnabled=y,v._excludedRenditions=c,v._excludedRenditionsOnLastURLRequest=c.slice(),v._maxBitrate=f,v}return r(t,e),t.prototype.getTrackId=function(){return this._trackId},t.prototype.excludeRendition=function(e){this._excludedRenditions.indexOf(e)<0&&this._excludedRenditions.push(e)},t.prototype.updateRequestAuthorization=function(e){if(null!==e&&"string"!=typeof e)throw new Error("requestAuthorizaton invalid.");this._requestAuthorization=e},t.prototype.clearCache=function(){this._clearResponseTimer&&(window.clearTimeout(this._clearResponseTimer),this._clearResponseTimer=null),this._getUrlsJob=null},t.prototype.getMaxBitrate=function(){return this._maxBitrate},t.prototype.setMaxBitrate=function(e){if("number"!=typeof e||e<=0)throw new Error("maxBitrate must be > 0.");this._maxBitrate=e},t.prototype.getUrl=function(){var e=this,t=this._maxBitrate,n=this._excludedRenditions;return new s(function(){e._excludedRenditionsOnLastURLRequest.length===e._excludedRenditions.length?e.clearCache():e._excludedRenditionsOnLastURLRequest=e._excludedRenditions.slice();var r=e._getUrls();return{result:r.whenComplete().then(function(e){var r=e.urls,o=e.timeRetrieved,i=null;return d.filter(function(e){return n.indexOf(e)<0}).some(function(e){var n=r.filter(function(t){return t.rendition===e}).map(function(e){return{url:e.url,bitrate:e.bitrate}}),a=u(n.sort(function(e,t){return t.bitrate-e.bitrate}),function(e){return e.bitrate<=t});return!!a&&(i={url:a.url,rendition:e,bitrate:a.bitrate,timeRetrieved:o},!0)}),i}),abort:function(){return r.abort()}}}).run()},t.prototype._getUrls=function(){var e=this;return this._getUrlsJob||(this._getUrlsJob=new s(function(){var t=o.helpers.deferred.buildDeferred(),n=null,r=c.execute(function(){var r=e._requestAuthorization?{Authorization:e._requestAuthorization}:{},o=e._endpointBaseUrl+"i1/tracks/"+encodeURI(e._trackId+"")+"/streams?client_id="+encodeURIComponent(e._clientId);e._encryptedStreamsEnabled&&(o+="&with_encrypted_streams=true"),e._secretToken&&(o+="&secret_token="+encodeURIComponent(e._secretToken)),(n=e._loader.request({url:o,headers:r})).getResponse().then(function(e){if(!e)throw new i.RequestError(null);if(200!==e.statusCode)throw new i.RequestError(e.statusCode);if(!e.data)throw new Error("Response contained no data.");var t=l.now(),n=JSON.parse(e.data),r=[];return Object.keys(n).map(function(e){var t=e.split("_"),o=t[0],i=t[1],a=parseInt(t[2],10);if(o&&i&&!isNaN(a)){var s=u(d,function(e){return e.scProtocol===o&&e.scFormat===i});s&&r.push({rendition:s,bitrate:a,url:n[e]})}}),{urls:r,timeRetrieved:t}}).then(t.resolve,t.reject)});return{result:t.promise,abort:function(){r.abort(),n&&n.abort()}}}),this._clearResponseTimer=window.setTimeout(function(){e._clearResponseTimer=null,e._getUrlsJob=null},5e3)),this._getUrlsJob.run()},t}(i.BaseStreamUrlRetriever);t.StreamUrlRetriever=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){if(void 0===t&&(t=6e4),this._limit=e,this._period=t,this._jobs=[],this._jobsRunInPeriod=0,e<=0)throw new Error("limit must be > 0.");if(t<=0)throw new Error("period must be > 0.")}return e.prototype.execute=function(e){var t=this,n={job:e};return this._jobs.push(n),this._executeNextJob(),{abort:function(){var e=t._jobs.indexOf(n);e>=0&&t._jobs.splice(e,1)}}},e.prototype._executeNextJob=function(){var e=this;if(this._jobsRunInPeriod<this._limit){var t=this._jobs.shift();t&&(this._jobsRunInPeriod++,window.setTimeout(function(){e._jobsRunInPeriod--,e._executeNextJob()},this._period),t.job())}},e}();t.Limiter=r},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="12.0.0",t.buildNumber=404;var r=n(0);t.StreamUrlRetriever=r.StreamUrlRetriever}])}(n(2),n(1))}])},function(e,t,n){var r;(function(e,o,i,a){(function(){"use strict";function s(e){return"function"==typeof e}function u(){return function(){setTimeout(l,1)}}function l(){for(var e=0;e<x;e+=2)(0,I[e])(I[e+1]),I[e]=void 0,I[e+1]=void 0;x=0}function c(){}function d(e,t){e===t?h(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof t||"object"==typeof t&&null!==t?function(e,t){if(t.constructor===e.constructor)!function(e,t){t._state===D?p(e,t._result):t._state===N?h(e,t._result):g(t,void 0,function(t){d(e,t)},function(t){h(e,t)})}(e,t);else{var n=function(e){try{return e.then}catch(e){return j.error=e,j}}(t);n===j?h(e,j.error):void 0===n?p(e,t):s(n)?function(e,t,n){T(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?d(e,n):p(e,n))},function(t){r||(r=!0,h(e,t))});!r&&o&&(r=!0,h(e,o))},e)}(e,t,n):p(e,t)}}(e,t):p(e,t)}function f(e){e._onerror&&e._onerror(e._result),y(e)}function p(e,t){e._state===M&&(e._result=t,e._state=D,0!==e._subscribers.length&&T(y,e))}function h(e,t){e._state===M&&(e._state=N,e._result=t,T(f,e))}function g(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+D]=n,o[i+N]=r,0===i&&e._state&&T(y,e)}function y(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,i=e._result,a=0;a<t.length;a+=3)o=t[a+n],(r=t[a])?_(n,r,o,i):o(i);e._subscribers.length=0}}function v(){this.error=null}function _(e,t,n,r){var o,i,a,u,l=s(n);if(l){if((o=function(e,t){try{return e(t)}catch(e){return L.error=e,L}}(n,r))===L?(u=!0,i=o.error,o=null):a=!0,t===o)return void h(t,new TypeError("A promises callback cannot return that same promise."))}else o=r,a=!0;t._state!==M||(l&&a?d(t,o):u?h(t,i):e===D?p(t,o):e===N&&h(t,o))}function m(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(c),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?p(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&p(n.promise,n._result))):h(n.promise,n._validationError())}function b(e){this._id=F++,this._state=void 0,this._result=void 0,this._subscribers=[],c!==e&&(s(e)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof b||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(e,t){try{t(function(t){d(e,t)},function(t){h(e,t)})}catch(t){h(e,t)}}(this,e))}var w,E,S,P=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},x=0,T=function(e,t){I[x]=e,I[x+1]=t,2===(x+=2)&&(E?E(l):S())},R="undefined"!=typeof window?window:void 0,C=R||{},k=C.MutationObserver||C.WebKitMutationObserver,A=void 0!==e&&"[object process]"==={}.toString.call(e),O="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,I=new Array(1e3);S=A?function(){var t=e.nextTick,n=e.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(t=o),function(){t(l)}}():k?function(){var e=0,t=new k(l),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():O?function(){var e=new MessageChannel;return e.port1.onmessage=l,function(){e.port2.postMessage(0)}}():void 0===R?function(){try{var e=n(29);return w=e.runOnLoop||e.runOnContext,function(){w(l)}}catch(e){return u()}}():u();var M=void 0,D=1,N=2,j=new v,L=new v;m.prototype._validateInput=function(e){return P(e)},m.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},m.prototype._init=function(){this._result=new Array(this.length)};var U=m;m.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,o=0;n._state===M&&o<t;o++)e._eachEntry(r[o],o)},m.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;!function(e){return"object"==typeof e&&null!==e}(e)?(n._remaining--,n._result[t]=e):e.constructor===r&&e._state!==M?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t)},m.prototype._settledAt=function(e,t,n){var r=this,o=r.promise;o._state===M&&(r._remaining--,e===N?h(o,n):r._result[t]=n),0===r._remaining&&p(o,r._result)},m.prototype._willSettleAt=function(e,t){var n=this;g(e,void 0,function(e){n._settledAt(D,t,e)},function(e){n._settledAt(N,t,e)})};var F=0,B=b;b.all=function(e){return new U(this,e).promise},b.race=function(e){function t(e){d(r,e)}function n(e){h(r,e)}var r=new this(c);if(!P(e))return h(r,new TypeError("You must pass an array to race.")),r;for(var o=e.length,i=0;r._state===M&&i<o;i++)g(this.resolve(e[i]),void 0,t,n);return r},b.resolve=function(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(c);return d(t,e),t},b.reject=function(e){var t=new this(c);return h(t,e),t},b._setScheduler=function(e){E=e},b._setAsap=function(e){T=e},b._asap=T,b.prototype={constructor:b,then:function(e,t){var n=this,r=n._state;if(r===D&&!e||r===N&&!t)return this;var o=new this.constructor(c),i=n._result;if(r){var a=arguments[r-1];T(function(){_(r,o,a,i)})}else g(n,o,e,t);return o},catch:function(e){return this.then(null,e)}};var H=function(){var e;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=B)},q={Promise:B,polyfill:H};n(23).amd?void 0!==(r=(function(){return q}).call(t,n,t,a))&&(a.exports=r):void 0!==a&&a.exports?a.exports=q:void 0!==this&&(this.ES6Promise=q),H()}).call(this)}).call(t,n(6),n(25).setImmediate,function(){return this}(),n(24)(e))},function(e,t){"use strict";var n={oauth_token:void 0,baseURL:"https://api.soundcloud.com",connectURL:"//connect.soundcloud.com",client_id:void 0,redirect_uri:void 0};e.exports={get:function(e){return n[e]},set:function(e,t){t&&(n[e]=t)}}},function(e,t,n){(function(t){"use strict";var r=n(3),o=n(20),i=n(2).Promise,a=function(e,n,r,o){var a=void 0,s=new i(function(i){var s=t.FormData&&r instanceof FormData;(a=new XMLHttpRequest).upload&&a.upload.addEventListener("progress",o),a.open(e,n,!0),s||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4===a.readyState&&i({responseText:a.responseText,request:a})},a.send(r)});return s.request=a,s},s=function e(t,n,r,o){var i=a(t,n,r,o),s=i.then(function(t){var n=t.request,r=function(e){var t=e.responseText,n=e.request,r=void 0,o=void 0;try{o=JSON.parse(t)}catch(e){}return o?o.errors&&(r={message:""},o.errors[0]&&o.errors[0].error_message&&(r={message:o.errors[0].error_message})):r=n?{message:"HTTP Error: "+n.status}:{message:"Unknown error"},r&&(r.status=n.status),{json:o,error:r}}({responseText:t.responseText,request:n});if(r.json&&"302 - Found"===r.json.status)return e("GET",r.json.location,null);if(200!==n.status&&r.error)throw r.error;return r.json});return s.request=i.request,s};e.exports={request:function(e,n){var i,a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],u=arguments.length<=3||void 0===arguments[3]?function(){}:arguments[3],l=r.get("oauth_token"),c=r.get("client_id"),d={},f=t.FormData&&a instanceof FormData,p=void 0;return d.format="json",l?d.oauth_token=l:d.client_id=c,function(e,t,n){Object.keys(t).forEach(function(r){n?e.append(r,t[r]):e[r]=t[r]})}(a,d,f),"GET"!==e&&(p=f?a:o.encode(a),a={oauth_token:l}),n="/"!==n[0]?"/"+n:n,i=""+r.get("baseURL")+n+"?"+o.encode(a),s(e,i,p,u)},oEmbed:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.element;delete t.element,t.url=e;var r="https://soundcloud.com/oembed.json?"+o.encode(t);return s("GET",r,null).then(function(e){return n&&e.html&&(n.innerHTML=e.html),e})},upload:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.asset_data||e.file;if(!(r.get("oauth_token")&&e.title&&t))return new i(function(e,t){t({status:0,error_message:"oauth_token needs to be present and title and asset_data / file passed as parameters"})});var n=Object.keys(e),o=new FormData;return n.forEach(function(t){var n=e[t];"file"===t&&(t="asset_data",n=e.file),o.append("track["+t+"]",n)}),this.request("POST","/tracks",o,e.progress)},resolve:function(e){return this.request("GET","/resolve",{url:e,_status_code_map:{302:200}})}}}).call(t,function(){return this}())},function(e,t){"use strict";var n={};e.exports={get:function(e){return n[e]},set:function(e,t){n[e]=t}}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(){h&&f&&(h=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!h){var e=o(i);h=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,h=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,c,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var f,p=[],h=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(22);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""))?e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),r=n.shift(),o=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),o=void 0===o?null:decodeURIComponent(o),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]:e[r]=o,e},{}):{}},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var n=e[t];return Array.isArray(n)?n.sort().map(function(e){return r(t)+"="+r(e)}).join("&"):r(t)+"="+r(n)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){"use strict";var r=n(7),o=n(5);e.exports={notifyDialog:function(e){var t=r.parse(e.search),n=r.parse(e.hash),i={oauth_token:t.access_token||n.access_token,dialog_id:t.state||n.state,error:t.error||n.error,error_description:t.error_description||n.error_description},a=o.get(i.dialog_id);a&&a.handleConnectResponse(i)}}},function(e,t,n){"use strict";var r=n(3),o=n(11),i=n(2).Promise,a=function(e){return r.set("oauth_token",e.oauth_token),e};e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=r.get("oauth_token");if(t)return new i(function(e){e({oauth_token:t})});var n={client_id:e.client_id||r.get("client_id"),redirect_uri:e.redirect_uri||r.get("redirect_uri"),response_type:"code_and_token",scope:e.scope||"non-expiring",display:"popup"};if(!n.client_id||!n.redirect_uri)throw new Error("Options client_id and redirect_uri must be passed");return new o(n).open().then(a)}},function(e,t,n){"use strict";var r=n(2).Promise;e.exports=function(){var e={};return e.promise=new r(function(t,n){e.resolve=t,e.reject=n}),e}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),i=n(5),a=n(12),s=n(7),u="SoundCloud_Dialog",l=function(){return[u,Math.ceil(1e6*Math.random()).toString(16)].join("_")},c=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.id=l(),this.options=t,this.options.state=this.id,this.width=420,this.height=670,this.deferred=o()}return r(e,[{key:"open",value:function(){var e=function(e){return"https://soundcloud.com/connect?"+s.stringify(e)}(this.options);return this.popup=a.open(e,this.width,this.height),i.set(this.id,this),this.deferred.promise}},{key:"handleConnectResponse",value:function(e){e.error?this.deferred.reject(e):this.deferred.resolve(e),this.popup.close()}}]),e}();e.exports=c},function(e,t){"use strict";e.exports={open:function(e,t,n){var r,o={location:1};return o.width=t,o.height=n,o.left=window.screenX+(window.outerWidth-t)/2,o.top=window.screenY+(window.outerHeight-n)/2,o.toolbar="no",o.scrollbars="yes",r=Object.keys(o).map(function(e){return e+"="+o[e]}).join(", "),window.open(e,o.name,r)}}},function(e,t,n){"use strict";var r=n(19),o=n(1).MaestroCore,i=o.errors.PlayerFatalError,a=o.State,s=n(1).SCAudio.errors,u=s.GeoBlockedError,l=s.NoStreamsError,c=s.TimedOutError,d=s.NotSupportedError,f=1e3/60;e.exports=function(e){function t(){switch(e.getState()){case a.PLAYING:return"playing";case a.PAUSED:return e.isEnded()?"ended":"paused";case a.DEAD:return e.getFatalError()?"error":"dead";case a.LOADING:default:return"loading"}}var n=!1;e.onStateChange.subscribe(function(){return o.trigger("state-change",t())}),e.onPlay.subscribe(function(){o.trigger(n?"play-resume":"play-start"),n=!0}),e.onPlayIntent.subscribe(function(){return o.trigger("play")}),e.onPlayRejection.subscribe(function(e){return o.trigger("play-rejection",e)}),e.onPauseIntent.subscribe(function(){return o.trigger("pause")}),e.onSeek.subscribe(function(){return o.trigger("seeked")}),e.onSeekRejection.subscribe(function(e){return o.trigger("seek-rejection",e)}),e.onLoadStart.subscribe(function(){return o.trigger("buffering_start")}),e.onLoadEnd.subscribe(function(){return o.trigger("buffering_end")}),e.onEnded.subscribe(function(){return o.trigger("finish")}),e.onError.subscribe(function(e){e instanceof u?o.trigger("geo_blocked"):e instanceof l?o.trigger("no_streams"):e instanceof c?o.trigger("no_connection"):e instanceof d?o.trigger("no_protocol"):e instanceof i&&o.trigger("audio_error")});var o={play:e.play.bind(e),pause:e.pause.bind(e),seek:e.seek.bind(e),getVolume:e.getVolume.bind(e),setVolume:e.setVolume.bind(e),currentTime:e.getPosition.bind(e),getDuration:e.getDuration.bind(e),isBuffering:e.isLoading.bind(e),isPlaying:e.isPlaying.bind(e),isActuallyPlaying:e.isActuallyPlaying.bind(e),isEnded:e.isEnded.bind(e),isDead:e.isDead.bind(e),kill:e.kill.bind(e),hasErrored:function(){return!!e.getFatalError()},getState:t};return r.mixin(o),function(){function t(){window.clearTimeout(n),e.isPlaying()&&!e.isEnded()&&(n=window.setTimeout(t,f));var i=e.getPosition();i!==r&&(r=i,o.trigger("time",i))}var n=0,r=null;e.onChange.subscribe(function(e){var r=e.playing,o=e.seeking;e.dead?window.clearTimeout(n):void 0===r&&void 0===o||t()})}(),o}},function(e,t){(function(t){"use strict";var n=t.AudioContext||t.webkitAudioContext,r=null;e.exports=function(){return r||(r=new n)}}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";var n=t.navigator.getUserMedia||t.navigator.webkitGetUserMedia||t.navigator.mozGetUserMedia;e.exports=function(e,r,o){n.call(t.navigator,e,r,o)}}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(14),i=n(15),a=n(2).Promise,s=n(28),u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.context=t.context||o(),this._recorder=null,this.source=t.source,this.stream=null}return r(e,[{key:"start",value:function(){var e=this;return(function(){var e=this,t=this.context;return new a(function(n,r){e.source?e.source instanceof AudioNode?n(e.source):r(new Error("source needs to be an instance of AudioNode")):i({audio:!0},(function(r){e.stream=r,e.source=t.createMediaStreamSource(r),n(e.source)}).bind(e),r)})}).call(this).then(function(t){return e._recorder=new s(t),e._recorder.record(),t})}},{key:"stop",value:function(){if(this._recorder&&this._recorder.stop(),this.stream)if(this.stream.stop)this.stream.stop();else if(this.stream.getTracks){var e=this.stream.getTracks()[0];e&&e.stop()}}},{key:"getBuffer",value:function(){var e=this;return new a(function(t,n){e._recorder?e._recorder.getBuffer((function(n){var r=e.context.createBuffer(2,n[0].length,e.context.sampleRate);r.getChannelData(0).set(n[0]),r.getChannelData(1).set(n[1]),t(r)}).bind(e)):n(new Error("Nothing has been recorded yet."))})}},{key:"getWAV",value:function(){var e=this;return new a(function(t,n){e._recorder?e._recorder.exportWAV(function(e){t(e)}):n(new Error("Nothing has been recorded yet."))})}},{key:"play",value:function(){var e=this;return this.getBuffer().then(function(t){var n=e.context.createBufferSource();return n.buffer=t,n.connect(e.context.destination),n.start(0),n})}},{key:"saveAs",value:function(e){return this.getWAV().then(function(t){s.forceDownload(t,e)})}},{key:"delete",value:function(){this._recorder&&(this._recorder.stop(),this._recorder.clear(),this._recorder=null),this.stream&&this.stream.stop()}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(4),o=n(3),i=n(13),a=n(1).SCAudio,s=n(1).SCAudioPublicApiStreamURLRetriever.StreamUrlRetriever,u=n(1).MaestroHTML5Player.HTML5Player,l=n(1).MaestroHLSMSEPlayer.HLSMSEPlayer,c=n(1).MaestroLoaders.stringLoader;e.exports=function(e,t){return r.request("GET",e,t?{secret_token:t}:{}).then(function(e){var n=o.get("baseURL"),r=o.get("client_id"),d=o.get("oauth_token"),f=!1,p=new s({clientId:r,secretToken:t,trackId:e.id,requestAuthorization:d?"OAuth "+d:null,loader:c}),h=a.buildPlayer({playerClasses:[u,l],streamUrlRetriever:p,fadeOutDuration:"SNIP"===e.policy?3e3:0});return h.onPlay.subscribe(function(){f||(f=!0,function(){var o=n+"/tracks/"+encodeURIComponent(e.id)+"/plays?client_id="+encodeURIComponent(r);t&&(o+="&secret_token="+encodeURIComponent(t));var i=new XMLHttpRequest;i.open("POST",o,!0),i.send()}())}),h.onEnded.subscribe(function(){h.pause()}),h.onPlayIntent.subscribe(function(){h.isEnded()&&h.seek(0)}),i(h)})},e.exports.activateAudioElement=function(){a.activateAudioElement()}},function(e,t,n){!function(){var n,r=Array.prototype.forEach,o=Object.prototype.hasOwnProperty,i=Array.prototype.slice,a=0,s={keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++a+"";return e?e+t:t},has:function(e,t){return o.call(e,t)},each:function(e,t,n){if(null!=e)if(r&&e.forEach===r)e.forEach(t,n);else if(e.length===+e.length)for(var o=0,i=e.length;o<i;o++)t.call(n,e[o],o,e);else for(var a in e)this.has(e,a)&&t.call(n,e[a],a,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}};n={on:function(e,t,n){return l(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,o=s.once(function(){r.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,n)},off:function(e,t,n){var r,o,i,a,u,c,d,f;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(u=0,c=(a=e?[e]:s.keys(this._events)).length;u<c;u++)if(i=this._events[e=a[u]]){if(this._events[e]=r=[],t||n)for(d=0,f=i.length;d<f;d++)o=i[d],(t&&t!==o.callback&&t!==o.callback._callback||n&&n!==o.context)&&r.push(o);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var o=!t&&!n;for(var i in"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e),r)r[i].off(t,n,this),o&&delete this._listeners[i];return this}};var u=/\s+/,l=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var o in n)e[t].apply(e,[o,n[o]].concat(r));return!1}if(u.test(n)){for(var i=n.split(u),a=0,s=i.length;a<s;a++)e[t].apply(e,[i[a]].concat(r));return!1}return!0},c=function(e,t){var n,r=-1,o=e.length,i=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<o;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,a);return;case 3:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,a,s);return;default:for(;++r<o;)(n=e[r]).callback.apply(n.ctx,t)}};s.each({listenTo:"on",listenToOnce:"once"},function(e,t){n[t]=function(t,n,r){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=s.uniqueId("l"))]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),n.bind=n.on,n.unbind=n.off,n.mixin=function(e){return s.each(["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"],function(t){e[t]=this[t]},this),e},void 0!==e&&e.exports&&(t=e.exports=n),t.BackboneEvents=n}()},function(e,t,n){e.exports=n(18)},function(e,t){e.exports={encode:function(e,t){function n(e){return e.filter(function(e){return"string"==typeof e&&e.length}).join("&")}function r(e){var t=Object.keys(e);return d?t.sort():t}function o(e,t){return n(r(t).map(function(n){return a(":name[:prop]".replace(/:name/,e).replace(/:prop/,n),t[n])}))}function i(e,t){return n(t.map(function(t){return a(":name[]".replace(/:name/,e),t)}))}function a(e,t){var n=encodeURIComponent,r=typeof t,a=null;return Array.isArray(t)?a=i(e,t):"string"===r?a=n(e)+"="+u(t):"number"===r?a=n(e)+"="+n(t).replace(/%20/g,"+"):"boolean"===r?a=n(e)+"="+t:"object"===r&&(null!==t?a=o(e,t):c||(a=n(e)+"=null")),a}function s(e){return"%"+("0"+e.charCodeAt(0).toString(16)).slice(-2).toUpperCase()}function u(e){return e.replace(/[^ !'()~\*]*/g,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~\*]/g,s)}var l="object"==typeof t?t:{},c=l.ignorenull||!1,d=l.sorted||!1;return n(r(e).map(function(t){return a(t,e[t])}))}}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){delete s[e]}function o(e){if(u)setTimeout(o,0,e);else{var t=s[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{r(e),u=!1}}}}if(!e.setImmediate){var i,a=1,s={},u=!1,l=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){o(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},i=function(t){e.port2.postMessage(t)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var e=l.documentElement;i=function(t){var n=l.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():i=function(e){setTimeout(o,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return s[a]={callback:e,args:t},i(a),a++},c.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,function(){return this}(),n(6))},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(21),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t){var n=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var r;try{(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),r=r.getBlob()}catch(t){r=new Blob([e])}return new Worker(n.createObjectURL(r))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){return new Worker(t)}}},function(e,t,n){e.exports=function(){return n(26)('!function(t){function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n){(function(t){function n(t){h=t.sampleRate,v=t.numChannels,s()}function e(t){for(var n=0;n<v;n++)p[n].push(t[n]);g+=t[0].length}function r(t){for(var n=[],e=0;e<v;e++)n.push(i(p[e],g));if(2===v)var r=f(n[0],n[1]);else var r=n[0];var a=l(r),o=new Blob([a],{type:t});this.postMessage(o)}function a(){for(var t=[],n=0;n<v;n++)t.push(i(p[n],g));this.postMessage(t)}function o(){g=0,p=[],s()}function s(){for(var t=0;t<v;t++)p[t]=[]}function i(t,n){for(var e=new Float32Array(n),r=0,a=0;a<t.length;a++)e.set(t[a],r),r+=t[a].length;return e}function f(t,n){for(var e=t.length+n.length,r=new Float32Array(e),a=0,o=0;a<e;)r[a++]=t[o],r[a++]=n[o],o++;return r}function c(t,n,e){for(var r=0;r<e.length;r++,n+=2){var a=Math.max(-1,Math.min(1,e[r]));t.setInt16(n,a<0?32768*a:32767*a,!0)}}function u(t,n,e){for(var r=0;r<e.length;r++)t.setUint8(n+r,e.charCodeAt(r))}function l(t){var n=new ArrayBuffer(44+2*t.length),e=new DataView(n);return u(e,0,"RIFF"),e.setUint32(4,36+2*t.length,!0),u(e,8,"WAVE"),u(e,12,"fmt "),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,v,!0),e.setUint32(24,h,!0),e.setUint32(28,4*h,!0),e.setUint16(32,2*v,!0),e.setUint16(34,16,!0),u(e,36,"data"),e.setUint32(40,2*t.length,!0),c(e,44,t),e}var h,v,g=0,p=[];t.onmessage=function(t){switch(t.data.command){case"init":n(t.data.config);break;case"record":e(t.data.buffer);break;case"exportWAV":r(t.data.type);break;case"getBuffer":a();break;case"clear":o()}}}).call(n,function(){return this}())}]);\n//# sourceMappingURL=9f9aac32c9a7432b5555.worker.js.map',n.p+"9f9aac32c9a7432b5555.worker.js")}},function(e,t,n){var r=n(27),o=function(e,t){var n=t||{},o=n.bufferLen||4096,i=n.numChannels||2;this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,o,i,i);var a=new r;a.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:i}});var s,u=!1;this.node.onaudioprocess=function(e){if(u){for(var t=[],n=0;n<i;n++)t.push(e.inputBuffer.getChannelData(n));a.postMessage({command:"record",buffer:t})}},this.configure=function(e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])},this.record=function(){u=!0},this.stop=function(){u=!1},this.clear=function(){a.postMessage({command:"clear"})},this.getBuffer=function(e){s=e||n.callback,a.postMessage({command:"getBuffer"})},this.exportWAV=function(e,t){if(t=t||n.type||"audio/wav",!(s=e||n.callback))throw new Error("Callback not set");a.postMessage({command:"exportWAV",type:t})},a.onmessage=function(e){s(e.data)},e.connect(this.node),this.node.connect(this.context.destination)};o.forceDownload=function(e,t){var n=(window.URL||window.webkitURL).createObjectURL(e),r=window.document.createElement("a");r.href=n,r.download=t||"output.wav";var o=document.createEvent("Event");o.initEvent("click",!0,!0),r.dispatchEvent(o)},e.exports=o},function(e,t){}])},"Sp6+":function(e){e.exports={first_date:"2016-07-15",last_date:"2018-08-09",category_kg:{Shoulders:164443.5,Back:515762.7,Abs:149099.8,All:2191011.8,Triceps:106082.3,Chest:347622.5,Legs:551060.5,Calves:272030,Biceps:82465.5},all_creatures_lifted:[{total_kg:1741800,count:3,creature:{name:"Gold dragon",kg:580600,url:"http://forgottenrealms.wikia.com/wiki/Gold_dragon"}},{total_kg:435450,count:6,creature:{name:"Bronze dragon",kg:72575,url:"http://forgottenrealms.wikia.com/wiki/Bronze_dragon"}},{total_kg:11380,count:1,creature:{name:"Baird's beaked whale",kg:11380,url:"http://us.whales.org/species-guide/bairds-beaked-whale"}},{total_kg:2200,count:1,creature:{name:"Short-finned pilot whale",kg:2200,url:"http://uk.whales.org/species-guide/short-finned-pilot-whale"}},{total_kg:180,count:1,creature:{name:"Wild boar",kg:180,url:"https://en.wikipedia.org/wiki/Wild_boar"}},{total_kg:1,count:1,creature:{name:"Guinea pig",kg:1,url:"https://en.wikipedia.org/wiki/Guinea_pig"}},{total_kg:.5,count:1,creature:{name:"African hedgehog",kg:.5,url:"https://www.awf.org/wildlife-conservation/hedgehog"}}]}},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},zUnb:function(e,t,n){"use strict";n.r(t);var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}var d=Array.isArray||function(e){return e&&"number"==typeof e.length};function f(e){return null!=e&&"object"==typeof e}function p(e){return"function"==typeof e}var h,g={e:{}};function y(){try{return h.apply(this,arguments)}catch(e){return g.e=e,g}}function v(e){return h=e,y}function _(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}_.prototype=Object.create(Error.prototype);var m=_,b=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,s=r?r.length:0;n;)n.remove(this),n=++a<s&&r[a]||null;if(p(o)&&v(o).call(this)===g&&(t=!0,e=e||(g.e instanceof m?w(g.e.errors):[g.e])),d(i))for(a=-1,s=i.length;++a<s;){var u=i[a];if(f(u)&&v(u.unsubscribe).call(u)===g){t=!0,e=e||[];var l=g.e;l instanceof m?e=e.concat(w(l.errors)):e.push(l)}}if(t)throw new m(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function w(e){return e.reduce(function(e,t){return e.concat(t instanceof m?t.errors:t)},[])}var E=!1,S={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){E=e},get useDeprecatedSynchronousErrorHandling(){return E}};function P(e){setTimeout(function(){throw e})}var x={closed:!0,next:function(e){},error:function(e){if(S.useDeprecatedSynchronousErrorHandling)throw e;P(e)},complete:function(){}},T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),R=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,i._parentSubscription=null,arguments.length){case 0:i.destination=x;break;case 1:if(!n){i.destination=x;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new C(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new C(i,n,r,o)}return i}return o(t,e),t.prototype[T]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(b),C=function(e){function t(t,n,r,o){var i,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return p(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==x&&(p((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=i,a._error=r,a._complete=o,a}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;S.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=S.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):P(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;P(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};S.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),S.useDeprecatedSynchronousErrorHandling)throw n;P(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!S.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return S.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(P(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(R),k="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(){}function O(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I(e)}function I(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:A}var M=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof R)return e;if(e[T])return e[T]()}return e||t||n?new R(e,t,n):new R(x)}(e,t,n);if(r?r.call(o,this.source):o.add(this.source||S.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),S.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){S.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof R?t:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=D(t))(function(t,r){var o;o=n.subscribe(function(t){try{e(t)}catch(n){r(n),o&&o.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[k]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:I(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=D(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function D(e){if(e||(e=S.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function N(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}N.prototype=Object.create(Error.prototype);var j=N,L=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return o(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(b),U=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return o(t,e),t}(R),F=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype[T]=function(){return new U(this)},t.prototype.lift=function(e){var t=new B(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new j;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new j;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new j;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new j;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new j;return this.hasError?(e.error(this.thrownError),b.EMPTY):this.isStopped?(e.complete(),b.EMPTY):(this.observers.push(e),new L(this,e))},t.prototype.asObservable=function(){var e=new M;return e.source=this,e},t.create=function(e,t){return new B(e,t)},t}(M),B=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return o(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):b.EMPTY},t}(F);function H(e){return e&&"function"==typeof e.schedule}var q=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return o(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(R),V=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},z=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,P),t}};function G(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var K=G(),W=function(e){return function(t){for(var n=e[K]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},Q=function(e){return function(t){var n=e[k]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},J=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Z(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Y=function(e){if(e instanceof M)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[k])return Q(e);if(J(e))return V(e);if(Z(e))return z(e);if(e&&"function"==typeof e[K])return W(e);var t=f(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function X(e,t,n,r,o){if(void 0===o&&(o=new q(e,n,r)),!o.closed)return Y(t)(o)}var $=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(R);function ee(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new te(e,t))}}var te=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new ne(e,this.project,this.thisArg))},e}(),ne=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(R);function re(e,t){return new M(t?function(n){var r=new b,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:V(e))}function oe(e,t){if(!t)return e instanceof M?e:new M(Y(e));if(null!=e){if(function(e){return e&&"function"==typeof e[k]}(e))return function(e,t){return new M(t?function(n){var r=new b;return r.add(t.schedule(function(){var o=e[k]();r.add(o.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r}:Q(e))}(e,t);if(Z(e))return function(e,t){return new M(t?function(n){var r=new b;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r}:z(e))}(e,t);if(J(e))return re(e,t);if(function(e){return e&&"function"==typeof e[K]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new M(t?function(n){var r,o=new b;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(t.schedule(function(){r=e[K](),o.add(t.schedule(function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}}))})),o}:W(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function ie(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(ie(function(n,r){return oe(e(n,r)).pipe(ee(function(e,o){return t(n,e,r,o)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ae(e,n))})}var ae=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new se(e,this.project,this.concurrent))},e}(),se=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new q(this,void 0,void 0);this.destination.add(r),X(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}($);function ue(e){return e}function le(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),ie(ue,e)}function ce(){return function(e){return e.lift(new de(e))}}var de=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new fe(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),fe=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return o(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(R),pe=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new b).add(this.source.subscribe(new ge(this.getSubject(),this))),e.closed?(this._connection=null,e=b.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return ce()(this)},t}(M).prototype,he={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:pe._subscribe},_isComplete:{value:pe._isComplete,writable:!0},getSubject:{value:pe.getSubject},connect:{value:pe.connect},refCount:{value:pe.refCount}},ge=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return o(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(U);function ye(){return new F}function ve(e){for(var t in e)if(e[t]===ve)return t;throw Error("Could not find renamed property on target object.")}function _e(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}var me=ve({ngComponentDef:ve}),be=ve({ngInjectableDef:ve}),we=ve({ngInjectorDef:ve}),Ee=ve({ngModuleDef:ve}),Se=ve({ngBaseDef:ve}),Pe=ve({__NG_ELEMENT_ID__:ve});function xe(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Te(e){return e&&e.hasOwnProperty(be)?e[be]:null}function Re(e){return e&&e.hasOwnProperty(we)?e[we]:null}var Ce=function(){function e(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==t?xe({providedIn:t.providedIn||"root",factory:t.factory}):void 0}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),ke="__parameters__",Ae="__prop__metadata__";function Oe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var r=e.apply(void 0,c(t));for(var o in r)this[o]=r[o]}}}function Ie(e,t,n){var r=Oe(t);function o(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof o)return r.apply(this,t),this;var i=new((e=o).bind.apply(e,c([void 0],t)));return a.annotation=i,a;function a(e,t,n){for(var r=e.hasOwnProperty(ke)?e[ke]:Object.defineProperty(e,ke,{value:[]})[ke];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function Me(e,t,n,r){var o=Oe(t);function i(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof i)return o.apply(this,t),this;var a=new((e=i).bind.apply(e,c([void 0],t)));return function(e,n){var o=e.constructor,i=o.hasOwnProperty(Ae)?o[Ae]:Object.defineProperty(o,Ae,{value:{}})[Ae];i[n]=i.hasOwnProperty(n)&&i[n]||[],i[n].unshift(a),r&&r.apply(void 0,c([e,n],t))}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}var De=new Ce("AnalyzeForEntryComponents"),Ne="undefined"!=typeof window&&window,je="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Le="undefined"!=typeof global&&global||Ne||je,Ue=Promise.resolve(0),Fe=null;function Be(){if(!Fe){var e=Le.Symbol;if(e&&e.iterator)Fe=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Fe=r)}}return Fe}function He(e){"undefined"==typeof Zone?Ue.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function qe(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ve(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var ze=ve({__forward_ref__:ve});function Ge(e){return e.__forward_ref__=Ge,e.toString=function(){return Ve(this())},e}function Ke(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(ze)&&t.__forward_ref__===Ge?t():e}var We=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Qe=0,Je=1,Ze=2,Ye=3,Xe=5,$e=6,et=7,tt=8,nt=9,rt=10,ot=11,it=12,at=13,st=15,ut=17,lt=18,ct=0,dt=1,ft=6,pt=8,ht="__ngContext__",gt=8,yt=8,vt=9,_t=-1,mt=function(){return function(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}(),bt=mt.prototype;function wt(e){return"function"==typeof e?e.name||e:"string"==typeof e?e:null==e?"":"object"==typeof e&&"function"==typeof e.type?e.type.name||e.type:""+e}function Et(e){for(;Array.isArray(e);)e=e[Xe];return e}function St(e,t){return Et(t[e.index])}function Pt(e,t){var n=t[e];return n.length>=lt?n:n[Xe]}function xt(e){return null!==e.template}function Tt(e){return e[ht]}function Rt(e){var t=Tt(e);return t?Array.isArray(t)?t:t.lView:null}function Ct(e){return 32767&e}function kt(e,t){for(var n=e>>16,r=t;n>0;)r=r[ut],n--;return r}var At=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Le);function Ot(e){for(var t=e[$e];t&&2===t.type;)t=(e=e[ut])[$e];return e}var It,Mt,Dt,Nt,jt=Ie("Inject",function(e){return{token:e}}),Lt=Ie("Optional"),Ut=Ie("Self"),Ft=Ie("SkipSelf"),Bt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({}),Ht=void 0;function qt(e){var t=Ht;return Ht=e,t}function Vt(e){var t=It;return It=e,t}function zt(e,t){return void 0===t&&(t=Bt.Default),(It||function(e,t){if(void 0===t&&(t=Bt.Default),void 0===Ht)throw new Error("inject() must be called from an injection context");return null===Ht?Gt(e,void 0,t):Ht.get(e,t&Bt.Optional?null:void 0,t)})(e,t)}function Gt(e,t,n){var r=Te(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Bt.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND ["+Ve(e)+"]")}function Kt(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var o=void 0,i=Bt.Default,a=0;a<r.length;a++){var s=r[a];s instanceof Lt||"Optional"===s.ngMetadataName?i|=Bt.Optional:s instanceof Ft||"SkipSelf"===s.ngMetadataName?i|=Bt.SkipSelf:s instanceof Ut||"Self"===s.ngMetadataName?i|=Bt.Self:o=s instanceof jt?s.token:s}t.push(zt(o,i))}else t.push(zt(r))}return t}function Wt(e,t,n){e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked))}function Qt(e,t,n){e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked))}function Jt(e,t,n){null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}function Zt(e,t,n,r){if(!r){var o=2&e[Je]?t:n;o&&Yt(e,o)}}function Yt(e,t){for(var n=0;n<t.length;n+=2)t[n+1].call(e[t[n]])}function Xt(){return Nt}function $t(){return Mt}function en(e){Mt=e}function tn(e,t){Mt=e,Nt=t}function nn(){return Dt}function rn(e){Dt=e}function on(e){return void 0===e&&(e=Nt),1==(1&e[Je])}var an=!1;function sn(){return an}function un(e){an=e}var ln=!0;function cn(){return ln}function dn(e){ln=e}function fn(e,t){var n=Nt;e&&(ln=e[Qe].firstTemplatePass);return Mt=t,Dt=!0,Nt=e,n}function pn(e){var t=Nt[Qe];on(Nt)?Nt[Je]&=-2:(Zt(Nt,t.viewHooks,t.viewCheckHooks,an),Nt[Je]&=-11,Nt[Je]|=32,Nt[et]=t.bindingStartIndex),fn(e,null)}var hn=!0;function gn(e){var t=hn;return hn=e,t}var yn=255,vn=0;function _n(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+yt]?-1:e.injectorIndex}function bn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[$e],r=1;n&&-1===n.injectorIndex;)n=(t=t[ut])?t[$e]:null,r++;return n?n.injectorIndex|r<<16:-1}var wn={};function En(e,t,n,r,o,i){var a=t[Qe],s=a.data[e+gt],u=function(e,t,n,r,o){for(var i=e.providerIndexes,a=t[Qe].data,s=65535&i,u=e.directiveStart,l=i>>16,c=o?s+l:e.directiveEnd,d=r?s:s+l;d<c;d++){var f=a[d];if(d<u&&n===f||d>=u&&f.type===n)return d}if(o){var p=a[u];if(p&&xt(p)&&p.type===n)return u}return null}(s,t,n,null==r?function(e){return 1==(1&e.flags)}(s)&&hn:r!=a&&3===s.type,o&Bt.Host&&i===s);return null!==u?Sn(a.data,t,u,s):wn}function Sn(e,t,n,r){var o,i=t[n];if(null!=(o=i)&&"object"==typeof o&&Object.getPrototypeOf(o)==bt){var a=i;if(a.resolving)throw new Error("Circular dep for "+wt(e[n]));var s=gn(a.canSeeViewProviders);a.resolving=!0;var u=void 0;a.injectImpl&&(u=Vt(a.injectImpl));var l=$t(),c=Xt();tn(r,t);try{i=t[n]=a.factory(null,e,t,r)}finally{a.injectImpl&&Vt(u),gn(s),a.resolving=!1,tn(l,c)}}return i}function Pn(e,t,n){var r=64&e,o=32&e;return!!((128&e?r?o?n[t+7]:n[t+6]:o?n[t+5]:n[t+4]:r?o?n[t+3]:n[t+2]:o?n[t+1]:n[t])&1<<e)}function xn(e,t){return!(e&Bt.Self||e&Bt.Host&&t)}var Tn=function(){function e(e,t){this._tNode=e,this._lView=t}return e.prototype.get=function(e,t){return function(e,t,n,r,o){if(void 0===r&&(r=Bt.Default),e){var i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[Pe];return"number"==typeof t?t&yn:t}(n);if("function"==typeof i){var a=$t(),s=Xt();tn(e,t);try{var u=i();if(null!=u||r&Bt.Optional)return u;throw new Error("No provider for "+wt(n)+"!")}finally{tn(a,s)}}else if("number"==typeof i){var l=null,c=mn(e,t),d=_t,f=r&Bt.Host?Ot(t)[$e]:null;for((-1===c||r&Bt.SkipSelf)&&(d=-1===c?bn(e,t):t[c+yt],xn(r,!1)?(l=t[Qe],c=Ct(d),t=kt(d,t)):c=-1);-1!==c;){d=t[c+yt];var p=t[Qe];if(Pn(i,c,p.data)){var h=En(c,t,n,l,r,f);if(h!==wn)return h}xn(r,t[Qe].data[c+gt]===f)&&Pn(i,c,t)?(l=p,c=Ct(d),t=kt(d,t)):c=-1}}}if(r&Bt.Optional&&void 0===o&&(o=null),0==(r&(Bt.Self|Bt.Host))){var g=t[rt];return g?g.get(n,o,r&Bt.Optional):Gt(n,o,r&Bt.Optional)}if(r&Bt.Optional)return o;throw new Error("NodeInjector: NOT_FOUND ["+wt(n)+"]")}(this._tNode,this._lView,e,void 0,t)},e}();function Rn(e,t){e[ht]=t}var Cn=/([A-Z])/g;function kn(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function An(e,t){var n=Mn(e),r=Mn(t);return n&&r?function(e,t,n){for(var r=e[Be()](),o=t[Be()]();;){var i=r.next(),a=o.next();if(i.done&&a.done)return!0;if(i.done||a.done)return!1;if(!n(i.value,a.value))return!1}}(e,t,An):!(n||!e||"object"!=typeof e&&"function"!=typeof e||r||!t||"object"!=typeof t&&"function"!=typeof t)||qe(e,t)}var On=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),In=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function Mn(e){return!!Dn(e)&&(Array.isArray(e)||!(e instanceof Map)&&Be()in e)}function Dn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}var Nn={},jn="ngProjectAs";function Ln(e){return!!e.listen}var Un={createRenderer:function(e,t){return document}},Fn=[];function Bn(e,t,n,r,o){0===e?Ln(t)?t.insertBefore(n,r,o):n.insertBefore(r,o,!0):1===e?Ln(t)?t.removeChild(n,r):n.removeChild(r):2===e&&t.destroyNode(r)}function Hn(e){var t=e[Qe].childIndex;return-1===t?null:e[t]}function qn(e,t){var n;return e.length>=lt&&(n=e[$e])&&2===n.type?function(t,n){if(-1===t.index){var r=e[st];return r>-1?e[Ze][r]:null}return e[Ze][t.parent.index]}(n):e[Ze]===t?null:e[Ze]}function Vn(e){if(e.length>=lt){var t=e;!function(e){var t,n=e[Qe];null!=n&&null!=(t=n.destroyHooks)&&Yt(e,t)}(t),(o=(r=t)[Qe]&&r[Qe].pipeDestroyHooks)&&Yt(r,o),function(e){var t=e[Qe].cleanup;if(null!=t){for(var n=e[tt],r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){var o=n[t[r+2]],i=Et(e[t[r+1]]),a=t[r+3];"boolean"==typeof a?i.removeEventListener(t[r],o,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else"number"==typeof t[r]?(0,n[t[r]])():t[r].call(n[t[r+1]]);e[tt]=null}}(t);var n=t[$e];n&&3===n.type&&Ln(t[it])&&t[it].destroy()}var r,o}var zn="@",Gn=Promise.resolve(null);function Kn(e){var t=e[Qe];if(t.firstTemplatePass=!1,dn(!1),!on(e)){var n=sn();(function(e,t,n){!n&&32&e[Je]&&(Zt(e,t.initHooks,t.checkHooks,n),e[Je]&=-33)})(e,t,n),function(e){for(var t=Hn(e);null!==t;t=t[Ye])if(t.length<lt&&-1===t[ct])for(var n=t,r=0;r<n[dt].length;r++){var o=n[dt][r];Jn(o,o[Qe],o[nt])}}(e),function(e){if(null!=e.contentQueries)for(var t=0;t<e.contentQueries.length;t+=2){var n=e.contentQueries[t];e.data[n].contentQueriesRefresh(n-lt,e.contentQueries[t+1])}}(t),Zt(e,t.contentHooks,t.contentCheckHooks,n),function(e,t){if(e.expandoInstructions)for(var n=t[et]=e.expandoStartIndex,r=-1,o=-1,i=0;i<e.expandoInstructions.length;i++){var a=e.expandoInstructions[i];if("number"==typeof a)if(a<=0){o=-a;var s=e.expandoInstructions[++i];r=n+=vt+s}else n+=a;else null!==a&&(t[et]=n,a(2,Et(t[r]),o)),r++}}(t,e)}!function(e){if(null!=e)for(var t=0;t<e.length;t++)void 0,void 0,16==(16&(n=Pt(e[t],Xt()))[Je])&&12&n[Je]&&(function(e){for(var t=e[Qe],n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),ir(n,n[nt]));var n}(t.components)}function Wn(e,t,n,r,o,i,a,s){var u=t.blueprint.slice();return u[Je]=51|r,u[Ze]=u[ut]=e,u[nt]=n,u[ot]=o||e&&e[ot],u[it]=i||e&&e[it],u[at]=a||e&&e[at]||null,u[rt]=s||e&&e[rt]||null,u}function Qn(e,t,n,r,o){var i=Xt(),a=i[Qe],s=e+lt;i[s]=n;var u=a.data[s];null==u&&(u=a.data[s]=tr(i,t,s,r,o,null));var l=$t(),c=nn();return l&&(!c||null!=l.child||null===u.parent&&2!==l.type?c||(l.next=u):l.child=u),null==a.firstChild&&(a.firstChild=u),en(u),rn(!0),u}function Jn(e,t,n){var r,o=nn(),i=$t();if(rn(!0),en(null),128&e[Je])nr(function(e){for(var t=Array.isArray(e)?e:Rt(e);t&&!(128&t[Je]);)t=t[Ze];return t}(e)[nt]);else try{rn(!0),en(null),r=fn(e,e[$e]),$n(),t.template(Yn(e),n),e[Qe].firstTemplatePass=!1,dn(!1),Kn(e)}finally{pn(r),rn(o),en(i)}}function Zn(e,t,n){var r=e[ot],o=fn(e,e[$e]),i=!sn();try{i&&r.begin&&r.begin(),on(e)&&(n&&($n(),n(1,t)),Kn(e),e[Je]&=-2),n&&n(2,t),Kn(e)}finally{i&&r.end&&r.end(),pn(o)}}function Yn(e){return on(e)?1:2}var Xn=null;function $n(){Xn=null}function er(e,t,n,r,o,i,a){var s=lt+n,u=s+r,l=function(e,t){var n=new Array(t).fill(null,0,e).fill(Nn,e);return n[st]=-1,n[et]=e,n}(s,u);return l[Qe]={id:e,blueprint:l,template:t,viewQuery:a,node:null,data:l.slice(),childIndex:-1,bindingStartIndex:s,expandoStartIndex:u,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof i?i():i,firstChild:null}}function tr(e,t,n,r,o,i){var a=$t(),s=nn()?a:a&&a.parent,u=s&&e&&s!==e[$e]?s:null;return{type:t,index:n,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:r,attrs:o,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:i,next:null,child:null,parent:u,detached:null,stylingTemplate:null,projection:null}}function nr(e){for(var t=0;t<e.components.length;t++){var n=e.components[t];Zn(Rt(n),n)}}function rr(e,t){var n=e[ot];n.begin&&n.begin(),on(e)&&ir(e,t),ir(e,t),n.end&&n.end()}function or(e){nr(e[nt])}function ir(e,t){var n=e[Qe],r=fn(e,e[$e]),o=n.template,i=n.viewQuery;try{$n(),function(t,n,r){t&&on(e)&&t(1,r)}(i,0,t),o(Yn(e),t),Kn(e),function(t,n,r){t&&!on(e)&&t(2,r)}(i,0,t)}finally{pn(r)}}var ar=Gn;function sr(e,t,n,r,o,i){Dt=!1,Mt=null;var a,s=n[Qe],u=Wn(n,(a=t.template).ngPrivateData||(a.ngPrivateData=er(-1,a,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery)),null,t.onPush?8:4,r,o,i),l=Qn(0,3,e,null,null);return s.firstTemplatePass&&(function(e,t,n){var r="string"!=typeof n?n[Pe]:n.charCodeAt(0)||0;null==r&&(r=n[Pe]=vn++);var o=r&yn,i=1<<o,a=64&o,s=32&o,u=t.data;128&o?a?s?u[e+7]|=i:u[e+6]|=i:s?u[e+5]|=i:u[e+4]|=i:a?s?u[e+3]|=i:u[e+2]|=i:s?u[e+1]|=i:u[e]|=i}(function(e,t){var n=mn(e,t);if(-1!==n)return n;var r=t[Qe];r.firstTemplatePass&&(e.injectorIndex=t.length,_n(r.data,e),_n(t,null),_n(r.blueprint,null));var o=bn(e,t),i=Ct(o),a=kt(o,t),s=e.injectorIndex;if(o!==_t)for(var u=a[Qe].data,l=0;l<8;l++)t[s+l]=a[i+l]|u[i+l];return t[s+yt]=o,s}(l,n),n[Qe],t.type),l.flags=1,function(e,t,n){e.flags=1&e.flags,e.directiveStart=t,e.directiveEnd=t+1,e.providerIndexes=t}(l,n.length),function(e){var t=Xt()[Qe];(t.components||(t.components=[])).push(e.index)}(l)),u[Xe]=n[lt],u[$e]=l,n[lt]=u}function ur(e,t,n,r,o){var i=n[Qe],a=function(e,t,n){var r=$t();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),function(e,t,n){var o=-(r.index-lt),i=e.data.length-(65535&r.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(o,i,1)}(e),function(e,t,n,r){e.data.push(n);var o=new mt(r,xt(n),null);e.blueprint.push(o),t.push(o)}(e,t,n,n.factory));var o=Sn(e.data,t,t.length-1,r);return function(e,t,n,r){var o=St(t,e);Rn(n,e),o&&Rn(o,e),null!=r.attributes&&3==t.type&&function(e,t){for(var n=Xt()[it],r=Ln(n),o=0;o<t.length;){var i=t[o++];if("number"==typeof i){if(0!==i)break;var a=t[o++],s=t[o++],u=t[o++];r?n.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else u=t[o++],i!==jn&&(i[0]===zn?r&&n.setProperty(e,i,u):r?n.setAttribute(e,i,u):e.setAttribute(i,u))}}(o,r.attributes)}(t,r,o,n),o}(i,n,t);if(r.components.push(a),e[nt]=a,o&&o.forEach(function(e){return e(a,t)}),i.firstTemplatePass&&t.hostBindings){var s=$t();t.hostBindings(1,a,s.index-lt)}return a}function lr(e,t){return{components:[],scheduler:e||At,clean:ar,playerHandler:t||null,flags:0}}function cr(e,t){var n,r,o,i,a=Rt(e)[Qe],s=a.data.length-1;n=s,o=t.doCheck,i=a,(r=t.onInit)&&(i.initHooks||(i.initHooks=[])).push(n,r),o&&((i.initHooks||(i.initHooks=[])).push(n,o),(i.checkHooks||(i.checkHooks=[])).push(n,o)),function(e,t){if(e.firstTemplatePass)for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var o=e.data[n];Wt(o,e,n),Qt(o,e,n),Jt(o,e,n)}}(a,{directiveStart:s,directiveEnd:s+1})}function dr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}var fr="__source",pr=new Object,hr=pr,gr=new Ce("INJECTOR"),yr=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=pr),t===pr)throw new Error("NullInjectorError: No provider for "+Ve(e)+"!");return t},e}(),vr=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new Rr(e,t):new Rr(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=pr,e.NULL=new yr,e.ngInjectableDef=xe({providedIn:"any",factory:function(){return zt(gr)}}),e.__NG_ELEMENT_ID__=function(){return _r()},e}(),_r=dr,mr=function(e){return e},br=[],wr=mr,Er=function(){return Array.prototype.slice.call(arguments)},Sr=ve({provide:String,useValue:ve}),Pr=vr.NULL,xr=/\n/gm,Tr="\u0275",Rr=function(){function e(e,t,n){void 0===t&&(t=Pr),void 0===n&&(n=null),this.parent=t,this.source=n;var r=this._records=new Map;r.set(vr,{token:vr,fn:mr,deps:br,value:this,useNew:!1}),r.set(gr,{token:gr,fn:mr,deps:br,value:this,useNew:!1}),function e(t,n){if(n)if((n=Ke(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Ar("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ar("Unexpected provider",n);var o=Ke(n.provide),i=function(e){var t=function(e){var t=br,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var o=6;if((u=Ke(n[r]))instanceof Array)for(var i=0,a=u;i<a.length;i++){var s=a[i];s instanceof Lt||s==Lt?o|=1:s instanceof Ft||s==Ft?o&=-3:s instanceof Ut||s==Ut?o&=-5:u=s instanceof jt?s.token:Ke(s)}t.push({token:u,options:o})}}else if(e.useExisting){var u;t=[{token:u=Ke(e.useExisting),options:6}]}else if(!(n||Sr in e))throw Ar("'deps' required",e);return t}(e),n=mr,r=br,o=!1,i=Ke(e.provide);if(Sr in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)o=!0,n=Ke(e.useClass);else{if("function"!=typeof i)throw Ar("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);o=!0,n=i}return{deps:t,fn:n,useNew:o,value:r}}(n);if(!0===n.multi){var a=t.get(o);if(a){if(a.fn!==Er)throw Cr(o)}else t.set(o,a={token:n.provide,deps:[],useNew:!1,fn:Er,value:br});a.deps.push({token:o=n,options:6})}var s=t.get(o);if(s&&s.fn==Er)throw Cr(o);t.set(o,i)}}(r,e)}return e.prototype.get=function(e,t,n){void 0===n&&(n=Bt.Default);var r=this._records.get(e);try{return function e(t,n,r,o,i,a){try{return function(t,n,r,o,i,a){var s,u;if(!n||a&Bt.SkipSelf)a&Bt.Self||(u=o.get(t,i,Bt.Default));else{if((u=n.value)==wr)throw Error(Tr+"Circular dependency");if(u===br){n.value=wr;var l=n.useNew,d=n.fn,f=n.deps,p=br;if(f.length){p=[];for(var h=0;h<f.length;h++){var g=f[h],y=g.options,v=2&y?r.get(g.token):void 0;p.push(e(g.token,v,r,v||4&y?o:Pr,1&y?null:vr.THROW_IF_NOT_FOUND,Bt.Default))}}n.value=u=l?new((s=d).bind.apply(s,c([void 0],p))):d.apply(void 0,p)}}return u}(t,n,r,o,i,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(t),n&&n.value==wr&&(n.value=br),s}}(e,r,this._records,this.parent,t,n)}catch(i){var o=i.ngTempTokenPath;throw e[fr]&&o.unshift(e[fr]),i.message=kr("\n"+i.message,o,this.source),i.ngTokenPath=o,i.ngTempTokenPath=null,i}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,n){return e.push(Ve(n))}),"StaticInjector["+e.join(", ")+"]"},e}();function Cr(e){return Ar("Cannot mix multi providers and regular providers",e)}function kr(e,t,n){void 0===n&&(n=null),e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Tr?e.substr(2):e;var r=Ve(t);if(t instanceof Array)r=t.map(Ve).join(" -> ");else if("object"==typeof t){var o=[];for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];o.push(i+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}r="{"+o.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+e.replace(xr,"\n  ")}function Ar(e,t){return new Error(kr(e,t))}var Or=new Ce("The presence of this token marks an injector as being the root injector."),Ir={},Mr={},Dr=[],Nr=void 0;function jr(){return void 0===Nr&&(Nr=new yr),Nr}var Lr=function(){function e(e,t,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var o=[];Br([e],function(e){return r.processInjectorType(e,[],o)}),t&&Br(t,function(n){return r.processProvider(n,e,t)}),this.records.set(gr,Fr(void 0,this)),this.isRootInjector=this.records.has(Or),this.injectorDefTypes.forEach(function(e){return r.get(e)})}return e.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},e.prototype.get=function(e,t,n){void 0===t&&(t=hr),void 0===n&&(n=Bt.Default),this.assertNotDestroyed();var r,o=qt(this);try{if(!(n&Bt.SkipSelf)){var i=this.records.get(e);if(void 0===i){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Ce)&&Te(e);a&&this.injectableDefInScope(a)&&(i=Fr(Ur(e),Ir),this.records.set(e,i))}if(void 0!==i)return this.hydrate(e,i)}return(n&Bt.Self?jr():this.parent).get(e,t)}finally{qt(o)}},e.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},e.prototype.processInjectorType=function(e,t,n){var r=this;if(e=Ke(e)){var o=Re(e),i=null==o&&e.ngModule||void 0,a=void 0===i?e:i,s=-1!==n.indexOf(a),u=void 0!==i&&e.providers||Dr;if(void 0!==i&&(o=Re(i)),null!=o){if(this.injectorDefTypes.add(a),this.records.set(a,Fr(o.factory,Ir)),null!=o.imports&&!s){n.push(a);try{Br(o.imports,function(e){return r.processInjectorType(e,t,n)})}finally{}}var l=o.providers;if(null!=l&&!s){var c=e;Br(l,function(e){return r.processProvider(e,c,l)})}var d=e.ngModule;Br(u,function(e){return r.processProvider(e,d,u)})}}},e.prototype.processProvider=function(e,t,n){var r=qr(e=Ke(e))?e:Ke(e&&e.provide),o=function(e,t,n){var r=function(e,t,n){var r,o=void 0;if(qr(e))return Ur(Ke(e));if(Hr(e))o=function(){return Ke(e.useValue)};else if((r=e)&&r.useExisting)o=function(){return zt(Ke(e.useExisting))};else if(e&&e.useFactory)o=function(){return e.useFactory.apply(e,c(Kt(e.deps||[])))};else{var i=Ke(e&&(e.useClass||e.provide));if(!i){var a="";throw t&&n&&(a=" - only instances of Provider and Type are allowed, got: ["+n.map(function(t){return t==e?"?"+e+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+Ve(t)+"'"+a)}if(!e.deps)return Ur(i);o=function(){return new(i.bind.apply(i,c([void 0],Kt(e.deps))))}}return o}(e,t,n);return Hr(e)?Fr(void 0,e.useValue):Fr(r,Ir)}(e,t,n);if(qr(e)||!0!==e.multi){var i=this.records.get(r);if(i&&void 0!==i.multi)throw new Error("Mixed multi-provider for "+Ve(r))}else{var a=this.records.get(r);if(a){if(void 0===a.multi)throw new Error("Mixed multi-provider for "+r+".")}else(a=Fr(void 0,Ir,!0)).factory=function(){return Kt(a.multi)},this.records.set(r,a);r=e,a.multi.push(e)}this.records.set(r,o)},e.prototype.hydrate=function(e,t){if(t.value===Mr)throw new Error("Cannot instantiate cyclic dependency! "+Ve(e));var n;return t.value===Ir&&(t.value=Mr,t.value=t.factory()),"object"==typeof t.value&&t.value&&"object"==typeof(n=t.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value},e.prototype.injectableDefInScope=function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||"root"===e.providedIn&&this.isRootInjector:this.injectorDefTypes.has(e.providedIn))},e}();function Ur(e){var t=Te(e);if(null===t){var n=Re(e);if(null!==n)return n.factory;if(e instanceof Ce)throw new Error("Token "+Ve(e)+" is missing an ngInjectableDef definition.");if(e instanceof Function){var r=e.length;if(r>0){var o=new Array(r).fill("?");throw new Error("Can't resolve all parameters for "+Ve(e)+": ("+o.join(", ")+").")}return function(){return new e}}throw new Error("unreachable")}return t.factory}function Fr(e,t,n){return void 0===n&&(n=!1),{factory:e,value:t,multi:n?[]:void 0}}function Br(e,t){e.forEach(function(e){return Array.isArray(e)?Br(e,t):t(e)})}function Hr(e){return e&&"object"==typeof e&&Sr in e}function qr(e){return"function"==typeof e}var Vr=function(){return function(){}}(),zr=function(){return function(){}}();function Gr(e){var t=Error("No component factory found for "+Ve(e)+". Did you add it to @NgModule.entryComponents?");return t[Wr]=e,t}var Kr,Wr="ngComponent",Qr=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw Gr(e)},e}(),Jr=function(){function e(){}return e.NULL=new Qr,e}(),Zr=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var r=0;r<e.length;r++){var o=e[r];this._factories.set(o.componentType,o)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Gr(e);return new Yr(t,this._ngModule)},e}(),Yr=function(e){function t(t,n){var r=e.call(this)||this;return r.factory=t,r.ngModule=n,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return o(t,e),t.prototype.create=function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)},t}(zr),Xr=function(){return function(){}}(),$r=function(){return function(){}}(),eo=function(e){function t(t){var n=e.call(this,t,null,-1)||this;return n._view=t,n}return o(t,e),t.prototype.detectChanges=function(){or(this._view)},t.prototype.checkNoChanges=function(){!function(e){un(!0);try{or(e)}finally{un(!1)}}(this._view)},Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),t}(function(){function e(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=e}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return null==this._lView[Xe]?function e(t,n,r){for(var o=n.child;o;)r.push(St(o,t)),4===o.type&&e(t,o,r),o=o.next;return r}(this._lView,this._lView[$e],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 64==(64&this._lView[Je])},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}var t,n;Ln(n=(t=this._lView)[it])&&n.destroyNode&&function(e,n,r,o,i){for(var a=t[Qe].node,s=-1,u=t,l=a.child;l;){var c=null;if(3===l.type){Bn(2,r,null,St(l,u),i);var d=u[l.index];g=d,Array.isArray(g)&&g.length===pt&&Bn(2,r,null,d[ft],i)}else if(0===l.type){var f=u[l.index];Bn(2,r,null,f[ft],i),f[dt].length&&(c=(u=f[dt][0])[Qe].node,i=f[ft])}else if(1===l.type){var p=Ot(u),h=p[$e].projection[l.projection];Fn[++s]=l,Fn[++s]=u,h&&(c=(u=p[Ze])[Qe].data[h.index])}else c=l.child;if(null===c)for(null===l.next&&2&l.flags&&(u=Fn[s--],l=Fn[s--]),c=l.next;!c;){if(null===(l=l.parent||u[Qe].node)||l===a)return null;0===l.type&&(i=(u=u[Ze])[l.index][ft]),c=2===l.type&&u[Ye]?(u=u[Ye])[Qe].node:l.next}l=c}var g}(0,0,n),function(e){if(-1===e[Qe].childIndex)return Vn(e);for(var t=Hn(e);t;){var n=null;if(t.length>=lt?t[Qe].childIndex>-1&&(n=Hn(t)):t[dt].length&&(n=t[dt][0]),null==n){for(;t&&!t[Ye]&&t!==e;)Vn(t),t=qn(t,e);Vn(t||e),n=t&&t[Ye]}t=n}}(t),t[Je]|=64},e.prototype.onDestroy=function(e){var t,n;n=e,function(e){return e[tt]||(e[tt]=[])}(t=this._lView).push(n),t[Qe].firstTemplatePass&&function(e){return e[Qe].cleanup||(e[Qe].cleanup=[])}(t).push(t[tt].length-1,null)},e.prototype.markForCheck=function(){!function(e){for(;e&&!(128&e[Je]);)e[Je]|=8,e=e[Ze];var t,n,r;e[Je]|=8,r=0===(t=e[nt]).flags,t.flags|=1,r&&t.clean==Gn&&(t.clean=new Promise(function(e){return n=e}),t.scheduler(function(){if(1&t.flags&&(t.flags&=-2,nr(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=Gn,n(null)}))}(this._lView)},e.prototype.detach=function(){this._lView[Je]&=-17},e.prototype.reattach=function(){this._lView[Je]|=16},e.prototype.detectChanges=function(){rr(this._lView,this.context)},e.prototype.checkNoChanges=function(){!function(e){un(!0);try{!function(e){rr(function(e){var t,n=Tt(e);if(Array.isArray(n)){var r=function(e,t){var n=e[Qe].components;if(n)for(var r=0;r<n.length;r++){var o=n[r];if(Pt(o,e)[nt]===t)return o}else if(Pt(lt,e)[nt]===t)return lt;return-1}(n,e);(o=function(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}(n,r,(t=Pt(r,n))[Xe])).component=e,Rn(e,o),Rn(o.native,o)}else{var o;t=Pt((o=n).nodeIndex,o.lView)}return t}(e),e)}(e)}finally{un(!1)}}(this.context)},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e.prototype.detachFromAppRef=function(){this._appRef=null},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype._lookUpContext=function(){return this._context=this._lView[Ze][this._componentIndex]},e}()),to=function(){function e(e){this.nativeElement=e}return e.__NG_ELEMENT_ID__=function(){return no(e)},e}(),no=dr,ro=function(){return function(){}}(),oo=function(){return function(){}}(),io=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),ao=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return so()},e}(),so=dr,uo=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({}),lo=function(){return function(){}}(),co=new(function(){return function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}())("7.2.0"),fo=function(e){function t(t){var n=e.call(this)||this;return n.ngModule=t,n}return o(t,e),t.prototype.resolveComponentFactory=function(e){return new vo(e[me]||null,this.ngModule)},t}(Jr);function po(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var ho=new Ce("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return lr(zt(go))}}),go=new Ce("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return At}}),yo={},vo=function(e){function t(t,n){var r=e.call(this)||this;return r.componentDef=t,r.ngModule=n,r.componentType=t.type,r.selector=t.selectors[0][0],r.ngContentSelectors=[],r}return o(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){return po(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return po(this.componentDef.outputs)},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){var i,a,s,u,l=void 0===n,c=(r=r||this.ngModule)?function(e,t){return{get:function(n,r){var o=e.get(n,yo);return o!==yo||r===yo?o:t.get(n,r)}}}(e,r.injector):e,d=c.get(oo,Un),f=c.get(lo,null),p=l?(s=this.selector,Ln(u=d.createRenderer(null,this.componentDef)||Xt()[it])?u.createElement(s,Xn):null===Xn?u.createElement(s):u.createElementNS(Xn,s)):(i=n,a=d.createRenderer(null,null),"string"==typeof i?Ln(a)?a.selectRootElement(i):a.querySelector(i):i),h=this.componentDef.onPush?136:132,g=l?lr():c.get(ho),y=d.createRenderer(p,this.componentDef);n&&p&&(Ln(y)?y.setAttribute(p,"ng-version",co.full):p.setAttribute("ng-version",co.full));var v,_,m=Wn(null,er(-1,null,1,0,null,null,null),g,h,d,y,f,c),b=fn(m,null);try{d.begin&&d.begin();var w=sr(p,this.componentDef,m,d,y);if(_=m[Qe].data[0+lt],t)for(var E=0,S=m[Qe],P=_.projection=[],x=0;x<t.length;x++){for(var T=t[x],R=null,C=null,k=0;k<T.length;k++){S.firstTemplatePass&&(S.expandoStartIndex++,S.blueprint.splice(++E+lt,0,null),S.data.splice(E+lt,0,null),m.splice(E+lt,0,null));var A=Qn(E,3,T[k],null,null);C?C.next=A:R=A,C=A}P.push(R)}v=ur(w,this.componentDef,m,g,[cr]),function(e,t,n){var r=e[Qe],o=cn();e[14]?e[14][Ye]=n:o&&(r.childIndex=t),e[14]=n}(m,lt,w),Kn(m)}finally{pn(b),d.end&&d.end()}var O=new _o(this.componentType,v,function(e,t,n){return Kr||(Kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(to)),new Kr(St(t,n))}(0,_,m),m,_);return l&&(O.hostView._tViewNode.child=_),O},t}(zr),_o=function(e){function t(t,n,r,o,i){var a,s=e.call(this)||this;return s.location=r,s._rootLView=o,s._tNode=i,s.destroyCbs=[],s.instance=n,s.hostView=s.changeDetectorRef=new eo(o),s.hostView._tViewNode=(-1,null==(a=o)[Qe].node&&(a[Qe].node=tr(a,2,-1,null,null,null)),a[$e]=a[Qe].node),s.componentType=t,s}return o(t,e),Object.defineProperty(t.prototype,"injector",{get:function(){return new Tn(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null,this.hostView.destroy()},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(Vr),mo=!0,bo=!1;function wo(){return bo=!0,mo}var Eo=function(){function e(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var o=e.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling},e}(),So=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Po=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xo(e){return(e=String(e)).match(So)||e.match(Po)?e:(wo()&&console.warn("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function To(e){var t,n,r={};try{for(var o=u(e.split(",")),i=o.next();!i.done;i=o.next())r[i.value]=!0}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function Ro(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};try{for(var i=u(n),a=i.next();!a.done;a=i.next()){var s=a.value;for(var l in s)s.hasOwnProperty(l)&&(o[l]=!0)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return o}var Co,ko=To("area,br,col,hr,img,wbr"),Ao=To("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oo=To("rp,rt"),Io=Ro(Oo,Ao),Mo=Ro(ko,Ro(Ao,To("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ro(Oo,To("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Io),Do=To("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),No=To("srcset"),jo=Ro(Do,No,To("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Lo=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")},e.prototype.startElement=function(e){var t,n=e.nodeName.toLowerCase();if(!Mo.hasOwnProperty(n))return this.sanitizedSomething=!0,!1;this.buf.push("<"),this.buf.push(n);for(var r=e.attributes,o=0;o<r.length;o++){var i=r.item(o),a=i.name,s=a.toLowerCase();if(jo.hasOwnProperty(s)){var u=i.value;Do[s]&&(u=xo(u)),No[s]&&(t=u,u=(t=String(t)).split(",").map(function(e){return xo(e.trim())}).join(", ")),this.buf.push(" ",a,'="',Bo(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();Mo.hasOwnProperty(t)&&!ko.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(Bo(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t},e}(),Uo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fo=/([^\#-~ |!])/g;function Bo(e){return e.replace(/&/g,"&amp;").replace(Uo,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Fo,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ho(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var qo={provide:Jr,useClass:fo,deps:[Xr]},Vo=function(e){function t(t,n){var r=e.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var o=function(e,n){var r=t[Ee]||null;return r}();return r._bootstrapComponents=o.bootstrap,r._r3Injector=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),t=t||jr(),new Lr(e,n,t)}(t,n,[{provide:Xr,useValue:r},qo]),r.instance=r.get(t),r}return o(t,e),t.prototype.get=function(e,t,n){return void 0===t&&(t=vr.THROW_IF_NOT_FOUND),void 0===n&&(n=Bt.Default),e===vr||e===Xr||e===gr?this:this._r3Injector.get(e,t,n)},Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Jr)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(Xr);!function(e){function t(t){var n=e.call(this)||this;return n.moduleType=t,n}o(t,e),t.prototype.create=function(e){return new Vo(this.moduleType,e)}}($r);var zo=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return o(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,r){var o,i=function(e){return null},a=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(i=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=e.prototype.subscribe.call(this,o,i,a);return t instanceof b&&t.add(s),s},t}(F),Go=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Ko(e,to)},e}(),Ko=dr,Wo=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Qo=/^url\(([^)]+)\)$/,Jo=function(){return function(){}}();Function;var Zo=Me("Input",function(e){return{bindingPropertyName:e}},void 0,function(e){return function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=e.constructor;o.hasOwnProperty(Se)||function(e){var t=e.constructor,n=t.ngBaseDef,r=t.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(_e(r.inputs,n.inputs),_e(r.outputs,n.outputs),_e(r.declaredInputs,n.declaredInputs))}(e),(function(e){return e.inputs||{}}(o.ngBaseDef))[t]=n[0]}}()),Yo=Me("HostBinding",function(e){return{hostPropertyName:e}});String,String;var Xo="ngDebugContext",$o="ngOriginalError",ei="ngErrorLogger";function ti(e){return e[Xo]}function ni(e){return e[$o]}function ri(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,c(t))}var oi=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[ei]||ri}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?ti(e)?ti(e):this._findContext(ni(e)):null},e.prototype._findOriginalError=function(e){for(var t=ni(e);t&&ni(t);)t=ni(t);return t},e}();function ii(e){return!!e&&"function"==typeof e.then}function ai(e){return!!e&&"function"==typeof e.subscribe}var si=new Ce("Application Initializer"),ui=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();ii(o)&&t.push(o)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},e}(),li=new Ce("AppId");function ci(){return""+di()+di()+di()}function di(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var fi=new Ce("Platform Initializer"),pi=new Ce("Platform ID"),hi=new Ce("appBootstrapListener"),gi=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e}();function yi(){throw new Error("Runtime compiler is not loaded")}var vi,_i,mi=yi,bi=yi,wi=yi,Ei=yi,Si=function(){function e(){this.compileModuleSync=mi,this.compileModuleAsync=bi,this.compileModuleAndAllComponentsSync=wi,this.compileModuleAndAllComponentsAsync=Ei}return e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e.prototype.getModuleId=function(e){},e}(),Pi=function(){return function(){}}();function xi(){var e=Le.wtf;return!(!e||!(vi=e.trace)||(_i=vi.events,0))}var Ti=xi();function Ri(e,t){return null}var Ci=Ti?function(e,t){return void 0===t&&(t=null),_i.createScope(e,t)}:function(e,t){return Ri},ki=Ti?function(e,t){return vi.leaveScope(e,t),t}:function(e,t){return t},Ai=function(){function e(e){var t,n=e.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zo(!1),this.onMicrotaskEmpty=new zo(!1),this.onStable=new zo(!1),this.onError=new zo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,o,i,a){try{return Di(t),e.invokeTask(r,o,i,a)}finally{Ni(t)}},onInvoke:function(e,n,r,o,i,a,s){try{return Di(t),e.invoke(r,o,i,a,s)}finally{Ni(t)}},onHasTask:function(e,n,r,o){e.hasTask(r,o),n===r&&("microTask"==o.change?(t.hasPendingMicrotasks=o.microTask,Mi(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:function(e,n,r,o){return e.handleError(r,o),t.runOutsideAngular(function(){return t.onError.emit(o)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,r){var o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,e,Ii,Oi,Oi);try{return o.runTask(i,t,n)}finally{o.cancelTask(i)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function Oi(){}var Ii={};function Mi(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Di(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ni(e){e._nesting--,Mi(e)}var ji,Li=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zo,this.onMicrotaskEmpty=new zo,this.onStable=new zo,this.onError=new zo}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),Ui=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){t.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Ai.assertNotInAngularZone(),He(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())He(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]},e.prototype.addCallback=function(e,t,n){var r=this,o=-1;t&&t>0&&(o=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==o}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})},e.prototype.whenStable=function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e}(),Fi=function(){function e(){this._applications=new Map,Bi.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),Bi.findTestabilityInTree(this,e,t)},a([s("design:paramtypes",[])],e)}(),Bi=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),Hi=new Ce("AllowMultipleToken"),qi=function(){return function(e,t){this.name=e,this.token=t}}();function Vi(e,t,n){void 0===n&&(n=[]);var r="Platform: "+t,o=new Ce(r);return function(t){void 0===t&&(t=[]);var i=zi();if(!i||i.injector.get(Hi,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{var a=n.concat(t).concat({provide:o,useValue:!0});!function(e){if(ji&&!ji.destroyed&&!ji.injector.get(Hi,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ji=e.get(Gi);var t=e.get(fi,null);t&&t.forEach(function(e){return e()})}(vr.create({providers:a,name:r}))}return function(e){var t=zi();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(o)}}function zi(){return ji&&!ji.destroyed?ji:null}var Gi=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n,r=this,o="noop"===(n=t?t.ngZone:void 0)?new Li:("zone.js"===n?void 0:n)||new Ai({enableLongStackTrace:wo()}),i=[{provide:Ai,useValue:o}];return o.run(function(){var t=vr.create({providers:i,parent:r.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get(oi,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Qi(r._modules,n)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(e){a.handleError(e)}})}),function(e,t,o){try{var i=((a=n.injector.get(ui)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return ii(i)?i.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):i}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var a}(a,o)})},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var r=Ki({},t);return function(e,t,n){return e.get(Pi).createCompiler([t]).compileModuleAsync(n)}(this.injector,r,e).then(function(e){return n.bootstrapModuleFactory(e,r)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(Wi);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+Ve(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function Ki(e,t){return Array.isArray(t)?t.reduce(Ki,e):i({},e,t)}var Wi=function(){function e(e,t,n,r,o,i){var a=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=wo(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new M(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),u=new M(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){Ai.assertNotInAngularZone(),He(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Ai.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return H(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof M?e[0]:le(n)(re(e,r))}(s,u.pipe(function(e){return ce()((t=ye,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,he);return r.source=e,r.subjectFactory=n,r})(e));var t}))}var t;return t=e,e.prototype.bootstrap=function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof zr?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var o=n instanceof Yr?null:this._injector.get(Xr),i=n.create(vr.NULL,[],t||n.selector,o);i.onDestroy(function(){r._unloadComponent(i)});var a=i.injector.get(Ui,null);return a&&i.injector.get(Fi).registerApplication(i.location.nativeElement,a),this._loadComponent(i),wo()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},e.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,ki(n)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;Qi(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(hi,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),Qi(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=Ci("ApplicationRef#tick()"),e}();function Qi(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ji=function(){function e(){this.dirty=!0,this._results=[],this.changes=new zo,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[Be()]=function(){return this._results[Be()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,n){var r=Array.isArray(n)?e(n):n;return t.concat(r)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),Zi=function(){return function(){}}(),Yi={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Xi=function(){function e(e,t){this._compiler=e,this._config=t||Yi}return e.prototype.load=function(e){return this._compiler instanceof Si?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,r=l(e.split("#"),2),o=r[0],i=r[1];return void 0===i&&(i="default"),n("crnd")(o).then(function(e){return e[i]}).then(function(e){return $i(e,o,i)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=l(e.split("#"),2),r=t[0],o=t[1],i="NgFactory";return void 0===o&&(o="default",i=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[o+i]}).then(function(e){return $i(e,r,o)})},e}();function $i(e,t,n){if(!e)throw new Error("Cannot find '"+n+"' in '"+t+"'");return e}var ea,ta=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return na(e,to)},e}(),na=dr,ra=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return oa()},e}(),oa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},ia=(o(function(){return null!==ea&&ea.apply(this,arguments)||this},ea=ra),function(){return function(e,t){this.name=e,this.callback=t}}()),aa=function(){function e(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof sa&&t.addChild(this)}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),sa=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=t,o}return o(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n,r=this,o=this.childNodes.indexOf(e);-1!==o&&((n=this.childNodes).splice.apply(n,c([o+1,0],t)),t.forEach(function(t){t.parent&&t.parent.removeChild(t),e.parent=r}))},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return function e(t,n,r){t.childNodes.forEach(function(t){t instanceof sa&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return function e(t,n,r){t instanceof sa&&t.childNodes.forEach(function(t){n(t)&&r.push(t),t instanceof sa&&e(t,n,r)})}(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(aa),ua=new Map,la=function(e){return ua.get(e)||null};function ca(e){ua.set(e.nativeNode,e)}var da=function(){function e(){}return e.prototype.supports=function(e){return Mn(e)},e.prototype.create=function(e){return new pa(e)},e}(),fa=function(e,t){return t},pa=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fa}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,r=0,o=null;t||n;){var i=!n||t&&t.currentIndex<va(n,r,o)?t:n,a=va(i,r,o),s=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{o||(o=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var d=c<o.length?o[c]:o[c]=0,f=d+c;l<=f&&f<u&&(o[c]=d+1)}o[i.previousIndex]=l-u}}a!==s&&e(i,a,s)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!Mn(e))throw new Error("Error trying to diff '"+Ve(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,r,o,i=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)o=this._trackByFn(s,r=e[s]),null!==i&&qe(i.trackById,o)?(a&&(i=this._verifyReinsertion(i,r,o,s)),qe(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,s),a=!0),i=i._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r=e[Be()](),o=void 0;!(o=r.next()).done;)t(o.value)}(e,function(e){o=t._trackByFn(n,e),null!==i&&qe(i.trackById,o)?(a&&(i=t._verifyReinsertion(i,e,o,n)),qe(i.item,e)||t._addIdentityChange(i,e)):(i=t._mismatch(i,e,o,n),a=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,r){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(qe(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(qe(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):e=this._addAfter(new ha(t,n),o,r),e},e.prototype._verifyReinsertion=function(e,t,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ya),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ya),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),ha=function(){return function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),ga=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&qe(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),ya=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ga,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=this.map.get(e);return n?n.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function va(e,t,n){var r=e.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+t+o}var _a=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||Dn(e)},e.prototype.create=function(){return new ma},e}(),ma=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||Dn(e)))throw new Error("Error trying to diff '"+Ve(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var o=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new ba(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){qe(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),ba=function(){return function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),wa=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Ft,new Lt]]}},e.prototype.find=function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e.ngInjectableDef=xe({providedIn:"root",factory:function(){return new e([new da])}}),e}(),Ea=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Ft,new Lt]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e.ngInjectableDef=xe({providedIn:"root",factory:function(){return new e([new _a])}}),e}(),Sa=[new _a],Pa=new wa([new da]),xa=new Ea(Sa),Ta=Vi(null,"core",[{provide:pi,useValue:"unknown"},{provide:Gi,deps:[vr]},{provide:Fi,deps:[]},{provide:gi,deps:[]}]),Ra=new Ce("LocaleId");function Ca(){return Pa}function ka(){return xa}function Aa(e){return e||"en-US"}var Oa=function(){return function(e){}}();function Ia(e,t,n){var r=e.state,o=1792&r;return o===t?(e.state=-1793&r|n,e.initIndex=-1,!0):o===n}function Ma(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Da(e,t){return e.nodes[t]}function Na(e,t){return e.nodes[t]}function ja(e,t){return e.nodes[t]}function La(e,t){return e.nodes[t]}function Ua(e,t){return e.nodes[t]}var Fa={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Ba(e,t,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return Ha(n,t),n}(o,e)}function Ha(e,t){e[Xo]=t,e[ei]=t.logError.bind(t)}function qa(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}var Va=function(){},za=new Map;function Ga(e){var t=za.get(e);return t||(t=Ve(e)+"_"+za.size,za.set(e,t)),t}function Ka(e,t,n,r){if(On.isWrapped(r)){r=On.unwrap(r);var o=e.def.nodes[t].bindingIndex+n,i=On.unwrap(e.oldValues[o]);e.oldValues[o]=new On(i)}return r}var Wa="$$undefined",Qa="$$empty";function Ja(e){return{id:Wa,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var Za=0;function Ya(e,t,n,r){return!(!(2&e.state)&&qe(e.oldValues[t.bindingIndex+n],r))}function Xa(e,t,n,r){return!!Ya(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function $a(e,t,n,r){var o=e.oldValues[t.bindingIndex+n];if(1&e.state||!An(o,r)){var i=t.bindings[n].name;throw Ba(Fa.createDebugContext(e,t.nodeIndex),i+": "+o,i+": "+r,0!=(1&e.state))}}function es(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function ts(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function ns(e,t,n,r){try{return es(33554432&e.def.nodes[t].flags?Na(e,t).componentView:e),Fa.handleEvent(e,t,n,r)}catch(o){e.root.errorHandler.handleError(o)}}function rs(e){return e.parent?Na(e.parent,e.parentNodeDef.nodeIndex):null}function os(e){return e.parent?e.parentNodeDef.parent:null}function is(e,t){switch(201347067&t.flags){case 1:return Na(e,t.nodeIndex).renderElement;case 2:return Da(e,t.nodeIndex).renderText}}function as(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function ss(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function us(e){return 1<<e%32}function ls(e){var t={},n=0,r={};return e&&e.forEach(function(e){var o=l(e,2),i=o[0],a=o[1];"number"==typeof i?(t[i]=a,n|=us(i)):r[i]=a}),{matchedQueries:t,references:r,matchedQueryIds:n}}function cs(e,t){return e.map(function(e){var n,r,o;return Array.isArray(e)?(o=(n=l(e,2))[0],r=n[1]):(o=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,fr,{value:t,configurable:!0}),{flags:o,token:r,tokenKey:Ga(r)}})}function ds(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===We.Native?Na(e,n.renderParent.nodeIndex).renderElement:void 0:t}var fs=new WeakMap;function ps(e){var t=fs.get(e);return t||((t=e(function(){return Va})).factory=e,fs.set(e,t)),t}function hs(e,t,n,r,o){3===t&&(n=e.renderer.parentNode(is(e,e.def.lastRenderRootNode))),gs(e,t,0,e.def.nodes.length-1,n,r,o)}function gs(e,t,n,r,o,i,a){for(var s=n;s<=r;s++){var u=e.def.nodes[s];11&u.flags&&vs(e,u,t,o,i,a),s+=u.childCount}}function ys(e,t,n,r,o,i){for(var a=e;a&&!as(a);)a=a.parent;for(var s=a.parent,u=os(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var d=s.def.nodes[c];d.ngContentIndex===t&&vs(s,d,n,r,o,i),c+=d.childCount}if(!s.parent){var f=e.root.projectableNodes[t];if(f)for(c=0;c<f.length;c++)_s(e,f[c],n,r,o,i)}}function vs(e,t,n,r,o,i){if(8&t.flags)ys(e,t.ngContent.index,n,r,o,i);else{var a=is(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&_s(e,a,n,r,o,i),32&t.bindingFlags&&_s(Na(e,t.nodeIndex).componentView,a,n,r,o,i)):_s(e,a,n,r,o,i),16777216&t.flags)for(var s=Na(e,t.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)hs(s[u],n,r,o,i);1&t.flags&&!t.element.name&&gs(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,o,i)}}function _s(e,t,n,r,o,i){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,o);break;case 3:a.removeChild(r,t);break;case 0:i.push(t)}}var ms=/^:([^:]+):(.+)$/;function bs(e){if(":"===e[0]){var t=e.match(ms);return[t[1],t[2]]}return["",e]}function ws(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Es(e,t,n,r,o,i,a,s,u,l,c,d,f,p,h,g,y,v,_,m){switch(e){case 1:return t+Ss(n)+r;case 2:return t+Ss(n)+r+Ss(o)+i;case 3:return t+Ss(n)+r+Ss(o)+i+Ss(a)+s;case 4:return t+Ss(n)+r+Ss(o)+i+Ss(a)+s+Ss(u)+l;case 5:return t+Ss(n)+r+Ss(o)+i+Ss(a)+s+Ss(u)+l+Ss(c)+d;case 6:return t+Ss(n)+r+Ss(o)+i+Ss(a)+s+Ss(u)+l+Ss(c)+d+Ss(f)+p;case 7:return t+Ss(n)+r+Ss(o)+i+Ss(a)+s+Ss(u)+l+Ss(c)+d+Ss(f)+p+Ss(h)+g;case 8:return t+Ss(n)+r+Ss(o)+i+Ss(a)+s+Ss(u)+l+Ss(c)+d+Ss(f)+p+Ss(h)+g+Ss(y)+v;case 9:return t+Ss(n)+r+Ss(o)+i+Ss(a)+s+Ss(u)+l+Ss(c)+d+Ss(f)+p+Ss(h)+g+Ss(y)+v+Ss(_)+m;default:throw new Error("Does not support more than 9 expressions")}}function Ss(e){return null!=e?e.toString():""}function Ps(e,t,n,r,o,i){e|=1;var a=ls(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?ps(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||Va},provider:null,text:null,query:null,ngContent:null}}function xs(e,t,n,r,o,i,a,s,u,c,d,f){var p;void 0===a&&(a=[]),c||(c=Va);var h=ls(n),g=h.matchedQueries,y=h.references,v=h.matchedQueryIds,_=null,m=null;i&&(_=(p=l(bs(i),2))[0],m=p[1]),s=s||[];for(var b=new Array(s.length),w=0;w<s.length;w++){var E=l(s[w],3),S=E[0],P=E[2],x=l(bs(E[1]),2),T=x[0],R=x[1],C=void 0,k=void 0;switch(15&S){case 4:k=P;break;case 1:case 8:C=P}b[w]={flags:S,ns:T,name:R,nonMinifiedName:R,securityContext:C,suffix:k}}u=u||[];var A=new Array(u.length);for(w=0;w<u.length;w++){var O=l(u[w],2);A[w]={type:0,target:O[0],eventName:O[1],propName:null}}var I=(a=a||[]).map(function(e){var t=l(e,2),n=t[1],r=l(bs(t[0]),2);return[r[0],r[1],n]});return f=function(e){if(e&&e.id===Wa){var t=null!=e.encapsulation&&e.encapsulation!==We.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+Za++:Qa}return e&&e.id===Qa&&(e=null),e||null}(f),d&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:g,matchedQueryIds:v,references:y,ngContentIndex:r,childCount:o,bindings:b,bindingFlags:ws(b),outputs:A,element:{ns:_,name:m,attrs:I,template:null,componentProvider:null,componentView:d||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Va},provider:null,text:null,query:null,ngContent:null}}function Ts(e,t,n){var r,o=n.element,i=e.root.selectorOrNode,a=e.renderer;if(e.parent||!i){r=o.name?a.createElement(o.name,o.ns):a.createComment("");var s=ds(e,t,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(i,!!o.componentRendererType&&o.componentRendererType.encapsulation===We.ShadowDom);if(o.attrs)for(var u=0;u<o.attrs.length;u++){var c=l(o.attrs[u],3);a.setAttribute(r,c[1],c[2],c[0])}return r}function Rs(e,t,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],a=Cs(e,n.nodeIndex,(d=i.eventName,(c=i.target)?c+":"+d:d)),s=i.target,u=e;"component"===i.target&&(s=null,u=t);var l=u.renderer.listen(s||r,i.eventName,a);e.disposables[n.outputIndex+o]=l}var c,d}function Cs(e,t,n){return function(r){return ns(e,t,n,r)}}function ks(e,t,n,r){if(!Xa(e,t,n,r))return!1;var o=t.bindings[n],i=Na(e,t.nodeIndex),a=i.renderElement,s=o.name;switch(15&o.flags){case 1:!function(e,t,n,r,o,i){var a=t.securityContext,s=a?e.root.sanitizer.sanitize(a,i):i;s=null!=s?s.toString():null;var u=e.renderer;null!=i?u.setAttribute(n,o,s,r):u.removeAttribute(n,o,r)}(e,o,a,o.ns,s,r);break;case 2:!function(e,t,n,r){var o=e.renderer;r?o.addClass(t,n):o.removeClass(t,n)}(e,a,s,r);break;case 4:!function(e,t,n,r,o){var i=e.root.sanitizer.sanitize(uo.STYLE,o);if(null!=i){i=i.toString();var a=t.suffix;null!=a&&(i+=a)}else i=null;var s=e.renderer;null!=i?s.setStyle(n,r,i):s.removeStyle(n,r)}(e,o,a,s,r);break;case 8:!function(e,t,n,r,o){var i=t.securityContext,a=i?e.root.sanitizer.sanitize(i,o):o;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&o.flags?i.componentView:e,o,a,s,r)}return!0}var As=new Object,Os=Ga(vr),Is=Ga(gr),Ms=Ga(Xr);function Ds(e,t,n,r){return n=Ke(n),{index:-1,deps:cs(r,Ve(t)),flags:e,token:t,value:n}}function Ns(e,t,n){void 0===n&&(n=vr.THROW_IF_NOT_FOUND);var r,o,i=qt(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var a=t.tokenKey;switch(a){case Os:case Is:case Ms:return e}var s,u=e._def.providersByKey[a];if(u){var l=e._providers[u.index];return void 0===l&&(l=e._providers[u.index]=js(e,u)),l===As?void 0:l}if((s=Te(t.token))&&(r=e,null!=(o=s).providedIn&&(function(e,t){return e._def.modules.indexOf(o.providedIn)>-1}(r)||"root"===o.providedIn&&r._def.isRoot))){var c=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:t.token},e._providers[c]=As,e._providers[c]=js(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{qt(i)}}function js(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Ns(e,n[0]));case 2:return new t(Ns(e,n[0]),Ns(e,n[1]));case 3:return new t(Ns(e,n[0]),Ns(e,n[1]),Ns(e,n[2]));default:for(var o=new Array(r),i=0;i<r;i++)o[i]=Ns(e,n[i]);return new(t.bind.apply(t,c([void 0],o)))}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Ns(e,n[0]));case 2:return t(Ns(e,n[0]),Ns(e,n[1]));case 3:return t(Ns(e,n[0]),Ns(e,n[1]),Ns(e,n[2]));default:for(var o=Array(r),i=0;i<r;i++)o[i]=Ns(e,n[i]);return t.apply(void 0,c(o))}}(e,t.value,t.deps);break;case 2048:n=Ns(e,t.deps[0]);break;case 256:n=t.value}return n===As||null==n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?As:n}function Ls(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Hs(n,t),Fa.dirtyParentQueries(r),Fs(r),r}function Us(e,t,n){var r=t?is(t,t.def.lastRenderRootNode):e.renderElement,o=n.renderer.parentNode(r),i=n.renderer.nextSibling(r);hs(n,2,o,i,void 0)}function Fs(e){hs(e,3,null,null,void 0)}function Bs(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Hs(e,t){t>=e.length-1?e.pop():e.splice(t,1)}var qs=new Object;function Vs(e,t,n,r,o,i){return new zs(e,t,n,r,o,i)}var zs=function(e){function t(t,n,r,o,i,a){var s=e.call(this)||this;return s.selector=t,s.componentType=n,s._inputs=o,s._outputs=i,s.ngContentSelectors=a,s.viewDefFactory=r,s}return o(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var o=ps(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,a=Fa.createRootView(e,t||[],n,o,r,qs),s=ja(a,i).instance;return n&&a.renderer.setAttribute(Na(a,0).renderElement,"ng-version",co.full),new Gs(a,new Js(a),s)},t}(zr),Gs=function(e){function t(t,n,r){var o=e.call(this)||this;return o._view=t,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=r,o}return o(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new to(Na(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new $s(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(Vr);function Ks(e,t,n){return new Ws(e,t,n)}var Ws=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new to(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new $s(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=os(e),e=e.parent;return e?new $s(e,t):new $s(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Ls(this._data,e);Fa.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new Js(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r},e.prototype.createComponent=function(e,t,n,r,o){var i=n||this.parentInjector;o||e instanceof Yr||(o=i.get(Xr));var a=e.create(i,r,void 0,o);return this.insert(a.hostView,t),a},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,o,i,a=e;return i=(n=this._data).viewContainer._embeddedViews,null==(r=t)&&(r=i.length),(o=a._view).viewContainerParent=this._view,Bs(i,r,o),function(e,t){var n=rs(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,n){if(!(4&n.flags)){t.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,t.parentNodeDef)}}(n,o),Fa.dirtyParentQueries(o),Us(n,r>0?i[r-1]:null,o),a.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,o,i,a,s=this._embeddedViews.indexOf(e._view);return o=t,a=(i=(n=this._data).viewContainer._embeddedViews)[r=s],Hs(i,r),null==o&&(o=i.length),Bs(i,o,a),Fa.dirtyParentQueries(a),Fs(a),Us(n,o>0?i[o-1]:null,a),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=Ls(this._data,e);t&&Fa.destroyView(t)},e.prototype.detach=function(e){var t=Ls(this._data,e);return t?new Js(t):null},e}();function Qs(e){return new Js(e)}var Js=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return hs(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){es(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Fa.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){Fa.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Fa.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,Fs(this._view),Fa.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}();function Zs(e,t){return new Ys(e,t)}var Ys=function(e){function t(t,n){var r=e.call(this)||this;return r._parentView=t,r._def=n,r}return o(t,e),t.prototype.createEmbeddedView=function(e){return new Js(Fa.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new to(Na(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(Go);function Xs(e,t){return new $s(e,t)}var $s=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=vr.THROW_IF_NOT_FOUND),Fa.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Ga(e)},t)},e}();function eu(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Na(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Da(e,n.nodeIndex).renderText;if(20240&n.flags)return ja(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function tu(e){return new nu(e.renderer)}var nu=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=l(bs(t),2),r=this.delegate.createElement(n[1],n[0]);return e&&this.delegate.appendChild(e,r),r},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),o=0;o<t.length;o++)this.delegate.insertBefore(n,t[o],r)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var r=l(bs(t),2),o=r[0],i=r[1];null!=n?this.delegate.setAttribute(e,i,n,o):this.delegate.removeAttribute(e,i,o)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}();function ru(e,t,n,r){return new ou(e,t,n,r)}var ou=function(){function e(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var o=t.providers[r];4096&o.flags||void 0===n[r]&&(n[r]=js(e,o))}}(this)}return e.prototype.get=function(e,t,n){void 0===t&&(t=vr.THROW_IF_NOT_FOUND),void 0===n&&(n=Bt.Default);var r=0;return n&Bt.SkipSelf?r|=1:n&Bt.Self&&(r|=4),Ns(this,{token:e,tokenKey:Ga(e),flags:r},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(Jr)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Ve(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,o=0;o<n.providers.length;o++)if(131072&n.providers[o].flags){var i=e._providers[o];if(i&&i!==As){var a=i.ngOnDestroy;"function"!=typeof a||r.has(i)||(a.apply(i),r.add(i))}}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),iu=Ga(ro),au=Ga(ao),su=Ga(to),uu=Ga(ta),lu=Ga(Go),cu=Ga(ra),du=Ga(vr),fu=Ga(gr);function pu(e,t,n,r,o,i,a,s){var u=[];if(a)for(var c in a){var d=l(a[c],2);u[d[0]]={flags:8,name:c,nonMinifiedName:d[1],ns:null,securityContext:null,suffix:null}}var f=[];if(s)for(var p in s)f.push({type:1,propName:p,target:null,eventName:s[p]});return gu(e,t|=16384,n,r,o,o,i,u,f)}function hu(e,t,n){return gu(-1,e|=16,null,0,t,t,n)}function gu(e,t,n,r,o,i,a,s,u){var l=ls(n),c=l.matchedQueries,d=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),i=Ke(i);var p=cs(a,Ve(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:d,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:ws(s),outputs:u,element:null,provider:{token:o,value:i,deps:p},text:null,query:null,ngContent:null}}function yu(e,t){return bu(e,t)}function vu(e,t){for(var n=e;n.parent&&!as(n);)n=n.parent;return wu(n.parent,os(n),!0,t.provider.value,t.provider.deps)}function _u(e,t){var n=wu(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var o=t.outputs[r],i=n[o.propName];if(!ai(i))throw new Error("@Output "+o.propName+" not initialized in '"+n.constructor.name+"'.");var a=i.subscribe(mu(e,t.parent.nodeIndex,o.eventName));e.disposables[t.outputIndex+r]=a.unsubscribe.bind(a)}return n}function mu(e,t,n){return function(r){return ns(e,t,n,r)}}function bu(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return wu(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,o){var i=o.length;switch(i){case 0:return r();case 1:return r(Su(e,t,n,o[0]));case 2:return r(Su(e,t,n,o[0]),Su(e,t,n,o[1]));case 3:return r(Su(e,t,n,o[0]),Su(e,t,n,o[1]),Su(e,t,n,o[2]));default:for(var a=Array(i),s=0;s<i;s++)a[s]=Su(e,t,n,o[s]);return r.apply(void 0,c(a))}}(e,t.parent,n,r.value,r.deps);case 2048:return Su(e,t.parent,n,r.deps[0]);case 256:return r.value}}function wu(e,t,n,r,o){var i=o.length;switch(i){case 0:return new r;case 1:return new r(Su(e,t,n,o[0]));case 2:return new r(Su(e,t,n,o[0]),Su(e,t,n,o[1]));case 3:return new r(Su(e,t,n,o[0]),Su(e,t,n,o[1]),Su(e,t,n,o[2]));default:for(var a=new Array(i),s=0;s<i;s++)a[s]=Su(e,t,n,o[s]);return new(r.bind.apply(r,c([void 0],a)))}}var Eu={};function Su(e,t,n,r,o){if(void 0===o&&(o=vr.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=e;2&r.flags&&(o=null);var a=r.tokenKey;a===cu&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var s=e;s;){if(t)switch(a){case iu:return tu(Pu(s,t,n));case au:return Pu(s,t,n).renderer;case su:return new to(Na(s,t.nodeIndex).renderElement);case uu:return Na(s,t.nodeIndex).viewContainer;case lu:if(t.element.template)return Na(s,t.nodeIndex).template;break;case cu:return Qs(Pu(s,t,n));case du:case fu:return Xs(s,t);default:var u=(n?t.element.allProviders:t.element.publicProviders)[a];if(u){var l=ja(s,u.nodeIndex);return l||(l={instance:bu(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=as(s),t=os(s),s=s.parent,4&r.flags&&(s=null)}var c=i.root.injector.get(r.token,Eu);return c!==Eu||o===Eu?c:i.root.ngModule.injector.get(r.token,o)}function Pu(e,t,n){var r;if(n)r=Na(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!as(r);)r=r.parent;return r}function xu(e,t,n,r,o,i){if(32768&n.flags){var a=Na(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=o,524288&n.flags){i=i||{};var s=On.unwrap(e.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new In(s,o,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=o,i}function Tu(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,o=0;o<n.length;o++){var i=n[o],a=i.parent;for(!a&&i.flags&t&&Cu(e,o,i.flags&t,r++),0==(i.childFlags&t)&&(o+=i.childCount);a&&1&a.flags&&o===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=Ru(e,a,t,r)),a=a.parent}}function Ru(e,t,n,r){for(var o=t.nodeIndex+1;o<=t.nodeIndex+t.childCount;o++){var i=e.def.nodes[o];i.flags&n&&Cu(e,o,i.flags&n,r++),o+=i.childCount}return r}function Cu(e,t,n,r){var o=ja(e,t);if(o){var i=o.instance;i&&(Fa.setCurrentNode(e,t),1048576&n&&Ma(e,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&Ma(e,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function ku(e,t,n){var r=[];for(var o in n)r.push({propName:o,bindingType:n[o]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:us(t),bindings:r},ngContent:null}}function Au(e){for(var t=e.def.nodeMatchedQueries;e.parent&&ss(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++)67108864&(i=e.def.nodes[o]).flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&Ua(e,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}if(134217728&e.def.nodeFlags)for(o=0;o<e.def.nodes.length;o++){var i;134217728&(i=e.def.nodes[o]).flags&&536870912&i.flags&&Ua(e,o).setDirty(),o+=i.childCount}}function Ou(e,t){var n=Ua(e,t.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&t.flags){var i=t.parent.parent;o=Iu(e,i.nodeIndex,i.nodeIndex+i.childCount,t.query,[]),r=ja(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(o=Iu(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(o);for(var a=t.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function Iu(e,t,n,r,o){for(var i=t;i<=n;i++){var a=e.def.nodes[i],s=a.matchedQueries[r.id];if(null!=s&&o.push(Mu(e,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Na(e,i);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Iu(e,i+1,i+a.childCount,r,o),i+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var d=l[c],f=rs(d);f&&f===u&&Iu(d,0,d.def.nodes.length-1,r,o)}var p=u.template._projectedViews;if(p)for(c=0;c<p.length;c++){var h=p[c];Iu(h,0,h.def.nodes.length-1,r,o)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(i+=a.childCount)}return o}function Mu(e,t,n){if(null!=n)switch(n){case 1:return Na(e,t.nodeIndex).renderElement;case 0:return new to(Na(e,t.nodeIndex).renderElement);case 2:return Na(e,t.nodeIndex).template;case 3:return Na(e,t.nodeIndex).viewContainer;case 4:return ja(e,t.nodeIndex).instance}}function Du(e,t,n){var r=ds(e,t,n);r&&ys(e,n.ngContent.index,1,r,null,void 0)}function Nu(e,t){return Lu(128,e,new Array(t+1))}function ju(e,t){for(var n=Object.keys(t),r=n.length,o=new Array(r),i=0;i<r;i++){var a=n[i];o[t[a]]=a}return Lu(64,e,o)}function Lu(e,t,n){for(var r=new Array(n.length),o=0;o<n.length;o++){var i=n[o];r[o]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ws(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Uu(e,t,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Fu(e,t,n){var r,o=e.renderer;r=o.createText(n.text.prefix);var i=ds(e,t,n);return i&&o.appendChild(i,r),{renderText:r}}function Bu(e,t){return(null!=e?e.toString():"")+t.suffix}function Hu(e,t,n,r){for(var o=0,i=0,a=0,s=0,u=0,l=null,c=null,d=!1,f=!1,p=null,h=0;h<t.length;h++){var g=t[h];if(g.nodeIndex=h,g.parent=l,g.bindingIndex=o,g.outputIndex=i,g.renderParent=c,a|=g.flags,u|=g.matchedQueryIds,g.element){var y=g.element;y.publicProviders=l?l.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,d=!1,f=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if(Vu(l,g,t.length),o+=g.bindings.length,i+=g.outputs.length,!c&&3&g.flags&&(p=g),20224&g.flags){d||(d=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var v=0!=(32768&g.flags);0==(8192&g.flags)||v?l.element.publicProviders[Ga(g.provider.token)]=g:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Ga(g.provider.token)]=g),v&&(l.element.componentProvider=g)}if(l?(l.childFlags|=g.flags,l.directChildFlags|=g.flags,l.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(l.childMatchedQueries|=g.element.template.nodeMatchedQueries)):s|=g.flags,g.childCount>0)l=g,qu(g)||(c=g);else for(;l&&h===l.nodeIndex+l.childCount;){var _=l.parent;_&&(_.childFlags|=l.childFlags,_.childMatchedQueries|=l.childMatchedQueries),c=(l=_)&&qu(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Va,updateRenderer:r||Va,handleEvent:function(e,n,r,o){return t[n].element.handleEvent(e,r,o)},bindingCount:o,outputCount:i,lastRenderRootNode:p}}function qu(e){return 0!=(1&e.flags)&&null===e.element.name}function Vu(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var o=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=o&&t.nodeIndex+t.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function zu(e,t,n,r){var o=Wu(e.root,e.renderer,e,t,n);return Qu(o,e.component,r),Ju(o),o}function Gu(e,t,n){var r=Wu(e,e.renderer,null,null,t);return Qu(r,n,n),Ju(r),r}function Ku(e,t,n,r){var o,i=t.element.componentRendererType;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,Wu(e.root,o,e,t.element.componentProvider,n)}function Wu(e,t,n,r,o){var i=new Array(o.nodes.length),a=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(o.bindingCount),disposables:a,initIndex:-1}}function Qu(e,t,n){e.component=t,e.context=n}function Ju(e){var t;as(e)&&(t=Na(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,o=0;o<n.nodes.length;o++){var i=n.nodes[o];Fa.setCurrentNode(e,o);var a=void 0;switch(201347067&i.flags){case 1:var s=Ts(e,t,i),u=void 0;if(33554432&i.flags){var l=ps(i.element.componentView);u=Fa.createComponentView(e,i,l,s)}Rs(e,u,i,s),a={renderElement:s,componentView:u,viewContainer:null,template:i.element.template?Zs(e,i):void 0},16777216&i.flags&&(a.viewContainer=Ks(e,i,a));break;case 2:a=Fu(e,t,i);break;case 512:case 1024:case 2048:case 256:(a=r[o])||4096&i.flags||(a={instance:yu(e,i)});break;case 16:a={instance:vu(e,i)};break;case 16384:(a=r[o])||(a={instance:_u(e,i)}),32768&i.flags&&Qu(Na(e,i.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Ji;break;case 8:Du(e,t,i),a=void 0}r[o]=a}ol(e,rl.CreateViewNodes),ul(e,201326592,268435456,0)}function Zu(e){$u(e),Fa.updateDirectives(e,1),il(e,rl.CheckNoChanges),Fa.updateRenderer(e,1),ol(e,rl.CheckNoChanges),e.state&=-97}function Yu(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Ia(e,0,256),$u(e),Fa.updateDirectives(e,0),il(e,rl.CheckAndUpdate),ul(e,67108864,536870912,0);var t=Ia(e,256,512);Tu(e,2097152|(t?1048576:0)),Fa.updateRenderer(e,0),ol(e,rl.CheckAndUpdate),ul(e,134217728,536870912,0),Tu(e,8388608|((t=Ia(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Ia(e,768,1024)}function Xu(e,t,n,r,o,i,a,s,u,l,d,f,p){return 0===n?function(e,t,n,r,o,i,a,s,u,l,c,d){switch(201347067&t.flags){case 1:return function(e,t,n,r,o,i,a,s,u,l,c,d){var f=t.bindings.length,p=!1;return f>0&&ks(e,t,0,n)&&(p=!0),f>1&&ks(e,t,1,r)&&(p=!0),f>2&&ks(e,t,2,o)&&(p=!0),f>3&&ks(e,t,3,i)&&(p=!0),f>4&&ks(e,t,4,a)&&(p=!0),f>5&&ks(e,t,5,s)&&(p=!0),f>6&&ks(e,t,6,u)&&(p=!0),f>7&&ks(e,t,7,l)&&(p=!0),f>8&&ks(e,t,8,c)&&(p=!0),f>9&&ks(e,t,9,d)&&(p=!0),p}(e,t,n,r,o,i,a,s,u,l,c,d);case 2:return function(e,t,n,r,o,i,a,s,u,l,c,d){var f=!1,p=t.bindings,h=p.length;if(h>0&&Xa(e,t,0,n)&&(f=!0),h>1&&Xa(e,t,1,r)&&(f=!0),h>2&&Xa(e,t,2,o)&&(f=!0),h>3&&Xa(e,t,3,i)&&(f=!0),h>4&&Xa(e,t,4,a)&&(f=!0),h>5&&Xa(e,t,5,s)&&(f=!0),h>6&&Xa(e,t,6,u)&&(f=!0),h>7&&Xa(e,t,7,l)&&(f=!0),h>8&&Xa(e,t,8,c)&&(f=!0),h>9&&Xa(e,t,9,d)&&(f=!0),f){var g=t.text.prefix;h>0&&(g+=Bu(n,p[0])),h>1&&(g+=Bu(r,p[1])),h>2&&(g+=Bu(o,p[2])),h>3&&(g+=Bu(i,p[3])),h>4&&(g+=Bu(a,p[4])),h>5&&(g+=Bu(s,p[5])),h>6&&(g+=Bu(u,p[6])),h>7&&(g+=Bu(l,p[7])),h>8&&(g+=Bu(c,p[8])),h>9&&(g+=Bu(d,p[9]));var y=Da(e,t.nodeIndex).renderText;e.renderer.setValue(y,g)}return f}(e,t,n,r,o,i,a,s,u,l,c,d);case 16384:return function(e,t,n,r,o,i,a,s,u,l,c,d){var f=ja(e,t.nodeIndex),p=f.instance,h=!1,g=void 0,y=t.bindings.length;return y>0&&Ya(e,t,0,n)&&(h=!0,g=xu(e,f,t,0,n,g)),y>1&&Ya(e,t,1,r)&&(h=!0,g=xu(e,f,t,1,r,g)),y>2&&Ya(e,t,2,o)&&(h=!0,g=xu(e,f,t,2,o,g)),y>3&&Ya(e,t,3,i)&&(h=!0,g=xu(e,f,t,3,i,g)),y>4&&Ya(e,t,4,a)&&(h=!0,g=xu(e,f,t,4,a,g)),y>5&&Ya(e,t,5,s)&&(h=!0,g=xu(e,f,t,5,s,g)),y>6&&Ya(e,t,6,u)&&(h=!0,g=xu(e,f,t,6,u,g)),y>7&&Ya(e,t,7,l)&&(h=!0,g=xu(e,f,t,7,l,g)),y>8&&Ya(e,t,8,c)&&(h=!0,g=xu(e,f,t,8,c,g)),y>9&&Ya(e,t,9,d)&&(h=!0,g=xu(e,f,t,9,d,g)),g&&p.ngOnChanges(g),65536&t.flags&&Ma(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),h}(e,t,n,r,o,i,a,s,u,l,c,d);case 32:case 64:case 128:return function(e,t,n,r,o,i,a,s,u,l,c,d){var f=t.bindings,p=!1,h=f.length;if(h>0&&Xa(e,t,0,n)&&(p=!0),h>1&&Xa(e,t,1,r)&&(p=!0),h>2&&Xa(e,t,2,o)&&(p=!0),h>3&&Xa(e,t,3,i)&&(p=!0),h>4&&Xa(e,t,4,a)&&(p=!0),h>5&&Xa(e,t,5,s)&&(p=!0),h>6&&Xa(e,t,6,u)&&(p=!0),h>7&&Xa(e,t,7,l)&&(p=!0),h>8&&Xa(e,t,8,c)&&(p=!0),h>9&&Xa(e,t,9,d)&&(p=!0),p){var g=La(e,t.nodeIndex),y=void 0;switch(201347067&t.flags){case 32:y=new Array(f.length),h>0&&(y[0]=n),h>1&&(y[1]=r),h>2&&(y[2]=o),h>3&&(y[3]=i),h>4&&(y[4]=a),h>5&&(y[5]=s),h>6&&(y[6]=u),h>7&&(y[7]=l),h>8&&(y[8]=c),h>9&&(y[9]=d);break;case 64:y={},h>0&&(y[f[0].name]=n),h>1&&(y[f[1].name]=r),h>2&&(y[f[2].name]=o),h>3&&(y[f[3].name]=i),h>4&&(y[f[4].name]=a),h>5&&(y[f[5].name]=s),h>6&&(y[f[6].name]=u),h>7&&(y[f[7].name]=l),h>8&&(y[f[8].name]=c),h>9&&(y[f[9].name]=d);break;case 128:var v=n;switch(h){case 1:y=v.transform(n);break;case 2:y=v.transform(r);break;case 3:y=v.transform(r,o);break;case 4:y=v.transform(r,o,i);break;case 5:y=v.transform(r,o,i,a);break;case 6:y=v.transform(r,o,i,a,s);break;case 7:y=v.transform(r,o,i,a,s,u);break;case 8:y=v.transform(r,o,i,a,s,u,l);break;case 9:y=v.transform(r,o,i,a,s,u,l,c);break;case 10:y=v.transform(r,o,i,a,s,u,l,c,d)}}g.value=y}return p}(e,t,n,r,o,i,a,s,u,l,c,d);default:throw"unreachable"}}(e,t,r,o,i,a,s,u,l,d,f,p):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,o=0;o<n.length;o++)ks(e,t,o,n[o])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,o=!1,i=0;i<n.length;i++)Xa(e,t,i,n[i])&&(o=!0);if(o){var a="";for(i=0;i<n.length;i++)a+=Bu(n[i],r[i]);a=t.text.prefix+a;var s=Da(e,t.nodeIndex).renderText;e.renderer.setValue(s,a)}return o}(e,t,n);case 16384:return function(e,t,n){for(var r=ja(e,t.nodeIndex),o=r.instance,i=!1,a=void 0,s=0;s<n.length;s++)Ya(e,t,s,n[s])&&(i=!0,a=xu(e,r,t,s,n[s],a));return a&&o.ngOnChanges(a),65536&t.flags&&Ma(e,256,t.nodeIndex)&&o.ngOnInit(),262144&t.flags&&o.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,o=!1,i=0;i<n.length;i++)Xa(e,t,i,n[i])&&(o=!0);if(o){var a=La(e,t.nodeIndex),s=void 0;switch(201347067&t.flags){case 32:s=n;break;case 64:for(s={},i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:var u=n[0],l=n.slice(1);s=u.transform.apply(u,c(l))}a.value=s}return o}(e,t,n);default:throw"unreachable"}}(e,t,r)}function $u(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var o=Na(e,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var a=o[i];a.state|=32,ts(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function el(e,t,n,r,o,i,a,s,u,l,c,d,f){return 0===n?function(e,t,n,r,o,i,a,s,u,l,c,d){var f=t.bindings.length;f>0&&$a(e,t,0,n),f>1&&$a(e,t,1,r),f>2&&$a(e,t,2,o),f>3&&$a(e,t,3,i),f>4&&$a(e,t,4,a),f>5&&$a(e,t,5,s),f>6&&$a(e,t,6,u),f>7&&$a(e,t,7,l),f>8&&$a(e,t,8,c),f>9&&$a(e,t,9,d)}(e,t,r,o,i,a,s,u,l,c,d,f):function(e,t,n){for(var r=0;r<n.length;r++)$a(e,t,r,n[r])}(e,t,r),!1}function tl(e,t){if(Ua(e,t.nodeIndex).dirty)throw Ba(Fa.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function nl(e){if(!(128&e.state)){if(il(e,rl.Destroy),ol(e,rl.Destroy),Tu(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=rs(e);if(t){var n=t.template._projectedViews;n&&(Hs(n,n.indexOf(e)),Fa.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Na(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Da(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&Ua(e,n).destroy()}}(e),as(e)&&e.renderer.destroy(),e.state|=128}}var rl=function(e){return e[e.CreateViewNodes=0]="CreateViewNodes",e[e.CheckNoChanges=1]="CheckNoChanges",e[e.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate=3]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",e[e.Destroy=5]="Destroy",e}({});function ol(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?al(Na(e,r).componentView,t):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function il(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=Na(e,r).viewContainer._embeddedViews,a=0;a<i.length;a++)al(i[a],t);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function al(e,t){var n=e.state;switch(t){case rl.CheckNoChanges:0==(128&n)&&(12==(12&n)?Zu(e):64&n&&sl(e,rl.CheckNoChangesProjectedViews));break;case rl.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Zu(e):64&n&&sl(e,t));break;case rl.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Yu(e):64&n&&sl(e,rl.CheckAndUpdateProjectedViews));break;case rl.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Yu(e):64&n&&sl(e,t));break;case rl.Destroy:nl(e);break;case rl.CreateViewNodes:Ju(e)}}function sl(e,t){il(e,t),ol(e,t)}function ul(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var o=e.def.nodes.length,i=0;i<o;i++){var a=e.def.nodes[i];if(a.flags&t&&a.flags&n)switch(Fa.setCurrentNode(e,a.nodeIndex),r){case 0:Ou(e,a);break;case 1:tl(e,a)}a.childFlags&t&&a.childFlags&n||(i+=a.childCount)}}var ll=!1;function cl(e,t,n,r,o,i){var a=o.injector.get(oo);return Gu(fl(e,o,a,t,n),r,i)}function dl(e,t,n,r,o,i){var a=o.injector.get(oo),s=fl(e,o,new zl(a),t,n),u=El(r);return ql(Ol.create,Gu,null,[s,u,i])}function fl(e,t,n,r,o){var i=t.injector.get(lo),a=t.injector.get(oi),s=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:s,errorHandler:a}}function pl(e,t,n,r){var o=El(n);return ql(Ol.create,zu,null,[e,t,o,r])}function hl(e,t,n,r){return n=_l.get(t.element.componentProvider.provider.token)||El(n),ql(Ol.create,Ku,null,[e,t,n,r])}function gl(e,t,n,r){return ru(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===yl.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(function(e){var r=yl.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(function(e){vl.forEach(function(r,o){Te(o).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var r=e.providers[t];n&&(r.flags|=4096);var o=yl.get(r.token);o&&(r.flags=-3841&r.flags|o.flags,r.deps=cs(o.deps),r.value=o.value)}if(vl.size>0){var i=new Set(e.modules);vl.forEach(function(t,r){if(i.has(Te(r).providedIn)){var o={token:r,flags:t.flags|(n?4096:0),deps:cs(t.deps),value:t.value,index:e.providers.length};e.providers.push(o),e.providersByKey[Ga(r)]=o}})}}(e=e.factory(function(){return Va})),e):e}(r))}var yl=new Map,vl=new Map,_l=new Map;function ml(e){var t;yl.set(e.token,e),"function"==typeof e.token&&(t=Te(e.token))&&"function"==typeof t.providedIn&&vl.set(e.token,e)}function bl(e,t){var n=ps(t.viewDefFactory),r=ps(n.nodes[0].element.componentView);_l.set(e,r)}function wl(){yl.clear(),vl.clear(),_l.clear()}function El(e){if(0===yl.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var o=e.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&yl.has(o.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return Va});for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=yl.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=cs(i.deps),o.value=i.value)}}}}function Sl(e,t,n,r,o,i,a,s,u,l,c,d,f){var p=e.def.nodes[t];return Xu(e,p,n,r,o,i,a,s,u,l,c,d,f),224&p.flags?La(e,t).value:void 0}function Pl(e,t,n,r,o,i,a,s,u,l,c,d,f){var p=e.def.nodes[t];return el(e,p,n,r,o,i,a,s,u,l,c,d,f),224&p.flags?La(e,t).value:void 0}function xl(e){return ql(Ol.detectChanges,Yu,null,[e])}function Tl(e){return ql(Ol.checkNoChanges,Zu,null,[e])}function Rl(e){return ql(Ol.destroy,nl,null,[e])}var Cl,kl,Al,Ol=function(e){return e[e.create=0]="create",e[e.detectChanges=1]="detectChanges",e[e.checkNoChanges=2]="checkNoChanges",e[e.destroy=3]="destroy",e[e.handleEvent=4]="handleEvent",e}({});function Il(e,t){kl=e,Al=t}function Ml(e,t,n,r){return Il(e,t),ql(Ol.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Dl(e,t){if(128&e.state)throw qa(Ol[Cl]);return Il(e,Ul(e,0)),e.def.updateDirectives(function(e,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=e.def.nodes[n];return 0===t?jl(e,a,r,o):Ll(e,a,r,o),16384&a.flags&&Il(e,Ul(e,n)),224&a.flags?La(e,a.nodeIndex).value:void 0},e)}function Nl(e,t){if(128&e.state)throw qa(Ol[Cl]);return Il(e,Fl(e,0)),e.def.updateRenderer(function(e,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=e.def.nodes[n];return 0===t?jl(e,a,r,o):Ll(e,a,r,o),3&a.flags&&Il(e,Fl(e,n)),224&a.flags?La(e,a.nodeIndex).value:void 0},e)}function jl(e,t,n,r){if(Xu.apply(void 0,c([e,t,n],r))){var o=1===n?r[0]:r;if(16384&t.flags){for(var i={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],u=o[a];8&s.flags&&(i[(p=s.nonMinifiedName,"ng-reflect-"+p.replace(/[$@]/g,"_").replace(Cn,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()}))]=kn(u))}var l=t.parent,d=Na(e,l.nodeIndex).renderElement;if(l.element.name)for(var f in i)null!=(u=i[f])?e.renderer.setAttribute(d,f,u):e.renderer.removeAttribute(d,f);else e.renderer.setValue(d,"bindings="+JSON.stringify(i,null,2))}}var p}function Ll(e,t,n,r){el.apply(void 0,c([e,t,n],r))}function Ul(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Fl(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Bl=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,r=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=os(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return Na(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return Xs(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){Hl(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Hl(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=function(e){for(;e&&!as(e);)e=e.parent;return e.parent?Na(e.parent,os(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?is(this.view,this.nodeDef):is(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];2&this.nodeDef.flags?(t=this.view.def,n=this.nodeDef.nodeIndex):(t=this.elView.def,n=this.elDef.nodeIndex);var i=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(t,n),a=-1;t.factory(function(){var t;return++a===i?(t=e.error).bind.apply(t,c([e],r)):Va}),a<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,c(r)))},e}();function Hl(e,t,n){for(var r in t.references)n[r]=Mu(e,t,t.references[r])}function ql(e,t,n,r){var o=Cl,i=kl,a=Al;try{Cl=e;var s=t.apply(n,r);return kl=i,Al=a,Cl=o,s}catch(u){if(ti(u)||!kl)throw u;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Ha(e,t),e}(u,Vl())}}function Vl(){return kl?new Bl(kl,Al):null}var zl=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new Gl(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),Gl=function(){function e(e){this.delegate=e,this.debugContextFactory=Vl,this.data=this.delegate.data}return e.prototype.createDebugContext=function(e){return this.debugContextFactory(e)},e.prototype.destroyNode=function(e){!function(e){ua.delete(e.nativeNode)}(la(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var o=new sa(n,null,r);o.name=e,ca(o)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&ca(new aa(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&ca(new aa(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=la(e),r=la(t);n&&r&&n instanceof sa&&n.addChild(r),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var r=la(e),o=la(t),i=la(n);r&&o&&r instanceof sa&&r.insertBefore(i,o),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=la(e),r=la(t);n&&r&&n instanceof sa&&n.removeChild(r),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e,t){var n=this.delegate.selectRootElement(e,t),r=Vl();return r&&ca(new sa(n,null,r)),n},e.prototype.setAttribute=function(e,t,n,r){var o=la(e);o&&o instanceof sa&&(o.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)},e.prototype.removeAttribute=function(e,t,n){var r=la(e);r&&r instanceof sa&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=la(e);n&&n instanceof sa&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=la(e);n&&n instanceof sa&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,r){var o=la(e);o&&o instanceof sa&&(o.styles[t]=n),this.delegate.setStyle(e,t,n,r)},e.prototype.removeStyle=function(e,t,n){var r=la(e);r&&r instanceof sa&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var r=la(e);r&&r instanceof sa&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if("string"!=typeof e){var r=la(e);r&&r.listeners.push(new ia(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}();function Kl(e,t,n){return new Wl(e,t,n)}var Wl=function(e){function t(t,n,r){var o=e.call(this)||this;return o.moduleType=t,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return o(t,e),t.prototype.create=function(e){!function(){if(!ll){ll=!0;var e=wo()?{setCurrentNode:Il,createRootView:dl,createEmbeddedView:pl,createComponentView:hl,createNgModuleRef:gl,overrideProvider:ml,overrideComponentView:bl,clearOverrides:wl,checkAndUpdateView:xl,checkNoChangesView:Tl,destroyView:Rl,createDebugContext:function(e,t){return new Bl(e,t)},handleEvent:Ml,updateDirectives:Dl,updateRenderer:Nl}:{setCurrentNode:function(){},createRootView:cl,createEmbeddedView:zu,createComponentView:Ku,createNgModuleRef:ru,overrideProvider:Va,overrideComponentView:Va,clearOverrides:Va,checkAndUpdateView:Yu,checkNoChangesView:Zu,destroyView:nl,createDebugContext:function(e,t){return new Bl(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Sl:Pl,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Sl:Pl,e)}};Fa.setCurrentNode=e.setCurrentNode,Fa.createRootView=e.createRootView,Fa.createEmbeddedView=e.createEmbeddedView,Fa.createComponentView=e.createComponentView,Fa.createNgModuleRef=e.createNgModuleRef,Fa.overrideProvider=e.overrideProvider,Fa.overrideComponentView=e.overrideComponentView,Fa.clearOverrides=e.clearOverrides,Fa.checkAndUpdateView=e.checkAndUpdateView,Fa.checkNoChangesView=e.checkNoChangesView,Fa.destroyView=e.destroyView,Fa.resolveDep=Su,Fa.createDebugContext=e.createDebugContext,Fa.handleEvent=e.handleEvent,Fa.updateDirectives=e.updateDirectives,Fa.updateRenderer=e.updateRenderer,Fa.dirtyParentQueries=Au}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var o in e.providersByKey)r[o]=e.providersByKey[o];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(ps(this._ngModuleDefFactory));return Fa.createNgModuleRef(this.moduleType,e||vr.NULL,this._bootstrapComponents,t)},t}($r),Ql=function(){return function(){}}(),Jl=function(){return function(){}}(),Zl=new M(function(e){return e.complete()});function Yl(e){return e?function(e){return new M(function(t){return e.schedule(function(){return t.complete()})})}(e):Zl}function Xl(e){var t=new M(function(t){t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function $l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];switch(H(n)?e.pop():n=void 0,e.length){case 0:return Yl(n);case 1:return n?re(e,n):Xl(e[0]);default:return re(e,n)}}var ec=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new j;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(F);function tc(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}tc.prototype=Object.create(Error.prototype);var nc=tc,rc={},oc=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ic(e,this.resultSelector))},e}(),ic=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return o(t,e),t.prototype._next=function(e){this.values.push(rc),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(X(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,o){var i=this.values,a=this.toRespond?i[n]===rc?--this.toRespond:this.toRespond:0;i[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}($);function ac(e){return new M(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?oe(n):Yl()).subscribe(t)})}function sc(){return le(1)}function uc(e,t){return function(n){return n.lift(new lc(e,t))}}var lc=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new cc(e,this.predicate,this.thisArg))},e}(),cc=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return o(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(R);function dc(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}dc.prototype=Object.create(Error.prototype);var fc=dc;function pc(e){return function(t){return 0===e?Yl():t.lift(new hc(e))}}var hc=function(){function e(e){if(this.total=e,this.total<0)throw new fc}return e.prototype.call=function(e,t){return t.subscribe(new gc(e,this.total))},e}(),gc=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return o(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=t++%n;e.next(r[i])}e.complete()},t}(R);function yc(e,t,n){return function(r){return r.lift(new vc(e,t,n))}}var vc=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new _c(e,this.nextOrObserver,this.error,this.complete))},e}(),_c=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._tapNext=A,i._tapError=A,i._tapComplete=A,i._tapError=r||A,i._tapComplete=o||A,p(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||A,i._tapError=n.error||A,i._tapComplete=n.complete||A),i}return o(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(R),mc=function(e){return void 0===e&&(e=bc),yc({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function bc(){return new nc}function wc(e){return void 0===e&&(e=null),function(t){return t.lift(new Ec(e))}}var Ec=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new Sc(e,this.defaultValue))},e}(),Sc=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return o(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(R);function Pc(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?uc(function(t,n){return e(t,n,r)}):ue,pc(1),n?wc(t):mc(function(){return new nc}))}}function xc(e){return function(t){var n=new Tc(e),r=t.lift(n);return n.caught=r}}var Tc=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new Rc(e,this.selector,this.caught))},e}(),Rc=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.selector=n,o.caught=r,o}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(o){return void e.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var r=new q(this,void 0,void 0);this.add(r),X(this,n,void 0,void 0,r)}},t}($);function Cc(e){return function(t){return 0===e?Yl():t.lift(new kc(e))}}var kc=function(){function e(e){if(this.total=e,this.total<0)throw new fc}return e.prototype.call=function(e,t){return t.subscribe(new Ac(e,this.total))},e}(),Ac=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return o(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(R);function Oc(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?uc(function(t,n){return e(t,n,r)}):ue,Cc(1),n?wc(t):mc(function(){return new nc}))}}var Ic=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Mc(e,this.predicate,this.thisArg,this.source))},e}(),Mc=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return o(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(R);function Dc(e,t){return"function"==typeof t?function(n){return n.pipe(Dc(function(n,r){return oe(e(n,r)).pipe(ee(function(e,o){return t(n,e,r,o)}))}))}:function(t){return t.lift(new Nc(e))}}var Nc=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new jc(e,this.project))},e}(),jc=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return o(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new q(this,void 0,void 0);this.destination.add(o),this.innerSubscription=X(this,e,t,n,o)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t}($);function Lc(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Uc(e,t,n))}}var Uc=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new Fc(e,this.accumulator,this.seed,this.hasSeed))},e}(),Fc=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return o(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(R);function Bc(e,t){return ie(e,t,1)}var Hc=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new qc(e,this.callback))},e}(),qc=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new b(n)),r}return o(t,e),t}(R),Vc=function(){return function(){}}(),zc=new Ce("Location Initialized"),Gc=function(){return function(){}}(),Kc=new Ce("appBaseHref"),Wc=function(){function e(e){var n=this;this._subject=new zo,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(Qc(r)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})})}var t;return t=e,e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},e.prototype.normalize=function(e){return t.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Qc(e)))},e.prototype.prepareExternalUrl=function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",e,t)},e.prototype.replaceState=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})},e.normalizeQueryParams=function(e){return e&&"?"!==e[0]?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)},e}();function Qc(e){return e.replace(/\/index.html$/,"")}var Jc=function(e){function t(t,n){var r=e.call(this)||this;return r._platformLocation=t,r._baseHref="",null!=n&&(r._baseHref=n),r}return o(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=Wc.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},t.prototype.pushState=function(e,t,n,r){var o=this.prepareExternalUrl(n+Wc.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,t,o)},t.prototype.replaceState=function(e,t,n,r){var o=this.prepareExternalUrl(n+Wc.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,o)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(Gc),Zc=function(e){function t(t,n){var r=e.call(this)||this;if(r._platformLocation=t,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return o(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return Wc.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+Wc.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?""+t+n:t},t.prototype.pushState=function(e,t,n,r){var o=this.prepareExternalUrl(n+Wc.normalizeQueryParams(r));this._platformLocation.pushState(e,t,o)},t.prototype.replaceState=function(e,t,n,r){var o=this.prepareExternalUrl(n+Wc.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,o)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(Gc),Yc=void 0,Xc=["en",[["a","p"],["AM","PM"],Yc],[["AM","PM"],Yc,Yc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yc,"{1} 'at' {0}",Yc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],$c={},ed=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),td=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),nd=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),rd=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),od=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function id(e,t){return cd(fd(e)[10],t)}function ad(e,t){return cd(fd(e)[11],t)}function sd(e,t){return cd(fd(e)[12],t)}function ud(e,t){var n=fd(e),r=n[13][t];if(void 0===r){if(t===od.CurrencyDecimal)return n[13][od.Decimal];if(t===od.CurrencyGroup)return n[13][od.Group]}return r}function ld(e){if(!e[19])throw new Error('Missing extra locale data for the locale "'+e[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function cd(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function dd(e){var t=l(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}function fd(e){var t=e.toLowerCase().replace(/_/g,"-"),n=$c[t];if(n)return n;var r=t.split("-")[0];if(n=$c[r])return n;if("en"===r)return Xc;throw new Error('Missing locale data for the locale "'+e+'".')}var pd=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hd={},gd=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,yd=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),vd=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),_d=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function md(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function bd(e,t,n,r,o){void 0===n&&(n="-");var i="";(e<0||o&&e<=0)&&(o?e=1-e:(e=-e,i=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),i+a}function wd(e,t,n,r,o){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===o&&(o=!1),function(i,a){var s,u=function(e,t){switch(e){case vd.FullYear:return t.getFullYear();case vd.Month:return t.getMonth();case vd.Date:return t.getDate();case vd.Hours:return t.getHours();case vd.Minutes:return t.getMinutes();case vd.Seconds:return t.getSeconds();case vd.FractionalSeconds:return t.getMilliseconds();case vd.Day:return t.getDay();default:throw new Error('Unknown DateType value "'+e+'".')}}(e,i);if((n>0||u>-n)&&(u+=n),e===vd.Hours)0===u&&-12===n&&(u=12);else if(e===vd.FractionalSeconds)return s=t,bd(u,3).substr(0,s);var l=ud(a,od.MinusSign);return bd(u,t,l,r,o)}}function Ed(e,t,n,r){return void 0===n&&(n=td.Format),void 0===r&&(r=!1),function(o,i){return function(e,t,n,r,o,i){switch(n){case _d.Months:return function(e,t,n){var r=fd(e),o=cd([r[5],r[6]],t);return cd(o,n)}(t,o,r)[e.getMonth()];case _d.Days:return function(e,t,n){var r=fd(e),o=cd([r[3],r[4]],t);return cd(o,n)}(t,o,r)[e.getDay()];case _d.DayPeriods:var a=e.getHours(),s=e.getMinutes();if(i){var u,l=function(e){var t=fd(e);return ld(t),(t[19][2]||[]).map(function(e){return"string"==typeof e?dd(e):[dd(e[0]),dd(e[1])]})}(t),c=function(e,t,n){var r=fd(e);ld(r);var o=cd([r[19][0],r[19][1]],t)||[];return cd(o,n)||[]}(t,o,r);if(l.forEach(function(e,t){if(Array.isArray(e)){var n=e[0],r=e[1],o=r.hours;a>=n.hours&&s>=n.minutes&&(a<o||a===o&&s<r.minutes)&&(u=c[t])}else e.hours===a&&e.minutes===s&&(u=c[t])}),u)return u}return function(e,t,n){var r=fd(e),o=cd([r[1],r[2]],t);return cd(o,n)}(t,o,r)[a<12?0:1];case _d.Eras:return function(e,t){return cd(fd(e)[7],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,i,e,t,n,r)}}function Sd(e){return function(t,n,r){var o=-1*r,i=ud(n,od.MinusSign),a=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case yd.Short:return(o>=0?"+":"")+bd(a,2,i)+bd(Math.abs(o%60),2,i);case yd.ShortGMT:return"GMT"+(o>=0?"+":"")+bd(a,1,i);case yd.Long:return"GMT"+(o>=0?"+":"")+bd(a,2,i)+":"+bd(Math.abs(o%60),2,i);case yd.Extended:return 0===r?"Z":(o>=0?"+":"")+bd(a,2,i)+":"+bd(Math.abs(o%60),2,i);default:throw new Error('Unknown zone width "'+e+'"')}}}var Pd=0,xd=4;function Td(e,t){return void 0===t&&(t=!1),function(n,r){var o,i,a,s;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();o=1+Math.floor((l+u)/7)}else{var c=(a=n.getFullYear(),s=new Date(a,Pd,1).getDay(),new Date(a,0,1+(s<=xd?xd:xd+7)-s)),d=(i=n,new Date(i.getFullYear(),i.getMonth(),i.getDate()+(xd-i.getDay()))).getTime()-c.getTime();o=1+Math.round(d/6048e5)}return bd(o,e,ud(r,od.MinusSign))}}var Rd={};function Cd(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function kd(e){return e instanceof Date&&!isNaN(e.valueOf())}var Ad=new Ce("UseV4Plurals"),Od=function(){return function(){}}(),Id=function(e){function t(t,n){var r=e.call(this)||this;return r.locale=t,r.deprecatedPluralFn=n,r}return o(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return fd(e)[18]}(t||this.locale)(e)){case ed.Zero:return"zero";case ed.One:return"one";case ed.Two:return"two";case ed.Few:return"few";case ed.Many:return"many";default:return"other"}},t}(Od);function Md(e,t){var n,r;t=encodeURIComponent(t);try{for(var o=u(e.split(";")),i=o.next();!i.done;i=o.next()){var a=i.value,s=a.indexOf("="),c=l(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),d=c[1];if(c[0].trim()===t)return decodeURIComponent(d)}}catch(f){n={error:f}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var Dd=function(){function e(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(e.prototype,"klass",{set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Mn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}},e.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},e.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Ve(e.item));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})},e.prototype._applyClasses=function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))},e.prototype._removeClasses=function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))},e.prototype._toggleClass=function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})},e}(),Nd=function(){function e(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),jd=function(){function e(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(e.prototype,"ngForOf",{set:function(e){this._ngForOf=e,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(e){wo()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},e.prototype._applyChanges=function(e){var t=this,n=[];e.forEachOperation(function(e,r,o){if(null==e.previousIndex){var i=t._viewContainer.createEmbeddedView(t._template,new Nd(null,t._ngForOf,-1,-1),o),a=new Ld(e,i);n.push(a)}else null==o?t._viewContainer.remove(r):(i=t._viewContainer.get(r),t._viewContainer.move(i,o),a=new Ld(e,i),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o,i.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e.ngTemplateContextGuard=function(e,t){return!0},e}(),Ld=function(){return function(e,t){this.record=e,this.view=t}}(),Ud=function(){function e(e,t){this._viewContainer=e,this._context=new Fd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfThen",{set:function(e){Bd("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfElse",{set:function(e){Bd("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e.ngTemplateGuard_ngIf=function(e,t){return!0},e}(),Fd=function(){return function(){this.$implicit=null,this.ngIf=null}}();function Bd(e,t){if(t&&!t.createEmbeddedView)throw new Error(e+" must be a TemplateRef, but received '"+Ve(t)+"'.")}var Hd=function(){function e(e){this.locale=e}var t;return t=e,e.prototype.transform=function(e,n,r,o){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;try{return function(e,t,n,r){var o=function(e){if(kd(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=l(e.split("-").map(function(e){return+e}),3);return new Date(r[0],r[1]-1,r[2])}if(t=e.match(pd))return function(e){var t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),l=Math.round(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,a,s,u,l),t}(t)}var o=new Date(e);if(!kd(o))throw new Error('Unable to convert "'+e+'" into a date');return o}(e);t=function e(t,n){var r=function(e){return fd(e)[0]}(t);if(hd[r]=hd[r]||{},hd[r][n])return hd[r][n];var o="";switch(n){case"shortDate":o=id(t,rd.Short);break;case"mediumDate":o=id(t,rd.Medium);break;case"longDate":o=id(t,rd.Long);break;case"fullDate":o=id(t,rd.Full);break;case"shortTime":o=ad(t,rd.Short);break;case"mediumTime":o=ad(t,rd.Medium);break;case"longTime":o=ad(t,rd.Long);break;case"fullTime":o=ad(t,rd.Full);break;case"short":var i=e(t,"shortTime"),a=e(t,"shortDate");o=md(sd(t,rd.Short),[i,a]);break;case"medium":var s=e(t,"mediumTime"),u=e(t,"mediumDate");o=md(sd(t,rd.Medium),[s,u]);break;case"long":var l=e(t,"longTime"),c=e(t,"longDate");o=md(sd(t,rd.Long),[l,c]);break;case"full":var d=e(t,"fullTime"),f=e(t,"fullDate");o=md(sd(t,rd.Full),[d,f])}return o&&(hd[r][n]=o),o}(n,t)||t;for(var i,a=[];t;){if(!(i=gd.exec(t))){a.push(t);break}var s=(a=a.concat(i.slice(1))).pop();if(!s)break;t=s}var u=o.getTimezoneOffset();r&&(u=Cd(r,u),o=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Cd(t,r)-r))}(o,r));var c="";return a.forEach(function(e){var t=function(e){if(Rd[e])return Rd[e];var t;switch(e){case"G":case"GG":case"GGG":t=Ed(_d.Eras,nd.Abbreviated);break;case"GGGG":t=Ed(_d.Eras,nd.Wide);break;case"GGGGG":t=Ed(_d.Eras,nd.Narrow);break;case"y":t=wd(vd.FullYear,1,0,!1,!0);break;case"yy":t=wd(vd.FullYear,2,0,!0,!0);break;case"yyy":t=wd(vd.FullYear,3,0,!1,!0);break;case"yyyy":t=wd(vd.FullYear,4,0,!1,!0);break;case"M":case"L":t=wd(vd.Month,1,1);break;case"MM":case"LL":t=wd(vd.Month,2,1);break;case"MMM":t=Ed(_d.Months,nd.Abbreviated);break;case"MMMM":t=Ed(_d.Months,nd.Wide);break;case"MMMMM":t=Ed(_d.Months,nd.Narrow);break;case"LLL":t=Ed(_d.Months,nd.Abbreviated,td.Standalone);break;case"LLLL":t=Ed(_d.Months,nd.Wide,td.Standalone);break;case"LLLLL":t=Ed(_d.Months,nd.Narrow,td.Standalone);break;case"w":t=Td(1);break;case"ww":t=Td(2);break;case"W":t=Td(1,!0);break;case"d":t=wd(vd.Date,1);break;case"dd":t=wd(vd.Date,2);break;case"E":case"EE":case"EEE":t=Ed(_d.Days,nd.Abbreviated);break;case"EEEE":t=Ed(_d.Days,nd.Wide);break;case"EEEEE":t=Ed(_d.Days,nd.Narrow);break;case"EEEEEE":t=Ed(_d.Days,nd.Short);break;case"a":case"aa":case"aaa":t=Ed(_d.DayPeriods,nd.Abbreviated);break;case"aaaa":t=Ed(_d.DayPeriods,nd.Wide);break;case"aaaaa":t=Ed(_d.DayPeriods,nd.Narrow);break;case"b":case"bb":case"bbb":t=Ed(_d.DayPeriods,nd.Abbreviated,td.Standalone,!0);break;case"bbbb":t=Ed(_d.DayPeriods,nd.Wide,td.Standalone,!0);break;case"bbbbb":t=Ed(_d.DayPeriods,nd.Narrow,td.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ed(_d.DayPeriods,nd.Abbreviated,td.Format,!0);break;case"BBBB":t=Ed(_d.DayPeriods,nd.Wide,td.Format,!0);break;case"BBBBB":t=Ed(_d.DayPeriods,nd.Narrow,td.Format,!0);break;case"h":t=wd(vd.Hours,1,-12);break;case"hh":t=wd(vd.Hours,2,-12);break;case"H":t=wd(vd.Hours,1);break;case"HH":t=wd(vd.Hours,2);break;case"m":t=wd(vd.Minutes,1);break;case"mm":t=wd(vd.Minutes,2);break;case"s":t=wd(vd.Seconds,1);break;case"ss":t=wd(vd.Seconds,2);break;case"S":t=wd(vd.FractionalSeconds,1);break;case"SS":t=wd(vd.FractionalSeconds,2);break;case"SSS":t=wd(vd.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Sd(yd.Short);break;case"ZZZZZ":t=Sd(yd.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Sd(yd.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Sd(yd.Long);break;default:return null}return Rd[e]=t,t}(e);c+=t?t(o,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,o||this.locale,r)}catch(i){throw Error("InvalidPipeArgument: '"+i.message+"' for pipe '"+Ve(t)+"'")}},e}(),qd=function(){return function(){}}(),Vd=new Ce("DocumentToken"),zd="server",Gd=function(){function e(){}return e.ngInjectableDef=xe({providedIn:"root",factory:function(){return new Kd(zt(Vd),window)}}),e}(),Kd=function(){function e(e,t){this.document=e,this.window=t,this.offset=function(){return[0,0]}}return e.prototype.setOffset=function(e){this.offset=Array.isArray(e)?function(){return e}:e},e.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},e.prototype.scrollToPosition=function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])},e.prototype.scrollToAnchor=function(e){if(this.supportScrollRestoration()){var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='"+e+"']");if(n)return void this.scrollToElement(n)}},e.prototype.setHistoryScrollRestoration=function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}},e.prototype.scrollToElement=function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])},e.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}},e}(),Wd=null;function Qd(){return Wd}var Jd,Zd={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Yd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};Le.Node&&(Jd=Le.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var $d,ef=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){var e;e=new t,Wd||(Wd=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,n){e[t]=n},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,n){var r;(r=e)[t].apply(r,c(n))},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return Zd},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return Jd.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,n){e.insertBefore(n,t)},t.prototype.insertAllBefore=function(e,t,n){n.forEach(function(n){return e.insertBefore(n,t)})},t.prototype.insertAfter=function(e,t,n){e.insertBefore(n,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r},t.prototype.createStyleElement=function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,n){e.style[t]=n},t.prototype.removeStyle=function(e,t){e.style[t]=""},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var o=n.item(r);t.set(o.name,o.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},t.prototype.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||""},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute("href")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Xd.hasOwnProperty(t)&&(t=Xd[t]))}return Yd[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,n=tf||(tf=document.querySelector("base"))?tf.getAttribute("href"):null;return null==n?null:(t=n,$d||($d=document.createElement("a")),$d.setAttribute("href",t),"/"===$d.pathname.charAt(0)?$d.pathname:"/"+$d.pathname)},t.prototype.resetBaseElement=function(){tf=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return Md(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=t.getStyle(n,r[o]+"AnimationName")){t._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=i[e])})}catch(a){t._animationPrefix=null,t._transitionEnd=null}return t}return o(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}())),tf=null,nf=Vd;function rf(){return!!window.history.pushState}var of=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._init(),n}var n;return o(t,e),t.prototype._init=function(){this.location=Qd().getLocation(),this._history=Qd().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return Qd().getBaseHref(this._doc)},t.prototype.onPopState=function(e){Qd().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){Qd().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,n){rf()?this._history.pushState(e,t,n):this.location.hash=n},t.prototype.replaceState=function(e,t,n){rf()?this._history.replaceState(e,t,n):this.location.hash=n},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},a([(n=jt(nf),function(e,t){n(e,t,0)}),s("design:paramtypes",[Object])],t)}(Vc),af=new Ce("TRANSITION_ID"),sf=[{provide:si,useFactory:function(e,t,n){return function(){n.get(ui).donePromise.then(function(){var n=Qd();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(function(t){return n.getAttribute(t,"ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[af,nf,vr],multi:!0}],uf=function(){function e(){}return e.init=function(){var t;t=new e,Bi=t},e.prototype.addToWindow=function(e){Le.getAngularTestability=function(t,n){void 0===n&&(n=!0);var r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Le.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Le.getAllAngularRootElements=function(){return e.getAllRootElements()},Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(function(e){var t=Le.getAllAngularTestabilities(),n=t.length,r=!1,o=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(o)})})},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Qd().isShadowRoot(t)?this.findTestabilityInTree(e,Qd().getHost(t),!0):this.findTestabilityInTree(e,Qd().parentElement(t),!0):null},e}();function lf(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Le.ng=Le.ng||{})[e]=t)}var cf={ApplicationRef:Wi,NgZone:Ai};function df(e){return la(e)}var ff=new Ce("EventManagerPlugins"),pf=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error("No event manager plugin found for event "+e)},e}(),hf=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,n){var r=Qd().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target "+r+" for event "+t);return this.addEventListener(r,t,n)},e}(),gf=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),yf=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return o(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach(function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return Qd().remove(e)})},t}(gf),vf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_f=/%COMP%/g,mf="_nghost-%COMP%",bf="_ngcontent-%COMP%";function wf(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?wf(e,o,n):(o=o.replace(_f,e),n.push(o))}return n}function Ef(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Sf=function(){function e(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new Pf(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case We.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Cf(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case We.Native:case We.ShadowDom:return new kf(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=wf(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),Pf=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(vf[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'+e+'" did not match any elements');return t||(n.textContent=""),n},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,r){if(r){t=r+":"+t;var o=vf[r];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var r=vf[n];r?e.removeAttributeNS(r,t):e.removeAttribute(n+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,r){r&io.DashCase?e.style.setProperty(t,n,r&io.Important?"important":""):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&io.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,n){Tf(t,"property"),e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return Tf(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ef(n)):this.eventManager.addEventListener(e,t,Ef(n))},e}(),xf="@".charCodeAt(0);function Tf(e,t){if(e.charCodeAt(0)===xf)throw new Error("Found the synthetic "+t+" "+e+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Rf,Cf=function(e){function t(t,n,r){var o=e.call(this,t)||this;o.component=r;var i=wf(r.id,r.styles,[]);return n.addStyles(i),o.contentAttr=bf.replace(_f,r.id),o.hostAttr=mf.replace(_f,r.id),o}return o(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,n){var r=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,r,this.contentAttr,""),r},t}(Pf),kf=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;i.sharedStylesHost=n,i.hostEl=r,i.component=o,i.shadowRoot=o.encapsulation===We.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var a=wf(o.id,o.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],i.shadowRoot.appendChild(u)}return i}return o(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,r){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,r)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(Pf),Af="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},Of=Af("addEventListener"),If=Af("removeEventListener"),Mf={},Df="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Af("BLACK_LISTED_EVENTS")]&&(Rf={});var Nf=function(e){return!!Rf&&Rf.hasOwnProperty(e)},jf=function(e){var t=Mf[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var o=n.slice(),i=0;i<o.length&&!0!==e[Df];i++){var a;(a=o[i]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Lf=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.ngZone=n,r&&function(e){return e===zd}(r)||o.patchEvent(),o}return o(t,e),t.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Df]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){var r=this,o=n;if(!e[Of]||Ai.isInAngularZone()&&!Nf(t))e.addEventListener(t,o,!1);else{var i=Mf[t];i||(i=Mf[t]=Af("ANGULAR"+t+"FALSE"));var a=e[i],s=a&&a.length>0;a||(a=e[i]=[]);var u=Nf(t)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:o});else{for(var l=!1,c=0;c<a.length;c++)if(a[c].handler===o){l=!0;break}l||a.push({zone:u,handler:o})}s||e[Of](t,jf,!1)}return function(){return r.removeEventListener(e,t,o)}},t.prototype.removeEventListener=function(e,t,n){var r=e[If];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var o=Mf[t],i=o&&e[o];if(!i)return e.removeEventListener.apply(e,[t,n,!1]);for(var a=!1,s=0;s<i.length;s++)if(i[s].handler===n){a=!0,i.splice(s,1);break}a?0===i.length&&r.apply(e,[t,jf,!1]):e.removeEventListener.apply(e,[t,n,!1])},t}(hf),Uf={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Ff=new Ce("HammerGestureConfig"),Bf=new Ce("HammerLoader"),Hf=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t},e}(),qf=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._config=n,i.console=r,i.loader=o,i}return o(t,e),t.prototype.supports=function(e){return!(!Uf.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+e+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},t.prototype.addEventListener=function(e,t,n){var r=this,o=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var i=!1,a=function(){i=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});i||(a=r.addEventListener(e,t,n))}).catch(function(){r.console.warn('The "'+t+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return o.runOutsideAngular(function(){var i=r._config.buildHammer(e),a=function(e){o.runGuarded(function(){n(e)})};return i.on(t,a),function(){i.off(t,a),"function"==typeof i.destroy&&i.destroy()}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(hf),Vf=["alt","control","meta","shift"],zf={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Gf=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),n=t,t.prototype.supports=function(e){return null!=n.parseEventName(e)},t.prototype.addEventListener=function(e,t,r){var o=n.parseEventName(t),i=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Qd().onAndCancel(e,o.domEventName,i)})},t.parseEventName=function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var o=n._normalizeKey(t.pop()),i="";if(Vf.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=o,0!=t.length||0===o.length)return null;var a={};return a.domEventName=r,a.fullKey=i,a},t.getEventFullKey=function(e){var t="",n=Qd().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Vf.forEach(function(r){r!=n&&(0,zf[r])(e)&&(t+=r+".")}),t+=n},t.eventCallback=function(e,t,r){return function(o){n.getEventFullKey(o)===e&&r.runGuarded(function(){return t(o)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t}(hf),Kf=function(){return function(){}}(),Wf=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return o(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case uo.NONE:return t;case uo.HTML:return t instanceof Jf?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{Co=Co||new Eo(e);var r=t?String(t):"";n=Co.getInertBodyElement(r);var o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=Co.getInertBodyElement(r)}while(r!==i);var a=new Lo,s=a.sanitizeChildren(Ho(n)||n);return wo()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}finally{if(n)for(var u=Ho(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(t)));case uo.STYLE:return t instanceof Zf?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(Qo);return t&&xo(t[1])===t[1]||e.match(Wo)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var o=e.charAt(r);"'"===o&&n?t=!t:'"'===o&&t&&(n=!n)}return t&&n}(e)?e:(wo()&&console.warn("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}(t));case uo.SCRIPT:if(t instanceof Yf)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case uo.URL:return t instanceof $f||t instanceof Xf?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),xo(String(t)));case uo.RESOURCE_URL:if(t instanceof $f)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof Qf)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new Jf(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new Zf(e)},t.prototype.bypassSecurityTrustScript=function(e){return new Yf(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new Xf(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new $f(e)},t}(Kf),Qf=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),Jf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(Qf),Zf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return"Style"},t}(Qf),Yf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return"Script"},t}(Qf),Xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return"URL"},t}(Qf),$f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(Qf),ep=Vi(Ta,"browser",[{provide:pi,useValue:"browser"},{provide:fi,useValue:function(){ef.makeCurrent(),uf.init()},multi:!0},{provide:Vc,useClass:of,deps:[nf]},{provide:nf,useFactory:function(){return document},deps:[]}]);function tp(){return new oi}var np=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var t;return t=e,e.withServerTransition=function(e){return{ngModule:t,providers:[{provide:li,useValue:e.appId},{provide:af,useExisting:li},sf]}},e}();"undefined"!=typeof window&&window;var rp=function(){return function(e,t){this.id=e,this.url=t}}(),op=function(e){function t(t,n,r,o){void 0===r&&(r="imperative"),void 0===o&&(o=null);var i=e.call(this,t,n)||this;return i.navigationTrigger=r,i.restoredState=o,i}return o(t,e),t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(rp),ip=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o}return o(t,e),t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(rp),ap=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.reason=r,o}return o(t,e),t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(rp),sp=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.error=r,o}return o(t,e),t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(rp),up=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(t,e),t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(rp),lp=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(t,e),t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(rp),cp=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n)||this;return a.urlAfterRedirects=r,a.state=o,a.shouldActivate=i,a}return o(t,e),t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(rp),dp=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(t,e),t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(rp),fp=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(t,e),t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(rp),pp=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},e}(),hp=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},e}(),gp=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),yp=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),vp=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),_p=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),mp=function(){function e(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}return e.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},e}(),bp=function(){return function(){}}(),wp="primary",Ep=function(){function e(e){this.params=e||{}}return e.prototype.has=function(e){return this.params.hasOwnProperty(e)},e.prototype.get=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null},e.prototype.getAll=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]},Object.defineProperty(e.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),e}();function Sp(e){return new Ep(e)}var Pp="ngNavigationCancelingError";function xp(e){var t=Error("NavigationCancelingError: "+e);return t[Pp]=!0,t}function Tp(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var o={},i=0;i<r.length;i++){var a=r[i],s=e[i];if(a.startsWith(":"))o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}var Rp=function(){return function(e,t){this.routes=e,this.module=t}}();function Cp(e,t){void 0===t&&(t="");for(var n=0;n<e.length;n++){var r=e[n];kp(r,Ap(t,r))}}function kp(e,t){if(!e)throw new Error("\n      Invalid configuration of route '"+t+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(e))throw new Error("Invalid configuration of route '"+t+"': Array cannot be specified");if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==wp)throw new Error("Invalid configuration of route '"+t+"': a componentless route without children or loadChildren cannot have a named outlet set");if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '"+t+"': redirectTo and children cannot be used together");if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': redirectTo and loadChildren cannot be used together");if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': children and loadChildren cannot be used together");if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '"+t+"': redirectTo and component cannot be used together");if(e.path&&e.matcher)throw new Error("Invalid configuration of route '"+t+"': path and matcher cannot be used together");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '"+t+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '"+t+"': routes must have either a path or a matcher specified");if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '"+t+"': path cannot start with a slash");if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \""+t+'", redirectTo: "'+e.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '"+t+"': pathMatch can only be set to 'prefix' or 'full'");e.children&&Cp(e.children,t)}function Ap(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:e+"/"+t.path:"":e}function Op(e){var t=e.children&&e.children.map(Op),n=t?i({},e,{children:t}):i({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==wp&&(n.component=bp),n}function Ip(e,t){var n,r=Object.keys(e),o=Object.keys(t);if(r.length!=o.length)return!1;for(var i=0;i<r.length;i++)if(e[n=r[i]]!==t[n])return!1;return!0}function Mp(e){return Array.prototype.concat.apply([],e)}function Dp(e){return e.length>0?e[e.length-1]:null}function Np(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function jp(e){return ai(e)?e:ii(e)?oe(Promise.resolve(e)):$l(e)}function Lp(e,t,n){return n?function(e,t){return Ip(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Hp(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return t[n]===e[n]})}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,o){if(n.segments.length>o.length)return!!Hp(a=n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!Hp(n.segments,o))return!1;for(var i in r.children){if(!n.children[i])return!1;if(!e(n.children[i],r.children[i]))return!1}return!0}var a=o.slice(0,n.segments.length),s=o.slice(n.segments.length);return!!Hp(n.segments,a)&&!!n.children[wp]&&t(n.children[wp],r,s)}(t,n,n.segments)}(e.root,t.root)}var Up=function(){function e(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}return Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Sp(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return Gp.serialize(this)},e}(),Fp=function(){function e(e,t){var n=this;this.segments=e,this.children=t,this.parent=null,Np(t,function(e,t){return e.parent=n})}return e.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(e.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return Kp(this)},e}(),Bp=function(){function e(e,t){this.path=e,this.parameters=t}return Object.defineProperty(e.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Sp(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return Xp(this)},e}();function Hp(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}function qp(e,t){var n=[];return Np(e.children,function(e,r){r===wp&&(n=n.concat(t(e,r)))}),Np(e.children,function(e,r){r!==wp&&(n=n.concat(t(e,r)))}),n}var Vp=function(){return function(){}}(),zp=function(){function e(){}return e.prototype.parse=function(e){var t=new rh(e);return new Up(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){var t,n;return"/"+function e(t,n){if(!t.hasChildren())return Kp(t);if(n){var r=t.children[wp]?e(t.children[wp],!1):"",o=[];return Np(t.children,function(t,n){n!==wp&&o.push(n+":"+e(t,!1))}),o.length>0?r+"("+o.join("//")+")":r}var i=qp(t,function(n,r){return r===wp?[e(t.children[wp],!1)]:[r+":"+e(n,!1)]});return Kp(t)+"/("+i.join("//")+")"}(e.root,!0)+(t=e.queryParams,(n=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return Qp(e)+"="+Qp(t)}).join("&"):Qp(e)+"="+Qp(n)})).length?"?"+n.join("&"):"")+("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"")},e}(),Gp=new zp;function Kp(e){return e.segments.map(function(e){return Xp(e)}).join("/")}function Wp(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qp(e){return Wp(e).replace(/%3B/gi,";")}function Jp(e){return Wp(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zp(e){return decodeURIComponent(e)}function Yp(e){return Zp(e.replace(/\+/g,"%20"))}function Xp(e){return""+Jp(e.path)+(t=e.parameters,Object.keys(t).map(function(e){return";"+Jp(e)+"="+Jp(t[e])}).join(""));var t}var $p=/^[^\/()?;=#]+/;function eh(e){var t=e.match($p);return t?t[0]:""}var th=/^[^=?&#]+/,nh=/^[^?&#]+/,rh=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fp([],{}):new Fp([],this.parseChildren())},e.prototype.parseQueryParams=function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e},e.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},e.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[wp]=new Fp(e,t)),n},e.prototype.parseSegment=function(){var e=eh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(e),new Bp(Zp(e),this.parseMatrixParams())},e.prototype.parseMatrixParams=function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=eh(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=eh(this.remaining);r&&this.capture(n=r)}e[Zp(t)]=Zp(n)}},e.prototype.parseQueryParam=function(e){var t,n=(t=this.remaining.match(th))?t[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var o=function(e){var t=e.match(nh);return t?t[0]:""}(this.remaining);o&&this.capture(r=o)}var i=Yp(n),a=Yp(r);if(e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)||(e[i]=s=[s]),s.push(a)}else e[i]=a}},e.prototype.parseParens=function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=eh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=wp);var i=this.parseChildren();t[o]=1===Object.keys(i).length?i[wp]:new Fp([],i),this.consumeOptional("//")}return t},e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.consumeOptional=function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)},e.prototype.capture=function(e){if(!this.consumeOptional(e))throw new Error('Expected "'+e+'".')},e}(),oh=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null},e.prototype.children=function(e){var t=ih(e,this._root);return t?t.children.map(function(e){return e.value}):[]},e.prototype.firstChild=function(e){var t=ih(e,this._root);return t&&t.children.length>0?t.children[0].value:null},e.prototype.siblings=function(e){var t=ah(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})},e.prototype.pathFromRoot=function(e){return ah(e,this._root).map(function(e){return e.value})},e}();function ih(e,t){var n,r;if(e===t.value)return t;try{for(var o=u(t.children),i=o.next();!i.done;i=o.next()){var a=ih(e,i.value);if(a)return a}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function ah(e,t){var n,r;if(e===t.value)return[t];try{for(var o=u(t.children),i=o.next();!i.done;i=o.next()){var a=ah(e,i.value);if(a.length)return a.unshift(t),a}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[]}var sh=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return"TreeNode("+this.value+")"},e}();function uh(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var lh=function(e){function t(t,n){var r=e.call(this,t)||this;return r.snapshot=n,gh(r,t),r}return o(t,e),t.prototype.toString=function(){return this.snapshot.toString()},t}(oh);function ch(e,t){var n=function(e,t){var n=new ph([],{},{},"",{},wp,t,null,e.root,-1,{});return new hh("",new sh(n,[]))}(e,t),r=new ec([new Bp("",{})]),o=new ec({}),i=new ec({}),a=new ec({}),s=new ec(""),u=new dh(r,o,a,s,i,wp,t,n.root);return u.snapshot=n.root,new lh(new sh(u,[]),n)}var dh=function(){function e(e,t,n,r,o,i,a,s){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this._futureSnapshot=s}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(ee(function(e){return Sp(e)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(function(e){return Sp(e)}))),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},e}();function fh(e,t){void 0===t&&(t="emptyOnly");var n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var o=n[r],a=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(a.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:i({},e.params,t.params),data:i({},e.data,t.data),resolve:i({},e.resolve,t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var ph=function(){function e(e,t,n,r,o,i,a,s,u,l,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Sp(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Sp(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Route(url:'"+this.url.map(function(e){return e.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},e}(),hh=function(e){function t(t,n){var r=e.call(this,n)||this;return r.url=t,gh(r,n),r}return o(t,e),t.prototype.toString=function(){return yh(this._root)},t}(oh);function gh(e,t){t.value._routerState=e,t.children.forEach(function(t){return gh(e,t)})}function yh(e){var t=e.children.length>0?" { "+e.children.map(yh).join(", ")+" } ":"";return""+e.value+t}function vh(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ip(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ip(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ip(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ip(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function _h(e,t){var n,r;return Ip(e.params,t.params)&&Hp(n=e.url,r=t.url)&&n.every(function(e,t){return Ip(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||_h(e.parent,t.parent))}function mh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function bh(e,t,n,r,o){var i={};return r&&Np(r,function(e,t){i[t]=Array.isArray(e)?e.map(function(e){return""+e}):""+e}),new Up(n.root===e?t:function e(t,n,r){var o={};return Np(t.children,function(t,i){o[i]=t===n?r:e(t,n,r)}),new Fp(t.segments,o)}(n.root,e,t),i,o)}var wh=function(){function e(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&mh(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(e){return"object"==typeof e&&null!=e&&e.outlets});if(r&&r!==Dp(n))throw new Error("{outlets:{}} has to be the last command")}return e.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},e}(),Eh=function(){return function(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}();function Sh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[wp]:""+e}function Ph(e,t,n){if(e||(e=new Fp([],{})),0===e.segments.length&&e.hasChildren())return xh(e,t,n);var r=function(e,t,n){for(var r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};o<e.segments.length;){if(r>=n.length)return i;var a=e.segments[o],s=Sh(n[r]),u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!kh(s,u,a))return i;r+=2}else{if(!kh(s,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var i=new Fp(e.segments.slice(0,r.pathIndex),{});return i.children[wp]=new Fp(e.segments.slice(r.pathIndex),e.children),xh(i,0,o)}return r.match&&0===o.length?new Fp(e.segments,{}):r.match&&!e.hasChildren()?Th(e,t,n):r.match?xh(e,0,o):Th(e,t,n)}function xh(e,t,n){if(0===n.length)return new Fp(e.segments,{});var r=function(e){var t,n;return"object"!=typeof e[0]?((t={})[wp]=e,t):void 0===e[0].outlets?((n={})[wp]=e,n):e[0].outlets}(n),o={};return Np(r,function(n,r){null!==n&&(o[r]=Ph(e.children[r],t,n))}),Np(e.children,function(e,t){void 0===r[t]&&(o[t]=e)}),new Fp(e.segments,o)}function Th(e,t,n){for(var r=e.segments.slice(0,t),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=Rh(n[o].outlets);return new Fp(r,i)}if(0===o&&mh(n[0]))r.push(new Bp(e.segments[t].path,n[0])),o++;else{var a=Sh(n[o]),s=o<n.length-1?n[o+1]:null;a&&s&&mh(s)?(r.push(new Bp(a,Ch(s))),o+=2):(r.push(new Bp(a,{})),o++)}}return new Fp(r,{})}function Rh(e){var t={};return Np(e,function(e,n){null!==e&&(t[n]=Th(new Fp([],{}),0,e))}),t}function Ch(e){var t={};return Np(e,function(e,n){return t[n]=""+e}),t}function kh(e,t,n){return e==n.path&&Ip(t,n.parameters)}var Ah=function(){function e(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}return e.prototype.activate=function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),vh(this.futureState.root),this.activateChildRoutes(t,n,e)},e.prototype.deactivateChildRoutes=function(e,t,n){var r=this,o=uh(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,o[t],n),delete o[t]}),Np(o,function(e,t){r.deactivateRouteAndItsChildren(e,n)})},e.prototype.deactivateRoutes=function(e,t,n){var r=e.value,o=t?t.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)},e.prototype.deactivateRouteAndItsChildren=function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)},e.prototype.detachAndStoreRouteSubtree=function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:o})}},e.prototype.deactivateRouteAndOutlet=function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var o=uh(e),i=e.value.component?r.children:t;Np(o,function(e,t){return n.deactivateRouteAndItsChildren(e,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},e.prototype.activateChildRoutes=function(e,t,n){var r=this,o=uh(t);e.children.forEach(function(e){r.activateRoutes(e,o[e.value.outlet],n),r.forwardEvent(new _p(e.value.snapshot))}),e.children.length&&this.forwardEvent(new yp(e.value.snapshot))},e.prototype.activateRoutes=function(e,t,n){var r=e.value,o=t?t.value:null;if(vh(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component)if(i=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Oh(a.route)}else{var s=function(e){for(var t=r.snapshot.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;i.attachRef=null,i.route=r,i.resolver=u,i.outlet&&i.outlet.activateWith(r,u),this.activateChildRoutes(e,null,i.children)}else this.activateChildRoutes(e,null,n)},e}();function Oh(e){vh(e.value),e.children.forEach(Oh)}function Ih(e){return"function"==typeof e}function Mh(e){return e instanceof Up}var Dh=function(){return function(e){this.segmentGroup=e||null}}(),Nh=function(){return function(e){this.urlTree=e}}();function jh(e){return new M(function(t){return t.error(new Dh(e))})}function Lh(e){return new M(function(t){return t.error(new Nh(e))})}function Uh(e){return new M(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+e+"'"))})}var Fh=function(){function e(e,t,n,r,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Xr)}return e.prototype.apply=function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,wp).pipe(ee(function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)})).pipe(xc(function(t){if(t instanceof Nh)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Dh)throw e.noMatchError(t);throw t}))},e.prototype.match=function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,wp).pipe(ee(function(n){return t.createUrlTree(n,e.queryParams,e.fragment)})).pipe(xc(function(e){if(e instanceof Dh)throw t.noMatchError(e);throw e}))},e.prototype.noMatchError=function(e){return new Error("Cannot match any routes. URL Segment: '"+e.segmentGroup+"'")},e.prototype.createUrlTree=function(e,t,n){var r,o=e.segments.length>0?new Fp([],((r={})[wp]=e,r)):e;return new Up(o,t,n)},e.prototype.expandSegmentGroup=function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(ee(function(e){return new Fp([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)},e.prototype.expandChildren=function(e,t,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return $l({});var i=[],a=[],s={};return Np(n,function(n,o){var u,l,c=(u=o,l=n,r.expandSegmentGroup(e,t,l,u)).pipe(ee(function(e){return s[o]=e}));o===wp?i.push(c):a.push(c)}),$l.apply(null,i.concat(a)).pipe(sc(),Pc(),ee(function(){return s}))}(n.children)},e.prototype.expandSegment=function(e,t,n,r,o,i){var a=this;return $l.apply(void 0,c(n)).pipe(ee(function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,o,i).pipe(xc(function(e){if(e instanceof Dh)return $l(null);throw e}))}),sc(),Oc(function(e){return!!e}),xc(function(e,n){if(e instanceof nc||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,o))return $l(new Fp([],{}));throw new Dh(t)}throw e}))},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.expandSegmentAgainstRoute=function(e,t,n,r,o,i,a){return Vh(r)!==i?jh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,o,i):jh(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,o,i)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e,t,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Lh(i):this.lineralizeSegments(n,i).pipe(ie(function(n){var i=new Fp(n,{});return o.expandSegment(e,i,t,n,r,!1)}))},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,n,r,o,i){var a=this,s=Bh(t,r,o),u=s.consumedSegments,l=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return jh(t);var d=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Lh(d):this.lineralizeSegments(r,d).pipe(ie(function(r){return a.expandSegment(e,t,n,r.concat(o.slice(l)),i,!1)}))},e.prototype.matchSegmentAgainstRoute=function(e,t,n,r){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(ee(function(e){return n._loadedConfig=e,new Fp(r,{})})):$l(new Fp(r,{}));var a=Bh(t,n,r),s=a.consumedSegments,l=a.lastChild;if(!a.matched)return jh(t);var c=r.slice(l);return this.getChildConfig(e,n,r).pipe(ie(function(e){var n=e.module,r=e.routes,a=function(e,t,n,r){return n.length>0&&function(e,t,n){return r.some(function(n){return qh(e,t,n)&&Vh(n)!==wp})}(e,n)?{segmentGroup:Hh(new Fp(t,function(e,t){var n,r,o={};o[wp]=t;try{for(var i=u(e),a=i.next();!a.done;a=i.next()){var s=a.value;""===s.path&&Vh(s)!==wp&&(o[Vh(s)]=new Fp([],{}))}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}(r,new Fp(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return r.some(function(n){return qh(e,t,n)})}(e,n)?{segmentGroup:Hh(new Fp(e.segments,function(e,t,n,r){var o,a,s={};try{for(var l=u(n),c=l.next();!c.done;c=l.next()){var d=c.value;qh(e,t,d)&&!r[Vh(d)]&&(s[Vh(d)]=new Fp([],{}))}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return i({},r,s)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),l=a.segmentGroup,d=a.slicedSegments;return 0===d.length&&l.hasChildren()?o.expandChildren(n,r,l).pipe(ee(function(e){return new Fp(s,e)})):0===r.length&&0===d.length?$l(new Fp(s,{})):o.expandSegment(n,l,r,d,wp,!0).pipe(ee(function(e){return new Fp(s.concat(e.segments),e.children)}))}))},e.prototype.getChildConfig=function(e,t,n){var r=this;return t.children?$l(new Rp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?$l(t._loadedConfig):function(e,t,n){var r,o=t.canLoad;return o&&0!==o.length?oe(o).pipe(ee(function(r){var o,i=e.get(r);if(function(e){return e&&Ih(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!Ih(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return jp(o)})).pipe(sc(),(r=function(e){return!0===e},function(e){return e.lift(new Ic(r,void 0,e))})):$l(!0)}(e.injector,t,n).pipe(ie(function(n){return n?r.configLoader.load(e.injector,t).pipe(ee(function(e){return t._loadedConfig=e,e})):function(e){return new M(function(t){return t.error(xp("Cannot load children because the guard of the route \"path: '"+e.path+"'\" returned false"))})}(t)})):$l(new Rp([],e))},e.prototype.lineralizeSegments=function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return $l(n);if(r.numberOfChildren>1||!r.children[wp])return Uh(e.redirectTo);r=r.children[wp]}},e.prototype.applyRedirectCommands=function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)},e.prototype.applyRedirectCreatreUrlTree=function(e,t,n,r){var o=this.createSegmentGroup(e,t.root,n,r);return new Up(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)},e.prototype.createQueryParams=function(e,t){var n={};return Np(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var o=e.substring(1);n[r]=t[o]}else n[r]=e}),n},e.prototype.createSegmentGroup=function(e,t,n,r){var o=this,i=this.createSegments(e,t.segments,n,r),a={};return Np(t.children,function(t,i){a[i]=o.createSegmentGroup(e,t,n,r)}),new Fp(i,a)},e.prototype.createSegments=function(e,t,n,r){var o=this;return t.map(function(t){return t.path.startsWith(":")?o.findPosParam(e,t,r):o.findOrReturn(t,n)})},e.prototype.findPosParam=function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+e+"'. Cannot find '"+t.path+"'.");return r},e.prototype.findOrReturn=function(e,t){var n,r,o=0;try{for(var i=u(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.path===e.path)return t.splice(o),s;o++}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},e}();function Bh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Tp)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Hh(e){if(1===e.numberOfChildren&&e.children[wp]){var t=e.children[wp];return new Fp(e.segments.concat(t.segments),t.children)}return e}function qh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Vh(e){return e.outlet||wp}var zh=function(){return function(e){this.path=e,this.route=this.path[this.path.length-1]}}(),Gh=function(){return function(e,t){this.component=e,this.route=t}}();function Kh(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Wh(e,t,n,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var i=uh(t);return e.children.forEach(function(e){!function(e,t,n,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var i=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Hp(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Hp(e.url,t.url)||!Ip(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(e,t)||!Ip(e.queryParams,t.queryParams);case"paramsChange":default:return!_h(e,t)}}(a,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new zh(r)):(i.data=a.data,i._resolvedData=a._resolvedData),Wh(e,t,i.component?s?s.children:null:n,r,o),u&&o.canDeactivateChecks.push(new Gh(s&&s.outlet&&s.outlet.component||null,a))}else a&&Qh(t,s,o),o.canActivateChecks.push(new zh(r)),Wh(e,null,i.component?s?s.children:null:n,r,o)}(e,i[e.value.outlet],n,r.concat([e.value]),o),delete i[e.value.outlet]}),Np(i,function(e,t){return Qh(e,n.getContext(t),o)}),o}function Qh(e,t,n){var r=uh(e),o=e.value;Np(r,function(e,r){Qh(e,o.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Gh(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}var Jh=Symbol("INITIAL_VALUE");function Zh(){return Dc(function(e){return(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return H(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&d(e[0])&&(e=e[0]),re(e,r).lift(new oc(n))}).apply(void 0,c(e.map(function(e){return e.pipe(Cc(1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e[e.length-1];H(n)?e.pop():n=null;var r=e.length;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length||2===e.length&&H(e[1])?oe(e[0]):sc()($l.apply(void 0,e))}(1!==r||n?r>0?re(e,n):Yl(n):Xl(e[0]),t)}}(Jh))}))).pipe(Lc(function(e,t){var n=!1;return t.reduce(function(e,r,o){if(e!==Jh)return e;if(r===Jh&&(n=!0),!n){if(!1===r)return r;if(o===t.length-1||Mh(r))return r}return e},e)},Jh),uc(function(e){return e!==Jh}),ee(function(e){return Mh(e)?e:!0===e}),Cc(1))})}function Yh(e,t){return null!==e&&t&&t(new vp(e)),$l(!0)}function Xh(e,t){return null!==e&&t&&t(new gp(e)),$l(!0)}function $h(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?$l(r.map(function(r){return ac(function(){var o,i=Kh(r,t,n);if(function(e){return e&&Ih(e.canActivate)}(i))o=jp(i.canActivate(t,e));else{if(!Ih(i))throw new Error("Invalid CanActivate guard");o=jp(i(t,e))}return o.pipe(Oc())})})).pipe(Zh()):$l(!0)}function eg(e,t,n){var r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return ac(function(){return $l(t.guards.map(function(o){var i,a=Kh(o,t.node,n);if(function(e){return e&&Ih(e.canActivateChild)}(a))i=jp(a.canActivateChild(r,e));else{if(!Ih(a))throw new Error("Invalid CanActivateChild guard");i=jp(a(r,e))}return i.pipe(Oc())})).pipe(Zh())})});return $l(o).pipe(Zh())}var tg=function(){return function(){}}(),ng=function(){function e(e,t,n,r,o,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=i}return e.prototype.recognize=function(){try{var e=ig(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,wp),n=new ph([],Object.freeze({}),Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,{},wp,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new sh(n,t),o=new hh(this.url,r);return this.inheritParamsAndData(o._root),$l(o)}catch(a){return new M(function(e){return e.error(a)})}},e.prototype.inheritParamsAndData=function(e){var t=this,n=e.value,r=fh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})},e.prototype.processSegmentGroup=function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)},e.prototype.processChildren=function(e,t){var n,r=this,o=qp(t,function(t,n){return r.processSegmentGroup(e,t,n)});return n={},o.forEach(function(e){var t=n[e.value.outlet];if(t){var r=t.url.map(function(e){return e.toString()}).join("/"),o=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}n[e.value.outlet]=e.value}),o.sort(function(e,t){return e.value.outlet===wp?-1:t.value.outlet===wp?1:e.value.outlet.localeCompare(t.value.outlet)}),o},e.prototype.processSegment=function(e,t,n,r){var o,i;try{for(var a=u(e),s=a.next();!s.done;s=a.next()){var l=s.value;try{return this.processSegmentAgainstRoute(l,t,n,r)}catch(c){if(!(c instanceof tg))throw c}}}catch(d){o={error:d}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(t,n,r))return[];throw new tg},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.processSegmentAgainstRoute=function(e,t,n,r){if(e.redirectTo)throw new tg;if((e.outlet||wp)!==r)throw new tg;var o,a=[],s=[];if("**"===e.path){var u=n.length>0?Dp(n).parameters:{};o=new ph(n,u,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,ug(e),r,e.component,e,rg(t),og(t)+n.length,lg(e))}else{var l=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new tg;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Tp)(n,e,t);if(!r)throw new tg;var o={};Np(r.posParams,function(e,t){o[t]=e.path});var a=r.consumed.length>0?i({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(t,e,n);a=l.consumedSegments,s=n.slice(l.lastChild),o=new ph(a,l.parameters,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,ug(e),r,e.component,e,rg(t),og(t)+a.length,lg(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),d=ig(t,a,s,c,this.relativeLinkResolution),f=d.segmentGroup,p=d.slicedSegments;if(0===p.length&&f.hasChildren()){var h=this.processChildren(c,f);return[new sh(o,h)]}if(0===c.length&&0===p.length)return[new sh(o,[])];var g=this.processSegment(c,f,p,wp);return[new sh(o,g)]},e}();function rg(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function og(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function ig(e,t,n,r,o){if(n.length>0&&function(e,t,n){return r.some(function(n){return ag(e,t,n)&&sg(n)!==wp})}(e,n)){var a=new Fp(t,function(e,t,n,r){var o,i,a={};a[wp]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;try{for(var s=u(n),l=s.next();!l.done;l=s.next()){var c=l.value;if(""===c.path&&sg(c)!==wp){var d=new Fp([],{});d._sourceSegment=e,d._segmentIndexShift=t.length,a[sg(c)]=d}}}catch(f){o={error:f}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return a}(e,t,r,new Fp(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return r.some(function(n){return ag(e,t,n)})}(e,n)){var s=new Fp(e.segments,function(e,t,n,r,o,a){var s,l,c={};try{for(var d=u(r),f=d.next();!f.done;f=d.next()){var p=f.value;if(ag(e,n,p)&&!o[sg(p)]){var h=new Fp([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===a?e.segments.length:t.length,c[sg(p)]=h}}}catch(g){s={error:g}}finally{try{f&&!f.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}return i({},o,c)}(e,t,n,r,e.children,o));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var l=new Fp(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function ag(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function sg(e){return e.outlet||wp}function ug(e){return e.data||{}}function lg(e){return e.resolve||{}}function cg(e,t,n,r){var o=Kh(e,t,r);return jp(o.resolve?o.resolve(t,n):o(t,n))}function dg(e){return function(t){return t.pipe(Dc(function(t){var n=e(t);return n?oe(n).pipe(ee(function(){return t})):oe([t])}))}}var fg=function(){return function(){}}(),pg=function(){function e(){}return e.prototype.shouldDetach=function(e){return!1},e.prototype.store=function(e,t){},e.prototype.shouldAttach=function(e){return!1},e.prototype.retrieve=function(e){return null},e.prototype.shouldReuseRoute=function(e,t){return e.routeConfig===t.routeConfig},e}(),hg=new Ce("ROUTES"),gg=function(){function e(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}return e.prototype.load=function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(ee(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var o=r.create(e);return new Rp(Mp(o.injector.get(hg)).map(Op),o)}))},e.prototype.loadModuleFactory=function(e){var t=this;return"string"==typeof e?oe(this.loader.load(e)):jp(e()).pipe(ie(function(e){return e instanceof $r?$l(e):oe(t.compiler.compileModuleAsync(e))}))},e}(),yg=function(){return function(){}}(),vg=function(){function e(){}return e.prototype.shouldProcessUrl=function(e){return!0},e.prototype.extract=function(e){return e},e.prototype.merge=function(e,t){return e},e}();function _g(e){throw e}function mg(e,t,n){return t.parse("/")}function bg(e,t){return $l(null)}var wg=function(){function e(e,t,n,r,o,i,a,s){var u=this;this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new F,this.errorHandler=_g,this.malformedUriErrorHandler=mg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bg,afterPreactivation:bg},this.urlHandlingStrategy=new vg,this.routeReuseStrategy=new pg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Xr),this.console=o.get(gi);var l=o.get(Ai);this.isNgZoneEnabled=l instanceof Ai,this.resetConfig(s),this.currentUrlTree=new Up(new Fp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new gg(i,a,function(e){return u.triggerEvent(new pp(e))},function(e){return u.triggerEvent(new hp(e))}),this.routerState=ch(this.currentUrlTree,this.rootComponentType),this.transitions=new ec({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return e.prototype.setupNavigations=function(e){var t=this,n=this.events;return e.pipe(uc(function(e){return 0!==e.id}),ee(function(e){return i({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),yc(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?i({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Dc(function(e){var r,o,a,s,l=!1,c=!1;return $l(e).pipe(Dc(function(e){var r,o,a,s,u=!t.navigated||e.extractedUrl.toString()!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||u)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return $l(e).pipe(Dc(function(e){var r=t.transitions.getValue();return n.next(new op(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Zl:[e]}),Dc(function(e){return Promise.resolve(e)}),(r=t.ngModule.injector,o=t.configLoader,a=t.urlSerializer,s=t.config,function(e){return e.pipe(Dc(function(e){return function(t,n,r,o,i){return new Fh(t,n,r,e.extractedUrl,i).apply()}(r,o,a,0,s).pipe(ee(function(t){return i({},e,{urlAfterRedirects:t})}))}))}),yc(function(e){t.currentNavigation=i({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,n,r,o,a){return function(r){return r.pipe(ie(function(r){return function(e,t,n,r,o,i){return void 0===o&&(o="emptyOnly"),void 0===i&&(i="legacy"),new ng(e,t,n,r,o,i).recognize()}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),o,a).pipe(ee(function(e){return i({},r,{targetSnapshot:e})}));var s}))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),yc(function(e){return"eager"===t.urlUpdateStrategy&&!e.extras.skipLocationChange&&t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id)}),yc(function(e){var r=new up(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(u&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.extractedUrl,c=e.source,d=e.restoredState,f=e.extras,p=new op(e.id,t.serializeUrl(l),c,d);n.next(p);var h=ch(l,t.rootComponentType).snapshot;return $l(i({},e,{targetSnapshot:h,urlAfterRedirects:l,extras:i({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,e.resolve(null),Zl}),dg(function(e){var n=e.extras;return t.hooks.beforePreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),yc(function(e){var n=new lp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),ee(function(e){return i({},e,{guards:(n=e.targetSnapshot,r=e.currentSnapshot,o=t.rootContexts,a=n._root,Wh(a,r?r._root:null,o,[a.value]))});var n,r,o,a}),function(e,t){return function(n){return n.pipe(ie(function(n){var r=n.targetSnapshot,o=n.currentSnapshot,a=n.guards,s=a.canActivateChecks,u=a.canDeactivateChecks;return 0===u.length&&0===s.length?$l(i({},n,{guardsResult:!0})):function(e,t,n,r){return oe(u).pipe(ie(function(e){return function(e,t,n,r,o){var i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?$l(i.map(function(i){var a,s=Kh(i,t,o);if(function(e){return e&&Ih(e.canDeactivate)}(s))a=jp(s.canDeactivate(e,t,n,r));else{if(!Ih(s))throw new Error("Invalid CanDeactivate guard");a=jp(s(e,t,n,r))}return a.pipe(Oc())})).pipe(Zh()):$l(!0)}(e.component,e.route,n,t,r)}),Oc(function(e){return!0!==e},!0))}(0,r,o,e).pipe(ie(function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return oe(s).pipe(Bc(function(t){return oe([Xh(t.route.parent,r),Yh(t.route,r),eg(e,t.path,n),$h(e,t.route,n)]).pipe(sc(),Oc(function(e){return!0!==e},!0))}),Oc(function(e){return!0!==e},!0))}(r,0,e,t):$l(n)}),ee(function(e){return i({},n,{guardsResult:e})}))}))}}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),yc(function(e){if(Mh(e.guardsResult)){var n=xp('Redirecting to "'+t.serializeUrl(e.guardsResult)+'"');throw n.url=e.guardsResult,n}}),yc(function(e){var n=new cp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)}),uc(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new ap(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),dg(function(e){if(e.guards.canActivateChecks.length)return $l(e).pipe(yc(function(e){var n=new dp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(ie(function(e){var t=e.targetSnapshot,o=e.guards.canActivateChecks;return o.length?oe(o).pipe(Bc(function(e){return function(e,n,r,o){return function(e,t,n,r){var o=Object.keys(e);if(0===o.length)return $l({});if(1===o.length){var i=o[0];return cg(e[i],t,n,r).pipe(ee(function(e){var t;return(t={})[i]=e,t}))}var a={};return oe(o).pipe(ie(function(o){return cg(e[o],t,n,r).pipe(ee(function(e){return a[o]=e,e}))})).pipe(Pc(),ee(function(){return a}))}(e._resolve,e,t,o).pipe(ee(function(t){return e._resolvedData=t,e.data=i({},e.data,fh(e,r).resolve),null}))}(e.route,0,n,r)}),function(e,t){return arguments.length>=2?function(t){return O(Lc(e,void 0),pc(1),wc(void 0))(t)}:function(t){return O(Lc(function(t,n,r){return e(t)}),pc(1))(t)}}(function(e,t){return e}),ee(function(t){return e})):$l(e)}))}),yc(function(e){var n=new fp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}));var n,r}),dg(function(e){var n=e.extras;return t.hooks.afterPreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),ee(function(e){var n,r,o,a=(o=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){(l=r.value)._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map(function(n){var o,i;try{for(var a=u(r.children),s=a.next();!s.done;s=a.next()){var l=s.value;if(t.shouldReuseRoute(l.value.snapshot,n.value))return e(t,n,l)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}return e(t,n)})}(t,n,r);return new sh(l,o)}var i=t.retrieve(n.value);if(i){var a=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,a),a}var s,l=new dh(new ec((s=n.value).url),new ec(s.params),new ec(s.queryParams),new ec(s.fragment),new ec(s.data),s.outlet,s.component,s);return o=n.children.map(function(n){return e(t,n)}),new sh(l,o)}(t.routeReuseStrategy,(n=e.targetSnapshot)._root,(r=e.currentRouterState)?r._root:void 0),new lh(o,n));return i({},e,{targetRouterState:a})}),yc(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"!==t.urlUpdateStrategy||e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state)}),(o=t.rootContexts,a=t.routeReuseStrategy,s=function(e){return t.triggerEvent(e)},ee(function(e){return new Ah(a,e.targetRouterState,e.currentRouterState,s).activate(o),e})),yc({next:function(){l=!0},complete:function(){l=!0}}),(r=function(){if(!l&&!c){t.resetUrlToCurrentUrlTree();var r=new ap(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID "+e.id+" is not equal to the current navigation id "+t.navigationId);n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Hc(r))}),xc(function(r){if(c=!0,(s=r)&&s[Pp]){t.navigated=!0;var o=Mh(r.url);o||t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var i=new ap(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(i),e.resolve(!1),o&&t.navigateByUrl(r.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new sp(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(u){e.reject(u)}}var s;return Zl}))}))},e.prototype.resetRootComponentType=function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType},e.prototype.getTransition=function(){return this.transitions.value},e.prototype.setTransition=function(e){this.transitions.next(i({},this.getTransition(),e))},e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",o=t.state&&t.state.navigationId?t.state:null;setTimeout(function(){e.scheduleNavigation(n,r,o,{replaceUrl:!0})},0)}))},Object.defineProperty(e.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),e.prototype.getCurrentNavigation=function(){return this.currentNavigation},e.prototype.triggerEvent=function(e){this.events.next(e)},e.prototype.resetConfig=function(e){Cp(e),this.config=e.map(Op),this.navigated=!1,this.lastSuccessfulId=-1},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},e.prototype.createUrlTree=function(e,t){void 0===t&&(t={});var n=t.relativeTo,r=t.queryParams,o=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,u=t.preserveFragment;wo()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,d=u?this.currentUrlTree.fragment:o,f=null;if(s)switch(s){case"merge":f=i({},this.currentUrlTree.queryParams,r);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=r||null}else f=a?this.currentUrlTree.queryParams:r||null;return null!==f&&(f=this.removeEmptyProps(f)),function(e,t,n,r,o){if(0===n.length)return bh(t.root,t.root,t,r,o);var i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wh(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return Np(r.outlets,function(e,t){i[t]="string"==typeof e?e.split("/"):e}),c(e,[{outlets:i}])}if(r.segmentPath)return c(e,[r.segmentPath])}return"string"!=typeof r?c(e,[r]):0===o?(r.split("/").forEach(function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):c(e,[r])},[]);return new wh(n,t,r)}(n);if(i.toRoot())return bh(t.root,new Fp([],{}),t,r,o);var a=function(e,n,r){if(e.isAbsolute)return new Eh(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Eh(r.snapshot._urlSegment,!0,0);var o=mh(e.commands[0])?0:1;return function(t,n,i){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+o,u=e.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Eh(a,!1,s-u)}()}(i,0,e),s=a.processChildren?xh(a.segmentGroup,a.index,i.commands):Ph(a.segmentGroup,a.index,i.commands);return bh(a.segmentGroup,s,t,r,o)}(l,this.currentUrlTree,e,f,d)},e.prototype.navigateByUrl=function(e,t){void 0===t&&(t={skipLocationChange:!1}),wo()&&this.isNgZoneEnabled&&!Ai.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Mh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+t)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t},e.prototype.isActive=function(e,t){if(Mh(e))return Lp(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Lp(this.currentUrlTree,n,t)},e.prototype.removeEmptyProps=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})},e.prototype.processNavigations=function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new ip(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})},e.prototype.scheduleNavigation=function(e,t,n,r){var o=this.getTransition();if(o&&"imperative"!==t&&"imperative"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"hashchange"==t&&"popstate"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"popstate"==t&&"hashchange"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);var i=null,a=null,s=new Promise(function(e,t){i=e,a=t}),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:i,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})},e.prototype.setBrowserUrl=function(e,t,n,r){var o=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(o)||t?this.location.replaceState(o,"",i({},r,{navigationId:n})):this.location.go(o,"",i({},r,{navigationId:n}))},e.prototype.resetStateAndUrl=function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},e.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},e}(),Eg=function(){function e(e,t,n){var r=this;this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(function(e){e instanceof ip&&r.updateTargetUrlAndHref()})}return Object.defineProperty(e.prototype,"routerLink",{set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preserveQueryParams",{set:function(e){wo()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.updateTargetUrlAndHref()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.onClick=function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Sg(this.skipLocationChange),replaceUrl:Sg(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1},e.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(e.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Sg(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Sg(this.preserveFragment)})},enumerable:!0,configurable:!0}),a([Yo("attr.target"),Zo(),s("design:type",String)],e.prototype,"target",void 0),e}();function Sg(e){return""===e||!!e}var Pg=function(){function e(e,t,n,r){var o=this;this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(function(e){e instanceof ip&&o.update()})}return e.prototype.ngAfterContentInit=function(){var e=this;this.links.changes.subscribe(function(t){return e.update()}),this.linksWithHrefs.changes.subscribe(function(t){return e.update()}),this.update()},Object.defineProperty(e.prototype,"routerLinkActive",{set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.update()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.update=function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})},e.prototype.isLinkActive=function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}},e.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},e}(),xg=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Tg,this.attachRef=null}}(),Tg=function(){function e(){this.contexts=new Map}return e.prototype.onChildOutletCreated=function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)},e.prototype.onChildOutletDestroyed=function(e){var t=this.getContext(e);t&&(t.outlet=null)},e.prototype.onOutletDeactivated=function(){var e=this.contexts;return this.contexts=new Map,e},e.prototype.onOutletReAttached=function(e){this.contexts=e},e.prototype.getOrCreateContext=function(e){var t=this.getContext(e);return t||(t=new xg,this.contexts.set(e,t)),t},e.prototype.getContext=function(e){return this.contexts.get(e)||null},e}(),Rg=function(){function e(e,t,n,r,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new zo,this.deactivateEvents=new zo,this.name=r||wp,e.onChildOutletCreated(this.name,this)}return e.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},e.prototype.ngOnInit=function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},Object.defineProperty(e.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),e.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e},e.prototype.attach=function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)},e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}},e.prototype.activateWith=function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new Cg(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},e}(),Cg=function(){function e(e,t,n){this.route=e,this.childContexts=t,this.parent=n}return e.prototype.get=function(e,t){return e===dh?this.route:e===Tg?this.childContexts:this.parent.get(e,t)},e}(),kg=function(){return function(){}}(),Ag=function(){function e(){}return e.prototype.preload=function(e,t){return t().pipe(xc(function(){return $l(null)}))},e}(),Og=function(){function e(){}return e.prototype.preload=function(e,t){return $l(null)},e}(),Ig=function(){function e(e,t,n,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new gg(t,n,function(t){return e.triggerEvent(new pp(t))},function(t){return e.triggerEvent(new hp(t))})}return e.prototype.setUpPreloading=function(){var e=this;this.subscription=this.router.events.pipe(uc(function(e){return e instanceof ip}),Bc(function(){return e.preload()})).subscribe(function(){})},e.prototype.preload=function(){var e=this.injector.get(Xr);return this.processRoutes(e,this.router.config)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.processRoutes=function(e,t){var n,r,o=[];try{for(var i=u(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var l=s._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?o.push(this.preloadConfig(e,s)):s.children&&o.push(this.processRoutes(e,s.children))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return oe(o).pipe(le(),ee(function(e){}))},e.prototype.preloadConfig=function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return n.loader.load(e.injector,t).pipe(ie(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})},e}(),Mg=function(){function e(e,t,n){void 0===n&&(n={}),this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return e.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},e.prototype.createScrollEvents=function(){var e=this;return this.router.events.subscribe(function(t){t instanceof op?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ip&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})},e.prototype.consumeScrollEvents=function(){var e=this;return this.router.events.subscribe(function(t){t instanceof mp&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})},e.prototype.scheduleScrollEvent=function(e,t){this.router.triggerEvent(new mp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))},e.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},e}(),Dg=new Ce("ROUTER_CONFIGURATION"),Ng=new Ce("ROUTER_FORROOT_GUARD"),jg=[Wc,{provide:Vp,useClass:zp},{provide:wg,useFactory:Vg,deps:[Wi,Vp,Tg,Wc,vr,Jo,Si,hg,Dg,[yg,new Lt],[fg,new Lt]]},Tg,{provide:dh,useFactory:zg,deps:[wg]},{provide:Jo,useClass:Xi},Ig,Og,Ag,{provide:Dg,useValue:{enableTracing:!1}}];function Lg(){return new qi("Router",wg)}var Ug=function(){function e(e,t){}var t;return t=e,e.forRoot=function(e,n){return{ngModule:t,providers:[jg,qg(e),{provide:Ng,useFactory:Hg,deps:[[wg,new Lt,new Ft]]},{provide:Dg,useValue:n||{}},{provide:Gc,useFactory:Bg,deps:[Vc,[new jt(Kc),new Lt],Dg]},{provide:Mg,useFactory:Fg,deps:[wg,Gd,Dg]},{provide:kg,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Og},{provide:qi,multi:!0,useFactory:Lg},[Gg,{provide:si,multi:!0,useFactory:Kg,deps:[Gg]},{provide:Qg,useFactory:Wg,deps:[Gg]},{provide:hi,multi:!0,useExisting:Qg}]]}},e.forChild=function(e){return{ngModule:t,providers:[qg(e)]}},e}();function Fg(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Mg(e,t,n)}function Bg(e,t,n){return void 0===n&&(n={}),n.useHash?new Jc(e,t):new Zc(e,t)}function Hg(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function qg(e){return[{provide:De,multi:!0,useValue:e},{provide:hg,multi:!0,useValue:e}]}function Vg(e,t,n,r,o,i,a,s,u,l,c){void 0===u&&(u={});var d=new wg(null,t,n,r,o,i,a,Mp(s));if(l&&(d.urlHandlingStrategy=l),c&&(d.routeReuseStrategy=c),u.errorHandler&&(d.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(d.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Qd();d.events.subscribe(function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()})}return u.onSameUrlNavigation&&(d.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(d.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(d.relativeLinkResolution=u.relativeLinkResolution),d}function zg(e){return e.routerState.root}var Gg=function(){function e(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new F}return e.prototype.appInitializer=function(){var e=this;return this.injector.get(zc,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(wg),o=e.injector.get(Dg);if(e.isLegacyDisabled(o)||e.isLegacyEnabled(o))t(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return e.initNavigation?$l(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n})},e.prototype.bootstrapListener=function(e){var t=this.injector.get(Dg),n=this.injector.get(Ig),r=this.injector.get(Mg),o=this.injector.get(wg),i=this.injector.get(Wi);e===i.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},e.prototype.isLegacyEnabled=function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation},e.prototype.isLegacyDisabled=function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation},e}();function Kg(e){return e.appInitializer.bind(e)}function Wg(e){return e.bootstrapListener.bind(e)}var Qg=new Ce("Router Initializer"),Jg=Ja({encapsulation:2,styles:[],data:{}});function Zg(e){return Hu(0,[(e()(),xs(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),pu(1,212992,null,0,Rg,[Tg,ta,Jr,[8,null],ra],null,null)],function(e,t){e(t,1,0)},null)}function Yg(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"ng-component",[],null,null,null,Zg,Jg)),pu(1,49152,null,0,bp,[],null,null)],null,null)}var Xg=Vs("ng-component",bp,Yg,{},{},[]),$g=function(){return function(){}}(),ey=Ja({encapsulation:2,styles:[],data:{}});function ty(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Uu(-1,null,["Software developer, music artist, weightlifter, earthling"])),(e()(),xs(2,0,null,null,17,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" Welcome to my website."])),(e()(),xs(4,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I want to share my creations and progress on my passions: "])),(e()(),xs(6,0,null,null,1,"a",[["href","/music"]],null,null,null,null,null)),(e()(),Uu(-1,null,["music"])),(e()(),Uu(-1,null,[", "])),(e()(),xs(9,0,null,null,1,"a",[["href","/lifting"]],null,null,null,null,null)),(e()(),Uu(-1,null,["weightlifting"])),(e()(),Uu(-1,null,[" and "])),(e()(),xs(12,0,null,null,1,"a",[["href","/code"]],null,null,null,null,null)),(e()(),Uu(-1,null,["programming"])),(e()(),Uu(-1,null,["."])),(e()(),xs(15,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I'm a Senior Developer at "])),(e()(),xs(17,0,null,null,1,"a",[["href","https://king.com"]],null,null,null,null,null)),(e()(),Uu(-1,null,["King"])),(e()(),Uu(-1,null,[" where I develop shared tech for the mobile games.\n"])),(e()(),xs(20,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Uu(-1,null,["Background & Family"])),(e()(),xs(22,0,null,null,5,"figure",[],null,null,null,null,null)),(e()(),xs(23,0,null,null,0,"img",[["alt","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson"],["class","image"],["src","../assets/family.jpg"],["title","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson"]],null,null,null,null,null)),(e()(),xs(24,0,null,null,3,"figcaption",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" The family, from left to right:"])),(e()(),xs(26,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson "])),(e()(),xs(28,0,null,null,6,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I was born in 1982 and raised in Reykjavik, Iceland."])),(e()(),xs(30,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" Since 2014 I live in Stockholm, Sweden with my wonderful wife Jantra Phosri and daughter Soff\xeda R\xf3s Egilsd\xf3ttir."])),(e()(),xs(32,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I'm a proud bonus/step dad of Andri Reyr Ragnarsson who lives in Norway."])),(e()(),xs(34,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),xs(35,0,null,null,7,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I'm son of Anton Angant\xfdsson (that's what my last name literally means) and Halla Soff\xeda J\xf3nasd\xf3ttir and they live in Iceland."])),(e()(),xs(37,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I have a brother J\xf3nas B. Antonsson and he also lives in Stockholm and he's unpublishing games like a Boss at "])),(e()(),xs(39,0,null,null,1,"a",[["href","https://rawfury.com"]],null,null,null,null,null)),(e()(),Uu(-1,null,["Raw Fury"])),(e()(),Uu(-1,null,["."])),(e()(),xs(42,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),xs(43,0,null,null,9,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" Our two older brothers J\xf3nas Bj\xf6rgvin Antonsson and Egill Antonsson passed away before I was born."])),(e()(),xs(45,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" They played music and painted pictures and according to family and friends were brilliant boys."])),(e()(),xs(47,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I've digitalized their music that they recorded on a cassette in the early 1970s, you can listen to it under the "])),(e()(),xs(49,0,null,null,1,"a",[["href","/music;by=4;track=0"]],null,null,null,null,null)),(e()(),Uu(-1,null,["J\xf3nas & Egill seniors"])),(e()(),Uu(-1,null,[" section in my music player."])),(e()(),xs(52,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function ny(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"app-home",[],null,null,null,ty,ey)),pu(1,49152,null,0,$g,[],null,null)],null,null)}var ry=Vs("app-home",$g,ny,{},{},[]),oy=function(){return function(){}}(),iy=Ja({encapsulation:0,styles:[[""]],data:{}});function ay(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Uu(-1,null,["Building with the bleeps and bloops and the 1s and 0s"])),(e()(),xs(2,0,null,null,11,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" My code repositories are on "])),(e()(),xs(4,0,null,null,1,"a",[["href","https://github.com/EgillAntonsson"]],null,null,null,null,null)),(e()(),Uu(-1,null,["GitHub"])),(e()(),Uu(-1,null,[","])),(e()(),xs(7,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" and so are my "])),(e()(),xs(9,0,null,null,1,"a",[["href","https://gist.github.com/EgillAntonsson"]],null,null,null,null,null)),(e()(),Uu(-1,null,["code snippets"])),(e()(),Uu(-1,null,["."])),(e()(),xs(12,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" The main repositories are:\n"])),(e()(),xs(14,0,null,null,2,"h3",[],null,null,null,null,null)),(e()(),xs(15,0,null,null,1,"a",[["href","https://github.com/EgillAntonsson/EgillAntonsson-website"]],null,null,null,null,null)),(e()(),Uu(-1,null,["Egill Antonsson website - Development"])),(e()(),xs(17,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" The development project of this website (yes the one you're reading right now!)\n"])),(e()(),xs(19,0,null,null,2,"h3",[],null,null,null,null,null)),(e()(),xs(20,0,null,null,1,"a",[["href","https://github.com/EgillAntonsson/EgillAntonsson.github.io"]],null,null,null,null,null)),(e()(),Uu(-1,null,["Egill Antonsson website - Deploy"])),(e()(),xs(22,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" The code repository where the production ready files of this website (yes the one you're reading right now!) are pushed to and then deployed.\n"]))],null,null)}function sy(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"app-programming",[],null,null,null,ay,iy)),pu(1,49152,null,0,oy,[],null,null)],null,null)}var uy=Vs("app-programming",oy,sy,{},{},[]),ly=function(){function e(){}return e.prototype.transform=function(e){return Math.floor(e/60).toString()+(e%60<10?":0":":")+(e%60).toString()},e}(),cy=function(){function e(){this.soundcloud=n("2ZB1")}return e.prototype.initialize=function(e){this.soundcloud.initialize(e)},e.prototype.stream=function(e,t){this.soundcloud.stream(e).then(function(e){t(e)})},e.prototype.get=function(e,t){this.soundcloud.get(e).then(function(e){t(e)})},e.ngInjectableDef=xe({factory:function(){return new e},token:e,providedIn:"root"}),e}(),dy=function(){function e(e,t){var n=this;this.scService=e,this.route=t,this.bioKuai='The instrumental post-rock band KUAI was formed in Reykjavik, Iceland, in the summer of 1998.\nThey released the album kuai in 2001 that the band and Elmar \xde\xf3r Gilbertsson recorded and mixed.\nThe band played on various venues in Reykjavik where the largest one was playing before the band Blonde Redhead in Laugardalsh\xf6ll at Reykjavik Mini-festival in 2001.\nIn an interview around that time the band members were asked to explain their music in words and their response was "it\'s instrumental rock, maybe a bit experimental at times, and at other times the band would plow into rock and heavy metal, where all the member\'s music roots stem from, and here and there sprinkled lightly with subtle jazz influence."\n\nThe songs on the album kuai were recorded by playing them as performing "live", instead of the usual method of recording each instrument one at a time.\nAdditional guitar parts were overdubbed afterwards among other instruments.\nEgill played organ and piano, Gu\xf0mundur arranged the cello parts that Hallgr\xedmur J\xf3nas Jensson and Rannveig Bjarnad\xf3ttir played.\nSteinar Sigur\xf0sson played saxaphone on Andefni.\nThe band and Elmar \xde\xf3r Gilbertsson recorded and mixed all the songs from September 2000 to June 2001 except the song Rover, which was recorded and mixed by J\xf3n Elvar Hafsteinsson in 1999.\nThe album was mastered by Bjarni Bragi.',this.user={},this.isInitalized=!1,this.selectedTrack={indexWithinBy:-1,name:"select a track",id:-1,by:"",description:"",durationInSec:0,hasPlayedOnce:!1},this.selectedByIndex=-1,this.openedUiByIndex=-1,this.timeInSec=0,this.byGogogic="Audio for Gogogic",this.byEgill="Egill Antonsson",this.byKuai="KUAI",this.byToo="Tribe of Oranges",this.bySeniors="J\xf3nas & Egill seniors",this.scService.initialize({client_id:"NZtb1cCBbHFHV67f1Fp9jkGKog0H4StA"}),this.byTracksArr=[{by:this.byGogogic,tracks:[{name:"Vikings of Thule",id:286944930},{name:"Iceland Socks Intro",id:307751458},{name:"VoT (original mix)",id:185133958}],byBio:""},{by:this.byEgill,tracks:[{name:"Fort\xed\xf0in",id:265756824},{name:"Toddler Tune",id:244801989},{name:"Odd Times In Space",id:273048355},{name:"LeCube",id:212448413}],byBio:""},{by:this.byKuai,tracks:[{name:"Pirringur",id:493455450},{name:"Apollo",id:493455435},{name:"Andsetinn",id:493455411},{name:"Hamskipti",id:493455396},{name:"Rover",id:493455372},{name:"Andefni",id:493455357},{name:"Agndofa",id:493455342},{name:"Ofurte",id:493455318},{name:"Lesblinda I",id:493455303},{name:"Lesblinda II",id:493455276}],byBio:this.bioKuai},{by:this.byToo,tracks:[{name:"Routine",id:191481586},{name:"Introduction",id:214031252}],byBio:""},{by:this.bySeniors,tracks:[{name:"Rubber",id:373876877},{name:"Mouse",id:374218076},{name:"G\xedtars\xf3l\xf3in",id:375296450},{name:"Tromm",id:377705372},{name:"P\xe9si",id:375731609}],byBio:""}];for(var r=0;r<this.byTracksArr.length;r++)for(var o=0;o<this.byTracksArr[r].tracks.length;o++){var i=this.byTracksArr[r].tracks[o];i.indexWithinBy=o,i.by=this.byTracksArr[r].by,i.byBio=this.byTracksArr[r].byBio,i.hasPlayedOnce=!1,i.description="",i.durationInSec=0}var a=this.route.snapshot.paramMap,s=Number(a.get("by")),u=Number(a.get("track")),l=isNaN(s)?0:s,c=isNaN(u)?0:u;this.selectedByIndex=this.openedUiByIndex=l,this.prepNewStream(this.byTracksArr[this.selectedByIndex].tracks[c],!1),this.scService.get("users/6308122",function(e){n.user.avatarUrl=e.avatar_url,console.log(l)})}return e.prototype.onByClick=function(e){this.openedUiByIndex=this.openedUiByIndex===e?-1:e},e.prototype.onTrackClick=function(e){this.selectedByIndex=this.openedUiByIndex,this.prepNewStream(e,!0)},e.prototype.onBuyClick=function(){window.open(this.selectedTrack.purchaseUrl,"_blank")},e.prototype.prepNewStream=function(e,t){var n=this;this.isInitalized=!0,this.selectedTrack=e,null!=this.scPlayer&&this.scPlayer.kill(),this.isTrackReady=!1;var r="/tracks/"+this.selectedTrack.id.toString();this.scService.stream(r,function(e){n.scPlayer=e,e.on("time",function(e){var t=Math.floor(e/1e3);n.timeInSec!==t&&(n.timeInSec=t)}),e.on("finish",function(){var e=0;n.selectedTrack.indexWithinBy===n.byTracksArr[n.selectedByIndex].tracks.length-1?n.selectedByIndex===n.byTracksArr.length-1?n.selectedByIndex=0:n.selectedByIndex++:e=n.selectedTrack.indexWithinBy+1,n.openedUiByIndex=n.selectedByIndex,n.prepNewStream(n.byTracksArr[n.selectedByIndex].tracks[e],!0)}),t?(e.play(),n.isPlaying=!0):e.pause()}),this.scService.get(r,function(e){n.isTrackReady=!0,n.selectedTrack.hasPlayedOnce||(n.selectedTrack.hasPlayedOnce=!0,n.selectedTrack.description=e.description,n.selectedTrack.durationInSec=Math.floor(e.duration/1e3),n.selectedTrack.purchaseUrl=e.purchase_url,n.selectedTrack.permalinkUrl=e.permalink_url,n.selectedTrack.artworkUrl=(e.artwork_url?e.artwork_url:n.user.avatarUrl).replace("large","t500x500"),n.selectedTrack.liked=e.favoritings_count+1),console.log(e),console.log(n.selectedTrack.artworkUrl)})},e.prototype.getTrackDescriptionLines=function(){return this.selectedTrack.description.split("\n")},e.prototype.getByBioLines=function(){return this.selectedTrack.byBio.split("\n")},e.prototype.onPlayPause=function(){null!=this.scPlayer&&(this.scPlayer.isPlaying()?(this.scPlayer.pause(),this.isPlaying=!1):(this.scPlayer.play(),this.isPlaying=!0))},e.prototype.ngOnDestroy=function(){null!=this.scPlayer&&this.scPlayer.kill()},e}(),fy=Ja({encapsulation:0,styles:[[".fadein[_ngcontent-%COMP%]{-webkit-animation:.5s linear fadein;animation:.5s linear fadein}@-webkit-keyframes fadein{0%{opacity:0}100%{opacity:1}}@keyframes fadein{0%{opacity:0}100%{opacity:1}}.playerContainer[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--colorDarkLight);border-radius:1em;padding:.6em .5em}.playerText[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-weight:700}.playPauseContainer[_ngcontent-%COMP%]{float:left;padding-top:1px;padding-left:2.5%;width:8%}.play[_ngcontent-%COMP%]{-webkit-clip-path:polygon(50% 0,0 100%,100% 100%);clip-path:polygon(50% 0,0 100%,100% 100%);background:var(--colorActive);width:23px;height:15px;-webkit-transform:translateX(-10%) translateY(10%) rotate(90deg);transform:translateX(-10%) translateY(10%) rotate(90deg);transition:all .2s}.pause[_ngcontent-%COMP%]{width:7px;height:18px;border-right:5px solid var(--colorPending);border-left:5px solid var(--colorPending);transition:all .2s}.byIconContainer[_ngcontent-%COMP%]{float:left;margin-right:.75em}.byIcon[_ngcontent-%COMP%]{background:#969896;width:8px;height:8px;transition:all .2s;margin:auto}.animateClose[_ngcontent-%COMP%]{-webkit-transform:translateY(6px) rotate(0);transform:translateY(6px) rotate(0);transition:all .1s}.animateOpen[_ngcontent-%COMP%]{-webkit-transform:translateY(5px) rotate(225deg);transform:translateY(5px) rotate(225deg);transition:all .4s ease-out}.timer[_ngcontent-%COMP%]{float:right;padding-right:2.5%;padding-top:1.5px}ul[_ngcontent-%COMP%]{list-style:none;cursor:pointer}.allByContainer[_ngcontent-%COMP%]{width:95%;margin-left:5%;float:left;margin-top:2em;margin-bottom:2em;cursor:pointer}.byContainer[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:2px}.trackContainer[_ngcontent-%COMP%]{margin-left:2em;line-height:22px}.track[_ngcontent-%COMP%]{font-weight:700;font-family:Arial,Helvetica,sans-serif;padding-top:1.5px}.artworkContainer[_ngcontent-%COMP%]{float:right;width:50%;margin-top:2em;margin-bottom:2em}.artworkImage[_ngcontent-%COMP%]{width:100%;max-width:500px;border-radius:5%;display:block;margin:0 auto}.buttonRow[_ngcontent-%COMP%]{float:right;width:100%}.button[_ngcontent-%COMP%]{background:var(--colorDarkDark);color:#ccc;font-weight:700;font-family:Arial,Helvetica,sans-serif;height:2em;margin-right:5%;float:right;border:1px solid #999;border-radius:.5em;cursor:pointer;transition-duration:.4s}.button[_ngcontent-%COMP%]:hover{background:var(--colorPending);border-color:var(--colorPending);color:var(--colorDarkDark)}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition-duration:.4s}.button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{background:url(/assets/soundcloud_black.png) center top no-repeat}.button[_ngcontent-%COMP%]:active{background:var(--colorActive);border-color:var(--colorActive)}.scLogo[_ngcontent-%COMP%]{width:104px;height:16px;display:block;background:url(/assets/soundcloud.png) center top no-repeat}.trackDescription[_ngcontent-%COMP%]{float:left}.byBio[_ngcontent-%COMP%]{float:right}@media screen and (max-width:435px){.artworkContainer[_ngcontent-%COMP%]{float:left;width:100%;margin-top:0}}@media screen and (min-width:436px) and (max-width:703px){.playerContainer[_ngcontent-%COMP%]{margin:0 5%}.allByContainer[_ngcontent-%COMP%]{width:45%;margin-left:5%}.artworkContainer[_ngcontent-%COMP%]{width:45%;margin-right:5%}}@media screen and (min-width:704px) and (max-width:1053px){.playerContainer[_ngcontent-%COMP%]{margin:0 10%}.allByContainer[_ngcontent-%COMP%]{width:40%;margin-left:10%}.artworkContainer[_ngcontent-%COMP%]{width:40%;margin-right:10%}.buttonRow[_ngcontent-%COMP%]{margin-right:5%}}@media screen and (min-width:1054px) and (max-width:1403px){.playerContainer[_ngcontent-%COMP%]{margin:0 15%}.allByContainer[_ngcontent-%COMP%]{width:35%;margin-left:15%}.artworkContainer[_ngcontent-%COMP%]{width:35%;margin-right:15%}.buttonRow[_ngcontent-%COMP%]{margin-right:10%}}@media screen and (min-width:1404px){.playerContainer[_ngcontent-%COMP%]{margin:0 20%}.allByContainer[_ngcontent-%COMP%]{width:30%;margin-left:20%}.artworkContainer[_ngcontent-%COMP%]{width:30%;margin-right:20%}.buttonRow[_ngcontent-%COMP%]{margin-right:15%}}"]],data:{}});function py(e){return Hu(0,[(e()(),xs(0,0,null,null,5,"span",[["class","timer playerText"]],null,null,null,null,null)),pu(1,278528,null,0,Dd,[wa,Ea,to,ao],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ju(2,{fadein:0}),(e()(),Uu(3,null,[""," / ",""])),Nu(4,1),Nu(5,1)],function(e,t){var n=e(t,2,0,t.component.isTrackReady);e(t,1,0,"timer playerText",n)},function(e,t){var n=t.component,r=Ka(t,3,0,e(t,4,0,eu(t.parent,0),n.timeInSec)),o=Ka(t,3,1,e(t,5,0,eu(t.parent,0),n.selectedTrack.durationInSec));e(t,3,0,r,o)})}function hy(e){return Hu(0,[(e()(),xs(0,0,null,null,3,"div",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onTrackClick(e.context.$implicit)&&r),r},null,null)),pu(1,278528,null,0,Dd,[wa,Ea,to,ao],{ngClass:[0,"ngClass"]},null),ju(2,{track:0}),(e()(),Uu(3,null,[" "," "]))],function(e,t){var n=e(t,2,0,t.context.$implicit.id===t.component.selectedTrack.id);e(t,1,0,n)},function(e,t){e(t,3,0,t.context.$implicit.name)})}function gy(e){return Hu(0,[(e()(),xs(0,0,null,null,2,"div",[["class","trackContainer fadein"]],null,null,null,null,null)),(e()(),Ps(16777216,null,null,1,null,hy)),pu(2,278528,null,0,jd,[ta,Go,wa],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.tracks)},null)}function yy(e){return Hu(0,[(e()(),xs(0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),xs(1,0,null,null,6,"div",[["class","byContainer"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onByClick(e.context.index)&&r),r},null,null)),(e()(),xs(2,0,null,null,3,"div",[["class","byIconContainer"]],null,null,null,null,null)),(e()(),xs(3,0,null,null,2,"div",[],null,null,null,null,null)),pu(4,278528,null,0,Dd,[wa,Ea,to,ao],{ngClass:[0,"ngClass"]},null),ju(5,{byIcon:0,animateClose:1,animateOpen:2}),(e()(),xs(6,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Uu(7,null,["",""])),(e()(),Ps(16777216,null,null,1,null,gy)),pu(9,16384,null,0,Ud,[ta,Go],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,r=e(t,5,0,!0,n.openedUiByIndex!=t.context.index,n.openedUiByIndex===t.context.index);e(t,4,0,r),e(t,9,0,n.openedUiByIndex===t.context.index)},function(e,t){e(t,7,0,t.context.$implicit.by)})}function vy(e){return Hu(0,[(e()(),xs(0,0,null,null,0,"img",[["class","artworkImage"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,Es(1,"",t.component.selectedTrack.artworkUrl,""))})}function _y(e){return Hu(0,[(e()(),xs(0,0,null,null,0,"a",[["class","scLogo"],["rel","noopener"],["target","_blank"],["title","These tracks on SoundCloud"]],[[8,"href",4]],null,null,null,null))],null,function(e,t){e(t,0,0,Es(1,"",t.component.selectedTrack.permalinkUrl,""))})}function my(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onBuyClick()&&r),r},null,null)),(e()(),Uu(-1,null,["Buy "]))],null,null)}function by(e){return Hu(0,[(e()(),xs(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Uu(1,null,[" ",""])),(e()(),xs(2,0,null,null,0,"br",[],null,null,null,null,null))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function wy(e){return Hu(0,[(e()(),xs(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Uu(1,null,[" ",""])),(e()(),xs(2,0,null,null,0,"br",[],null,null,null,null,null))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function Ey(e){return Hu(0,[(e()(),xs(0,0,null,null,17,"div",[],null,null,null,null,null)),pu(1,278528,null,0,Dd,[wa,Ea,to,ao],{ngClass:[0,"ngClass"]},null),ju(2,{fadein:0}),(e()(),xs(3,0,null,null,2,"div",[["class","artworkContainer"]],null,null,null,null,null)),(e()(),Ps(16777216,null,null,1,null,vy)),pu(5,16384,null,0,Ud,[ta,Go],{ngIf:[0,"ngIf"]},null),(e()(),xs(6,0,null,null,5,"div",[["class","buttonRow"]],null,null,null,null,null)),(e()(),xs(7,0,null,null,2,"button",[["class","button"]],null,null,null,null,null)),(e()(),Ps(16777216,null,null,1,null,_y)),pu(9,16384,null,0,Ud,[ta,Go],{ngIf:[0,"ngIf"]},null),(e()(),Ps(16777216,null,null,1,null,my)),pu(11,16384,null,0,Ud,[ta,Go],{ngIf:[0,"ngIf"]},null),(e()(),xs(12,0,null,null,2,"p",[["class","trackDescription"]],null,null,null,null,null)),(e()(),Ps(16777216,null,null,1,null,by)),pu(14,278528,null,0,jd,[ta,Go,wa],{ngForOf:[0,"ngForOf"]},null),(e()(),xs(15,0,null,null,2,"p",[["class","byBio"]],null,null,null,null,null)),(e()(),Ps(16777216,null,null,1,null,wy)),pu(17,278528,null,0,jd,[ta,Go,wa],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component,r=e(t,2,0,n.isTrackReady);e(t,1,0,r),e(t,5,0,n.selectedTrack.artworkUrl),e(t,9,0,n.selectedTrack.permalinkUrl),e(t,11,0,n.selectedTrack.purchaseUrl),e(t,14,0,n.getTrackDescriptionLines()),e(t,17,0,n.getByBioLines())},null)}function Sy(e){return Hu(0,[hu(0,ly,[]),(e()(),xs(1,0,null,null,8,"div",[["class","playerContainer"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onPlayPause()&&r),r},null,null)),(e()(),xs(2,0,null,null,3,"div",[["class","playPauseContainer"]],null,null,null,null,null)),(e()(),xs(3,0,null,null,2,"div",[],null,null,null,null,null)),pu(4,278528,null,0,Dd,[wa,Ea,to,ao],{ngClass:[0,"ngClass"]},null),ju(5,{play:0,pause:1}),(e()(),xs(6,0,null,null,1,"span",[["class","playerText"]],null,null,null,null,null)),(e()(),Uu(7,null,["",""])),(e()(),Ps(16777216,null,null,1,null,py)),pu(9,16384,null,0,Ud,[ta,Go],{ngIf:[0,"ngIf"]},null),(e()(),xs(10,0,null,null,2,"div",[["class","allByContainer"]],null,null,null,null,null)),(e()(),Ps(16777216,null,null,1,null,yy)),pu(12,278528,null,0,jd,[ta,Go,wa],{ngForOf:[0,"ngForOf"]},null),(e()(),Ps(16777216,null,null,1,null,Ey)),pu(14,16384,null,0,Ud,[ta,Go],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,r=e(t,5,0,!n.isPlaying,n.isPlaying);e(t,4,0,r),e(t,9,0,n.isTrackReady),e(t,12,0,n.byTracksArr),e(t,14,0,n.isTrackReady)},function(e,t){e(t,7,0,t.component.selectedTrack.name)})}function Py(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"app-music",[],null,null,null,Sy,fy)),pu(1,180224,null,0,dy,[cy,dh],null,null)],null,null)}var xy=Vs("app-music",dy,Py,{},{},[]),Ty=function(){function e(){}return e.prototype.transform=function(e,t,n,r){var o;switch(void 0===t&&(t=0),void 0===n&&(n="*"),void 0===r&&(r=1),n){case"/":o=e/r;break;case"*":o=e*r;break;default:throw new RangeError('parameter "conversionSign" can only have value "/" or "*"')}var i=o.toFixed(t),a=[],s=i.includes(".")?i.indexOf("."):i.length;if(s<3)return i;for(var u=!0;s>0;)(s-=3)<=0?a.unshift(i.substr(0,3+s)):u?(a.unshift(i.substr(s)),u=!1):a.unshift(i.substr(s,3));return a.join("'")},e}(),Ry=function(){function e(){}return e.prototype.ngOnInit=function(){var e=n("Sp6+");this.categoryKg=e.category_kg,this.allCreaturesLifted=e.all_creatures_lifted,this.firstDate=new Date(e.first_date),this.lastDate=new Date(e.last_date)},e}(),Cy=Ja({encapsulation:0,styles:[["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:.5em}table[_ngcontent-%COMP%]   td.center[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ccc;padding:.5em}"]],data:{}});function ky(e){return Hu(0,[(e()(),xs(0,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),Uu(1,null,[" ","x "])),(e()(),xs(2,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),Uu(3,null,["",""])),(e()(),Uu(4,null,[" ("," kg",") "])),Nu(5,1)],null,function(e,t){e(t,1,0,t.context.$implicit.count),e(t,2,0,Es(1,"",t.context.$implicit.creature.url,"")),e(t,3,0,t.context.$implicit.creature.name);var n=Ka(t,4,0,e(t,5,0,eu(t.parent,1),t.context.$implicit.creature.kg));e(t,4,0,n,t.context.$implicit.count>1?" each":"")})}function Ay(e){return Hu(0,[hu(0,Hd,[Ra]),hu(0,Ty,[]),(e()(),xs(2,0,null,null,39,"div",[],null,null,null,null,null)),(e()(),xs(3,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Uu(-1,null,["Progressing on my path to lift the Platinum Dragon!"])),(e()(),xs(5,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),Uu(6,null,["\nDuring the period "," - ",":\n"])),Nu(7,2),Nu(8,2),(e()(),xs(9,0,null,null,14,"table",[],null,null,null,null,null)),(e()(),xs(10,0,null,null,13,"tbody",[],null,null,null,null,null)),(e()(),xs(11,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),xs(12,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Uu(-1,null,["Tons lifted"])),(e()(),xs(14,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Uu(-1,null,["Creatures lifted"])),(e()(),xs(16,0,null,null,7,"tr",[],null,null,null,null,null)),(e()(),xs(17,0,null,null,2,"td",[["class","center"]],null,null,null,null,null)),(e()(),Uu(18,null,["",""])),Nu(19,4),(e()(),xs(20,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),xs(21,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Ps(16777216,null,null,1,null,ky)),pu(23,278528,null,0,jd,[ta,Go,wa],{ngForOf:[0,"ngForOf"]},null),(e()(),xs(24,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I use the awesome app"])),(e()(),xs(26,0,null,null,1,"a",[["href","https://play.google.com/store/apps/details?id=com.github.jamesgay.fitnotes&hl=en"]],null,null,null,null,null)),(e()(),Uu(-1,null,["FitNotes"])),(e()(),Uu(-1,null,[" to log my exercises and use that log for the calculations above.\n"])),(e()(),xs(29,0,null,null,12,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" No animal was hurt during the lifting (maybe their pride a little bit)."])),(e()(),xs(31,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" The sources for the creature weight list:"])),(e()(),xs(33,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),xs(34,0,null,null,1,"a",[["href","http://forgottenrealms.wikia.com/wiki/Metallic_dragon"]],null,null,null,null,null)),(e()(),Uu(-1,null,["Metallic dragons of the Forgotten Realms"])),(e()(),xs(36,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),xs(37,0,null,null,1,"a",[["href","https://en.wikipedia.org/wiki/Dinosaur_size"]],null,null,null,null,null)),(e()(),Uu(-1,null,["Dinosaur size"])),(e()(),xs(39,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),xs(40,0,null,null,1,"a",[["href","https://thewebsiteofeverything.com/animals/mammals/adult-weight.html"]],null,null,null,null,null)),(e()(),Uu(-1,null,["Adult mammals ordered by their weight"])),(e()(),xs(42,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),xs(43,0,null,null,3,"figure",[],null,null,null,null,null)),(e()(),xs(44,0,null,null,0,"img",[["alt","Egill Antonsson dealing with the the dragon's breath by wearing shades"],["class","image"],["src","../assets/Egill_Antonsson.jpg"],["title","Egill Antonsson dealing with the the dragon's breath"]],null,null,null,null,null)),(e()(),xs(45,0,null,null,1,"figcaption",[],null,null,null,null,null)),(e()(),Uu(-1,null,["Egill Antonsson dealing with the the dragon's breath"])),(e()(),xs(47,0,null,null,40,"div",[],null,null,null,null,null)),(e()(),xs(48,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Uu(-1,null,["The beginning of my strength & hyperthropy journey"])),(e()(),xs(50,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Uu(-1,null,["The first workout"])),(e()(),xs(52,0,null,null,11,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I've been lifting weights off and on since I was a 15 year old boy living in Reykjav\xedk, Iceland in 1997."])),(e()(),xs(54,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" My first gym workout was with my friend Mummi who was training kick boxing and also hitting the gym to some extend at the time."])),(e()(),xs(56,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I'd like to think that he'd forgotten that this was my first workout ever and told me \"Today we are going to DESTROY the Biceps!\"."])),(e()(),xs(58,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[' I replied enthustically "Sounds great!", and then we went on taking many sets to failure with many forced reps.'])),(e()(),xs(60,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" Little did I know that this would leave me so sore that even the lightest bump in the arms would be agonisingly painful for a WEEK!"])),(e()(),xs(62,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" This was a lesson learned for both me and Mummi in how not to begin your training.\n"])),(e()(),xs(64,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Uu(-1,null,["The first years"])),(e()(),xs(66,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" Although my first workout took weeks to recover from, I was eager to continue training for the next 3 to 4 years."])),(e()(),xs(68,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" I frequently worked out in the gym called Gym 80 with my friend and lifting partner Kalli (Mummi was more into kick boxing)."])),(e()(),xs(70,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),xs(71,0,null,null,16,"p",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" Gym 80 was founded by "])),(e()(),xs(73,0,null,null,1,"a",[["href","https://en.wikipedia.org/wiki/J\xf3n_P\xe1ll_Sigmarsson"]],null,null,null,null,null)),(e()(),Uu(-1,null,["J\xf3n P\xe1ll Sigmarsson"])),(e()(),Uu(-1,null,[" who was the first man in history to win the World Strongest Man four times."])),(e()(),xs(76,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" He is a big inspiration to me as he was the first Icelandic athlete to be the best in the world in a sport, along being charismatic and entertaining."])),(e()(),xs(78,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,[" My parents knew J\xf3n's dad and they took a photo of J\xf3n and me when I was around 6 years old.\nIn 1987 while making a strongman world record Deadlift of 523 kg, J\xf3n shouted "])),(e()(),xs(80,0,null,null,1,"a",[["href","https://vimeo.com/57172348"]],null,null,null,null,null)),(e()(),Uu(-1,null,['"There is no reason to be alive if you can\'t do deadlift!"'])),(e()(),Uu(-1,null,[","])),(e()(),xs(83,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,["\nand as fate would have it he died in 1993, 32 years of age, of cardiac arrest due to an aortic rupture while deadlifting in his gym."])),(e()(),xs(85,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Uu(-1,null,["\nSo 5 years later me and Kalli were Deadlifting, Squatting and Bench Pressing at the very same spot where J\xf3n P\xe1ll Sigmarsson the Legend had died."])),(e()(),xs(87,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),xs(88,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),xs(89,0,null,null,3,"figure",[],null,null,null,null,null)),(e()(),xs(90,0,null,null,0,"img",[["alt","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson"],["class","image"],["src","../assets/Egill_Antonsson_and_Jon_Pall.jpg"],["title","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson"]],null,null,null,null,null)),(e()(),xs(91,0,null,null,1,"figcaption",[],null,null,null,null,null)),(e()(),Uu(-1,null,["J\xf3n P\xe1ll Sigmarsson and Egill Antonsson around 1988. I'm wearing 80s top of the line clothing"]))],function(e,t){e(t,23,0,t.component.allCreaturesLifted)},function(e,t){var n=t.component,r=Ka(t,6,0,e(t,7,0,eu(t,0),n.firstDate,"d. MMMM yyyy")),o=Ka(t,6,1,e(t,8,0,eu(t,0),n.lastDate,"d. MMMM yyyy"));e(t,6,0,r,o);var i=Ka(t,18,0,e(t,19,0,eu(t,1),n.categoryKg.All,0,"/",1e3));e(t,18,0,i)})}function Oy(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"app-lift",[],null,null,null,Ay,Cy)),pu(1,114688,null,0,Ry,[],null,null)],function(e,t){e(t,1,0)},null)}var Iy=Vs("app-lift",Ry,Oy,{},{},[]),My=function(){return function(){}}(),Dy=Ja({encapsulation:2,styles:[],data:{}});function Ny(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Uu(-1,null,["Page not found for this url"]))],null,null)}function jy(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"app-pagenotfound",[],null,null,null,Ny,Dy)),pu(1,49152,null,0,My,[],null,null)],null,null)}var Ly=Vs("app-pagenotfound",My,jy,{},{},[]),Uy=Ja({encapsulation:2,styles:[],data:{}});function Fy(e){return Hu(0,[(e()(),xs(0,0,null,null,30,"div",[["class","navContainer"]],null,null,null,null,null)),(e()(),xs(1,0,null,null,0,"div",[["class","navBackground"]],null,null,null,null,null)),(e()(),xs(2,0,null,null,28,"nav",[],null,null,null,null,null)),(e()(),xs(3,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),xs(4,0,null,null,5,"a",[["routerLink","/home"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==eu(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),pu(5,671744,[[2,4]],0,Eg,[wg,dh,Gc],{routerLink:[0,"routerLink"]},null),pu(6,1720320,null,2,Pg,[wg,to,ao,ra],{routerLinkActive:[0,"routerLinkActive"]},null),ku(603979776,1,{links:1}),ku(603979776,2,{linksWithHrefs:1}),(e()(),Uu(-1,null,["Home"])),(e()(),xs(10,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),xs(11,0,null,null,5,"a",[["routerLink","/music"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==eu(e,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),pu(12,671744,[[4,4]],0,Eg,[wg,dh,Gc],{routerLink:[0,"routerLink"]},null),pu(13,1720320,null,2,Pg,[wg,to,ao,ra],{routerLinkActive:[0,"routerLinkActive"]},null),ku(603979776,3,{links:1}),ku(603979776,4,{linksWithHrefs:1}),(e()(),Uu(-1,null,["Music"])),(e()(),xs(17,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),xs(18,0,null,null,5,"a",[["routerLink","/lifting"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==eu(e,19).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),pu(19,671744,[[6,4]],0,Eg,[wg,dh,Gc],{routerLink:[0,"routerLink"]},null),pu(20,1720320,null,2,Pg,[wg,to,ao,ra],{routerLinkActive:[0,"routerLinkActive"]},null),ku(603979776,5,{links:1}),ku(603979776,6,{linksWithHrefs:1}),(e()(),Uu(-1,null,["Lifting"])),(e()(),xs(24,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),xs(25,0,null,null,5,"a",[["routerLink","/code"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==eu(e,26).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),pu(26,671744,[[8,4]],0,Eg,[wg,dh,Gc],{routerLink:[0,"routerLink"]},null),pu(27,1720320,null,2,Pg,[wg,to,ao,ra],{routerLinkActive:[0,"routerLinkActive"]},null),ku(603979776,7,{links:1}),ku(603979776,8,{linksWithHrefs:1}),(e()(),Uu(-1,null,["Code"])),(e()(),xs(31,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Uu(-1,null,["Egill Antonsson"])),(e()(),xs(33,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),pu(34,212992,null,0,Rg,[Tg,ta,Jr,[8,null],ra],null,null)],function(e,t){e(t,5,0,"/home"),e(t,6,0,"active"),e(t,12,0,"/music"),e(t,13,0,"active"),e(t,19,0,"/lifting"),e(t,20,0,"active"),e(t,26,0,"/code"),e(t,27,0,"active"),e(t,34,0)},function(e,t){e(t,4,0,eu(t,5).target,eu(t,5).href),e(t,11,0,eu(t,12).target,eu(t,12).href),e(t,18,0,eu(t,19).target,eu(t,19).href),e(t,25,0,eu(t,26).target,eu(t,26).href)})}function By(e){return Hu(0,[(e()(),xs(0,0,null,null,1,"app-root",[],null,null,null,Fy,Uy)),pu(1,49152,null,0,Jl,[],null,null)],null,null)}var Hy=Vs("app-root",Jl,By,{},{},[]),qy=function(){return function(){}}(),Vy=function(){return function(){}}(),zy=function(){function e(e){var t=this;this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){t.headers=new Map,e.split("\n").forEach(function(e){var n=e.indexOf(":");if(n>0){var r=e.slice(0,n),o=r.toLowerCase(),i=e.slice(n+1).trim();t.maybeSetNormalizedName(r,o),t.headers.has(o)?t.headers.get(o).push(i):t.headers.set(o,[i])}})}:function(){t.headers=new Map,Object.keys(e).forEach(function(n){var r=e[n],o=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(t.headers.set(o,r),t.maybeSetNormalizedName(n,o))})}:this.headers=new Map}return e.prototype.has=function(e){return this.init(),this.headers.has(e.toLowerCase())},e.prototype.get=function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null},e.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},e.prototype.getAll=function(e){return this.init(),this.headers.get(e.toLowerCase())||null},e.prototype.append=function(e,t){return this.clone({name:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({name:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({name:e,value:t,op:"d"})},e.prototype.maybeSetNormalizedName=function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)},e.prototype.init=function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))},e.prototype.copyFrom=function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})},e.prototype.clone=function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n},e.prototype.applyUpdate=function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,c(n)),this.headers.set(t,r);break;case"d":var o=e.value;if(o){var i=this.headers.get(t);if(!i)return;0===(i=i.filter(function(e){return-1===o.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,i)}else this.headers.delete(t),this.normalizedNames.delete(t)}},e.prototype.forEach=function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})},e}(),Gy=function(){function e(){}return e.prototype.encodeKey=function(e){return Ky(e)},e.prototype.encodeValue=function(e){return Ky(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();function Ky(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Wy=function(){function e(e){void 0===e&&(e={});var t,n,r,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Gy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=e.fromString,n=this.encoder,r=new Map,t.length>0&&t.split("&").forEach(function(e){var t=e.indexOf("="),o=l(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),i=o[0],a=o[1],s=r.get(i)||[];s.push(a),r.set(i,s)}),r)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(t){var n=e.fromObject[t];o.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}return e.prototype.has=function(e){return this.init(),this.map.has(e)},e.prototype.get=function(e){this.init();var t=this.map.get(e);return t?t[0]:null},e.prototype.getAll=function(e){return this.init(),this.map.get(e)||null},e.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},e.prototype.append=function(e,t){return this.clone({param:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({param:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({param:e,value:t,op:"d"})},e.prototype.toString=function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).join("&")},e.prototype.clone=function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n},e.prototype.init=function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],o=r.indexOf(t.value);-1!==o&&r.splice(o,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=null)},e}();function Qy(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Jy(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Zy(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Yy=function(){function e(e,t,n,r){var o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new zy),this.params){var i=this.params.toString();if(0===i.length)this.urlWithParams=t;else{var a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+i}}else this.params=new Wy,this.urlWithParams=t}return e.prototype.serializeBody=function(){return null===this.body?null:Qy(this.body)||Jy(this.body)||Zy(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},e.prototype.detectContentTypeHeader=function(){return null===this.body?null:Zy(this.body)?null:Jy(this.body)?this.body.type||null:Qy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},e.prototype.clone=function(t){void 0===t&&(t={});var n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},u)),t.setParams&&(l=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},l)),new e(n,r,i,{params:l,headers:u,reportProgress:s,responseType:o,withCredentials:a})},e}(),Xy=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),$y=function(){return function(e,t,n){void 0===t&&(t=200),void 0===n&&(n="OK"),this.headers=e.headers||new zy,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}(),ev=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=Xy.ResponseHeader,n}return o(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}($y),tv=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=Xy.Response,n.body=void 0!==t.body?t.body:null,n}return o(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}($y),nv=function(e){function t(t){var n=e.call(this,t,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for "+(t.url||"(unknown url)")+": "+t.status+" "+t.statusText,n.error=t.error||null,n}return o(t,e),t}($y);function rv(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var ov=function(){function e(e){this.handler=e}return e.prototype.request=function(e,t,n){var r,o=this;if(void 0===n&&(n={}),e instanceof Yy)r=e;else{var i;i=n.headers instanceof zy?n.headers:new zy(n.headers);var a=void 0;n.params&&(a=n.params instanceof Wy?n.params:new Wy({fromObject:n.params})),r=new Yy(e,t,void 0!==n.body?n.body:null,{headers:i,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var s=$l(r).pipe(Bc(function(e){return o.handler.handle(e)}));if(e instanceof Yy||"events"===n.observe)return s;var u=s.pipe(uc(function(e){return e instanceof tv}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.pipe(ee(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(ee(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(ee(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(ee(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},e.prototype.delete=function(e,t){return void 0===t&&(t={}),this.request("DELETE",e,t)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request("GET",e,t)},e.prototype.head=function(e,t){return void 0===t&&(t={}),this.request("HEAD",e,t)},e.prototype.jsonp=function(e,t){return this.request("JSONP",e,{params:(new Wy).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},e.prototype.options=function(e,t){return void 0===t&&(t={}),this.request("OPTIONS",e,t)},e.prototype.patch=function(e,t,n){return void 0===n&&(n={}),this.request("PATCH",e,rv(n,t))},e.prototype.post=function(e,t,n){return void 0===n&&(n={}),this.request("POST",e,rv(n,t))},e.prototype.put=function(e,t,n){return void 0===n&&(n={}),this.request("PUT",e,rv(n,t))},e}(),iv=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}(),av=new Ce("HTTP_INTERCEPTORS"),sv=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e}(),uv=/^\)\]\}',?\n/,lv=function(){return function(){}}(),cv=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}(),dv=function(){function e(e){this.xhrFactory=e}return e.prototype.handle=function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new M(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var o=e.detectContentTypeHeader();null!==o&&r.setRequestHeader("Content-Type",o)}if(e.responseType){var i=e.responseType.toLowerCase();r.responseType="json"!==i?i:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",o=new zy(r.getAllResponseHeaders()),i=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new ev({headers:o,status:t,statusText:n,url:i})},l=function(){var t=u(),o=t.headers,i=t.status,a=t.statusText,s=t.url,l=null;204!==i&&(l=void 0===r.response?r.responseText:r.response),0===i&&(i=l?200:0);var c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){var d=l;l=l.replace(uv,"");try{l=""!==l?JSON.parse(l):null}catch(f){l=d,c&&(c=!1,l={error:f,text:l})}}c?(n.next(new tv({body:l,headers:o,status:i,statusText:a,url:s||void 0})),n.complete()):n.error(new nv({error:l,headers:o,status:i,statusText:a,url:s||void 0}))},c=function(e){var t=u().url,o=new nv({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(o)},d=!1,f=function(t){d||(n.next(u()),d=!0);var o={type:Xy.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(o.total=t.total),"text"===e.responseType&&r.responseText&&(o.partialText=r.responseText),n.next(o)},p=function(e){var t={type:Xy.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",l),r.addEventListener("error",c),e.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:Xy.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",l),e.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.abort()}})},e}(),fv=new Ce("XSRF_COOKIE_NAME"),pv=new Ce("XSRF_HEADER_NAME"),hv=function(){return function(){}}(),gv=function(){function e(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return e.prototype.getToken=function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Md(e,this.cookieName),this.lastCookieString=e),this.lastToken},e}(),yv=function(){function e(e,t){this.tokenService=e,this.headerName=t}return e.prototype.intercept=function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)},e}(),vv=function(){function e(e,t){this.backend=e,this.injector=t,this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var t=this.injector.get(av,[]);this.chain=t.reduceRight(function(e,t){return new iv(e,t)},this.backend)}return this.chain.handle(e)},e}(),_v=function(){function e(){}var t;return t=e,e.disable=function(){return{ngModule:t,providers:[{provide:yv,useClass:sv}]}},e.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:fv,useValue:e.cookieName}:[],e.headerName?{provide:pv,useValue:e.headerName}:[]]}},e}(),mv=function(){return function(){}}(),bv=function(){return function(){}}(),wv=Kl(Ql,[Jl],function(e){return function(e){for(var t={},n=[],r=!1,o=0;o<e.length;o++){var i=e[o];i.token===Or&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=o,t[Ga(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Ds(512,Jr,Zr,[[8,[Xg,ry,uy,xy,Iy,Ly,Hy]],[3,Jr],Xr]),Ds(5120,Ra,Aa,[[3,Ra]]),Ds(4608,Od,Id,[Ra,[2,Ad]]),Ds(5120,li,ci,[]),Ds(5120,wa,Ca,[]),Ds(5120,Ea,ka,[]),Ds(4608,Kf,Wf,[Vd]),Ds(6144,lo,null,[Kf]),Ds(4608,Ff,Hf,[]),Ds(5120,ff,function(e,t,n,r,o,i,a,s){return[new Lf(e,t,n),new Gf(r),new qf(o,i,a,s)]},[Vd,Ai,pi,Vd,Vd,Ff,gi,[2,Bf]]),Ds(4608,pf,pf,[ff,Ai]),Ds(135680,yf,yf,[Vd]),Ds(4608,Sf,Sf,[pf,yf]),Ds(6144,oo,null,[Sf]),Ds(6144,gf,null,[yf]),Ds(4608,Ui,Ui,[Ai]),Ds(5120,dh,zg,[wg]),Ds(4608,Og,Og,[]),Ds(6144,kg,null,[Og]),Ds(135680,Ig,Ig,[wg,Jo,Si,vr,kg]),Ds(4608,Ag,Ag,[]),Ds(5120,Mg,Fg,[wg,Gd,Dg]),Ds(5120,Qg,Wg,[Gg]),Ds(5120,hi,function(e){return[e]},[Qg]),Ds(4608,hv,gv,[Vd,pi,fv]),Ds(4608,yv,yv,[hv,pv]),Ds(5120,av,function(e){return[e]},[yv]),Ds(4608,cv,cv,[]),Ds(6144,lv,null,[cv]),Ds(4608,dv,dv,[lv]),Ds(6144,Vy,null,[dv]),Ds(4608,qy,vv,[Vy,vr]),Ds(4608,ov,ov,[qy]),Ds(1073742336,qd,qd,[]),Ds(1024,oi,tp,[]),Ds(1024,qi,function(){return[Lg()]},[]),Ds(512,Gg,Gg,[vr]),Ds(1024,si,function(e,t){return[(n=e,lf("probe",df),lf("coreTokens",i({},cf,(n||[]).reduce(function(e,t){return e[t.name]=t.token,e},{}))),function(){return df}),Kg(t)];var n},[[2,qi],Gg]),Ds(512,ui,ui,[[2,si]]),Ds(131584,Wi,Wi,[Ai,gi,vr,oi,Jr,ui]),Ds(1073742336,Oa,Oa,[Wi]),Ds(1073742336,np,np,[[3,np]]),Ds(1024,Ng,Hg,[[3,wg]]),Ds(512,Vp,zp,[]),Ds(512,Tg,Tg,[]),Ds(256,Dg,{enableTracing:!1},[]),Ds(1024,Gc,Bg,[Vc,[2,Kc],Dg]),Ds(512,Wc,Wc,[Gc]),Ds(512,Si,Si,[]),Ds(512,Jo,Xi,[Si,[2,Zi]]),Ds(1024,hg,function(){return[[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:$g},{path:"code",component:oy},{path:"music",component:dy},{path:"lifting",component:Ry},{path:"**",component:My}]]},[]),Ds(1024,wg,Vg,[Wi,Vp,Tg,Wc,vr,Jo,Si,hg,Dg,[2,yg],[2,fg]]),Ds(1073742336,Ug,Ug,[[2,Ng],[2,wg]]),Ds(1073742336,bv,bv,[]),Ds(1073742336,_v,_v,[]),Ds(1073742336,mv,mv,[]),Ds(1073742336,Ql,Ql,[]),Ds(256,Or,!0,[]),Ds(256,fv,"XSRF-TOKEN",[]),Ds(256,pv,"X-XSRF-TOKEN",[])])});(function(){if(bo)throw new Error("Cannot enable prod mode after platform setup.");mo=!1})(),ep().bootstrapModuleFactory(wv)}},[[0,0]]]);